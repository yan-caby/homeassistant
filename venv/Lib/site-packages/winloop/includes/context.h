#ifndef _WINLOOP_CONTEXT_H_
#define _WINLOOP_CONTEXT_H_

/* Used to help pass along python's api to Contextvar's features in C...*/
#include "Python.h"

 
#if PY_VERSION_HEX < 0x03070100

    PyObject * Context_CopyCurrent(void) {
        return (PyObject *)PyContext_CopyCurrent();
    };

    int Context_Enter(PyObject *ctx) {
        return PyContext_Enter((PyContext *)ctx);
    }

    int Context_Exit(PyObject *ctx) {
        return PyContext_Exit((PyContext *)ctx);
    }

#else

    PyObject * Context_CopyCurrent(void) {
        return PyContext_CopyCurrent();
    };

    int Context_Enter(PyObject *ctx) {
        return PyContext_Enter(ctx);
    }

    int Context_Exit(PyObject *ctx) {
        return PyContext_Exit(ctx);
    }


#endif  
#endif /* _WINLOOP_CONTEXT_H_ */
