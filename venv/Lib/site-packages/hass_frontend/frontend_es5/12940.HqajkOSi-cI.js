"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[12940],{96516:function(e,n,t){t.d(n,{m:function(){return i}});var i=function(e,n){var t=matchMedia(e),i=function(e){return n(e.matches)};return t.addListener(i),n(t.matches),function(){return t.removeListener(i)}}},60368:function(e,n,t){t.d(n,{Wx:function(){return l},XH:function(){return d},db:function(){return h},lB:function(){return v}});var i=t(66123),r=t(61780),o=(t(77052),t(69466),t(53501),t(21950),t(36724),t(71936),t(650),t(43859),t(68113),t(57733),t(34517),t(56262),t(66274),t(38129),t(85038),t(84531),t(98168),t(22836),t(15445),t(24483),t(13478),t(46355),t(14612),t(53691),t(48455),t(34290),t(8339),t(68286)),s=t(55970),a=t(83378);function u(e,n){var t;if((0,s.n)(n)&&e.states[n])return null===(t=e.states[n])||void 0===t?void 0:t.state}function c(e,n){var t,i=e.entity&&n.states[e.entity]?n.states[e.entity].state:a.Hh,s=null!==(t=e.state)&&void 0!==t?t:e.state_not;if(Array.isArray(s)){var c=s.map((function(e){return u(n,e)})).filter((function(e){return void 0!==e}));s=[].concat((0,r.A)(s),(0,r.A)(c))}else if("string"==typeof s){var d=u(n,s);s=[s],d&&s.push(d)}return null!=e.state?(0,o.e)(s).includes(i):!(0,o.e)(s).includes(i)}function d(e,n){return e.every((function(e){if("condition"in e)switch(e.condition){case"screen":return!!(t=e).media_query&&matchMedia(t.media_query).matches;case"user":return function(e,n){var t;return!(!e.users||null===(t=n.user)||void 0===t||!t.id)&&e.users.includes(n.user.id)}(e,n);case"numeric_state":return function(e,n){var t,i,r,o=null===(t=e.entity?n.states[e.entity]:void 0)||void 0===t?void 0:t.state,s=e.above,a=e.below;"string"==typeof s&&(s=null!==(i=u(n,s))&&void 0!==i?i:s),"string"==typeof a&&(a=null!==(r=u(n,a))&&void 0!==r?r:a);var c=Number(o),d=Number(s),l=Number(a);return!isNaN(c)&&(null==e.above||isNaN(d)||d<c)&&(null==e.below||isNaN(l)||l>c)}(e,n);case"and":return function(e,n){return!e.conditions||d(e.conditions,n)}(e,n);case"or":return function(e,n){return!e.conditions||e.conditions.some((function(e){return d([e],n)}))}(e,n);default:return c(e,n)}var t;return c(e,n)}))}function l(e){var n,t=new Set,a=(0,i.A)(e);try{for(a.s();!(n=a.n()).done;){var u=n.value;if("numeric_state"===u.condition)"string"==typeof u.above&&(0,s.n)(u.above)&&t.add(u.above),"string"==typeof u.below&&(0,s.n)(u.below)&&t.add(u.below);else if("state"===u.condition){var c,d;[].concat((0,r.A)(null!==(c=(0,o.e)(u.state))&&void 0!==c?c:[]),(0,r.A)(null!==(d=(0,o.e)(u.state_not))&&void 0!==d?d:[])).forEach((function(e){e&&(0,s.n)(e)&&t.add(e)}))}else if("conditions"in u&&u.conditions)return new Set([].concat((0,r.A)(t),(0,r.A)(l(u.conditions))))}}catch(f){a.e(f)}finally{a.f()}return t}function f(e){return null!=e.entity&&(null!=e.state||null!=e.state_not)}function h(e){return e.every((function(e){if("condition"in e)switch(e.condition){case"screen":return null!=e.media_query;case"user":return function(e){return null!=e.users}(e);case"numeric_state":return function(e){return null!=e.entity&&(null!=e.above||null!=e.below)}(e);case"and":case"or":return function(e){return null!=e.conditions}(e);default:return f(e)}return f(e)}))}function v(e,n){return"conditions"in e&&e.conditions?Object.assign(Object.assign({},e),{},{conditions:e.conditions.map((function(e){return v(e,n)}))}):"state"===e.condition||"numeric_state"===e.condition?Object.assign(Object.assign({},e),{},{entity:n}):e}},3414:function(e,n,t){t.d(n,{E:function(){return _}});var i=t(36683),r=t(89231),o=t(29864),s=t(83647),a=t(8364),u=t(76504),c=t(80792),d=t(61780),l=(t(27934),t(77052),t(71936),t(19954),t(68113),t(66274),t(84531),t(91078),t(34290),t(40924)),f=t(196),h=t(96516),v=t(61314),m=t(60368);function y(e){return e.reduce((function(e,n){return"conditions"in n&&n.conditions&&e.push.apply(e,(0,d.A)(y(n.conditions))),"condition"in n&&"screen"===n.condition&&n.media_query&&e.push(n.media_query),e}),[])}var _=(0,a.A)([(0,f.EM)("hui-conditional-base")],(function(e,n){var t=function(n){function t(){var n;(0,r.A)(this,t);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=(0,o.A)(this,t,[].concat(s)),e(n),n}return(0,s.A)(t,n),(0,i.A)(t)}(n);return{F:t,d:[{kind:"field",decorators:[(0,f.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,f.MZ)({type:Boolean})],key:"editMode",value:function(){return!1}},{kind:"field",decorators:[(0,f.wk)()],key:"_config",value:void 0},{kind:"field",key:"_element",value:void 0},{kind:"field",key:"_mediaQueriesListeners",value:function(){return[]}},{kind:"field",key:"_mediaQueries",value:function(){return[]}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"validateConfig",value:function(e){if(!e.conditions)throw new Error("No conditions configured");if(!Array.isArray(e.conditions))throw new Error("Conditions need to be an array");if(!(0,m.db)(e.conditions))throw new Error("Conditions are invalid");this.lastChild&&this.removeChild(this.lastChild),this._config=e}},{kind:"method",key:"disconnectedCallback",value:function(){(0,u.A)((0,c.A)(t.prototype),"disconnectedCallback",this).call(this),this._clearMediaQueries()}},{kind:"method",key:"connectedCallback",value:function(){(0,u.A)((0,c.A)(t.prototype),"connectedCallback",this).call(this),this._listenMediaQueries(),this._updateVisibility()}},{kind:"method",key:"_clearMediaQueries",value:function(){for(this._mediaQueries=[];this._mediaQueriesListeners.length;)this._mediaQueriesListeners.pop()()}},{kind:"method",key:"_listenMediaQueries",value:function(){var e=this;if(this._config){var n=y(this._config.conditions);if(!(0,v.b)(n,this._mediaQueries)){for(this._mediaQueries=n;this._mediaQueriesListeners.length;)this._mediaQueriesListeners.pop()();n.forEach((function(n){var t=(0,h.m)(n,(function(n){1===e._config.conditions.length&&"condition"in e._config.conditions[0]&&"screen"===e._config.conditions[0].condition?e._setVisibility(n):e._updateVisibility()}));e._mediaQueriesListeners.push(t)}))}}}},{kind:"method",key:"update",value:function(e){(0,u.A)((0,c.A)(t.prototype),"update",this).call(this,e),(e.has("_element")||e.has("_config")||e.has("hass"))&&(this._listenMediaQueries(),this._updateVisibility())}},{kind:"method",key:"_updateVisibility",value:function(){if(this._element&&this.hass&&this._config){this._element.editMode=this.editMode;var e=(0,m.XH)(this._config.conditions,this.hass);this._setVisibility(e)}}},{kind:"method",key:"_setVisibility",value:function(e){if(this._element&&this.hass){var n=this.editMode||e;this.toggleAttribute("hidden",!n),this.style.setProperty("display",n?"":"none"),n?(this._element.hass=this.hass,this._element.parentElement||this.appendChild(this._element)):this._element.parentElement&&this.removeChild(this._element)}}}]}}),l.mN)},12940:function(e,n,t){var i=t(1781),r=t(94881);t.a(e,function(){var e=i(r().mark((function e(i,o){var s,a,u,c,d,l,f,h,v,m,y,_;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.r(n),s=t(36683),a=t(89231),u=t(29864),c=t(83647),d=t(8364),l=t(27934),t.n(l),f=t(77052),t.n(f),h=t(43859),t.n(h),v=t(196),m=t(3414),y=t(52398),!(_=i([y])).then){e.next=24;break}return e.next=20,_;case 20:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=25;break;case 24:e.t0=_;case 25:y=e.t0[0],(0,d.A)([(0,v.EM)("hui-conditional-row")],(function(e,n){var t=function(n){function t(){var n;(0,a.A)(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(0,u.A)(this,t,[].concat(r)),e(n),n}return(0,c.A)(t,n),(0,s.A)(t)}(n);return{F:t,d:[{kind:"method",key:"setConfig",value:function(e){if(this.validateConfig(e),!e.row)throw new Error("No row configured");this._element=(0,y.T)(e.state_color?Object.assign({state_color:!0},e.row):e.row)}}]}}),m.E),o(),e.next=33;break;case 30:e.prev=30,e.t2=e.catch(0),o(e.t2);case 33:case"end":return e.stop()}}),e,null,[[0,30]])})));return function(n,t){return e.apply(this,arguments)}}())}}]);
//# sourceMappingURL=12940.HqajkOSi-cI.js.map