"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[40624],{36471:function(e,a,n){n.d(a,{_:function(){return u}});var t=n(539),i=n(89231),r=n(36683),s=n(29864),o=n(83647),c=(n(27934),n(21968),n(68113),n(66274),n(84531),n(34290),n(40924)),l=n(3358),u=(0,l.u$)(function(e){function a(e){var n;if((0,i.A)(this,a),(n=(0,s.A)(this,a,[e]))._element=void 0,e.type!==l.OA.CHILD)throw new Error("dynamicElementDirective can only be used in content bindings");return n}return(0,o.A)(a,e),(0,r.A)(a,[{key:"update",value:function(e,a){var n=this,i=(0,t.A)(a,2),r=i[0],s=i[1];return this._element&&this._element.localName===r?(s&&Object.entries(s).forEach((function(e){var a=(0,t.A)(e,2),i=a[0],r=a[1];n._element[i]=r})),c.c0):this.render(r,s)}},{key:"render",value:function(e,a){var n=this;return this._element=document.createElement(e),a&&Object.entries(a).forEach((function(e){var a=(0,t.A)(e,2),i=a[0],r=a[1];n._element[i]=r})),this._element}}])}(l.WL))},11522:function(e,a,n){n.r(a),n.d(a,{HuiAreaCardEditor:function(){return w}});var t,i=n(6238),r=n(94881),s=n(1781),o=n(61780),c=n(36683),l=n(89231),u=n(29864),d=n(83647),h=n(8364),_=(n(77052),n(69466),n(53501),n(21950),n(36724),n(14460),n(848),n(43859),n(68113),n(84368),n(57733),n(34517),n(56262),n(66274),n(85038),n(98168),n(15445),n(24483),n(13478),n(46355),n(14612),n(53691),n(48455),n(8339),n(40924)),v=n(196),f=n(45081),m=n(63428),p=n(77664),k=(n(23006),n(86181)),A=n(2977),y=n(47038),b=n(95507),g=n(96951),C=(0,m.kp)(A.H,(0,m.Ik)({area:(0,m.lq)((0,m.Yj)()),navigation_path:(0,m.lq)((0,m.Yj)()),theme:(0,m.lq)((0,m.Yj)()),show_camera:(0,m.lq)((0,m.zM)()),camera_view:(0,m.lq)((0,m.Yj)()),aspect_ratio:(0,m.lq)((0,m.Yj)()),alert_classes:(0,m.lq)((0,m.YO)((0,m.Yj)())),sensor_classes:(0,m.lq)((0,m.YO)((0,m.Yj)()))})),w=(0,h.A)([(0,v.EM)("hui-area-card-editor")],(function(e,a){var n,h=function(a){function n(){var a;(0,l.A)(this,n);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return a=(0,u.A)(this,n,[].concat(i)),e(a),a}return(0,d.A)(n,a),(0,c.A)(n)}(a);return{F:h,d:[{kind:"field",decorators:[(0,v.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,v.wk)()],key:"_config",value:void 0},{kind:"field",decorators:[(0,v.wk)()],key:"_numericDeviceClasses",value:void 0},{kind:"field",key:"_schema",value:function(){return(0,f.A)((function(e,a,n){return[{name:"area",selector:{area:{}}},{name:"show_camera",required:!1,selector:{boolean:{}}}].concat((0,o.A)(e?[{name:"camera_view",selector:{select:{options:["auto","live"]}}}]:[]),[{name:"",type:"grid",schema:[{name:"navigation_path",required:!1,selector:{navigation:{}}},{name:"theme",required:!1,selector:{theme:{}}},{name:"aspect_ratio",default:k.DEFAULT_ASPECT_RATIO,selector:{text:{}}}]},{name:"alert_classes",selector:{select:{reorder:!0,multiple:!0,custom_value:!0,options:a}}},{name:"sensor_classes",selector:{select:{reorder:!0,multiple:!0,custom_value:!0,options:n}}}])}))}},{kind:"field",key:"_binaryClassesForArea",value:function(){var e=this;return(0,f.A)((function(a){return e._classesForArea(a,"binary_sensor")}))}},{kind:"field",key:"_sensorClassesForArea",value:function(){var e=this;return(0,f.A)((function(a,n){return e._classesForArea(a,"sensor",n)}))}},{kind:"method",key:"_classesForArea",value:function(e,a,n){var t=this,i=Object.values(this.hass.entities).filter((function(n){return(0,y.m)(n.entity_id)===a&&!n.entity_category&&!n.hidden&&(n.area_id===e||n.device_id&&t.hass.devices[n.device_id].area_id===e)})).map((function(e){var a;return(null===(a=t.hass.states[e.entity_id])||void 0===a?void 0:a.attributes.device_class)||""})).filter((function(e){return e&&("sensor"!==a||!n||n.includes(e))}));return(0,o.A)(new Set(i))}},{kind:"field",key:"_buildBinaryOptions",value:function(){var e=this;return(0,f.A)((function(a,n){return e._buildOptions("binary_sensor",a,n)}))}},{kind:"field",key:"_buildSensorOptions",value:function(){var e=this;return(0,f.A)((function(a,n){return e._buildOptions("sensor",a,n)}))}},{kind:"method",key:"_buildOptions",value:function(e,a,n){var t=this,i=(0,o.A)(new Set([].concat((0,o.A)(a),(0,o.A)(n)))).map((function(a){return{value:a,label:t.hass.localize("component.".concat(e,".entity_component.").concat(a,".name"))||a}}));return i.sort((function(e,a){return(0,b.S)(e.label,a.label,t.hass.locale.language)})),i}},{kind:"method",key:"setConfig",value:function(e){(0,m.vA)(e,C),this._config=e}},{kind:"method",key:"updated",value:(n=(0,s.default)((0,r.default)().mark((function e(){var a,n;return(0,r.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.hass||this._numericDeviceClasses){e.next=6;break}return e.next=3,(0,g.KL)(this.hass);case 3:a=e.sent,n=a.numeric_device_classes,this._numericDeviceClasses=n;case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{kind:"method",key:"render",value:function(){if(!this.hass||!this._config)return _.s6;var e=this._binaryClassesForArea(this._config.area||""),a=this._sensorClassesForArea(this._config.area||"",this._numericDeviceClasses),n=this._buildBinaryOptions(e,this._config.alert_classes||k.DEVICE_CLASSES.binary_sensor),r=this._buildSensorOptions(a,this._config.sensor_classes||k.DEVICE_CLASSES.sensor),s=this._schema(this._config.show_camera||!1,n,r),o=Object.assign({camera_view:"auto",alert_classes:k.DEVICE_CLASSES.binary_sensor,sensor_classes:k.DEVICE_CLASSES.sensor},this._config);return(0,_.qy)(t||(t=(0,i.A)([' <ha-form .hass="','" .data="','" .schema="','" .computeLabel="','" @value-changed="','"></ha-form> '])),this.hass,o,s,this._computeLabelCallback,this._valueChanged)}},{kind:"method",key:"_valueChanged",value:function(e){var a=e.detail.value;a.show_camera||delete a.camera_view,(0,p.r)(this,"config-changed",{config:a})}},{kind:"field",key:"_computeLabelCallback",value:function(){var e=this;return function(a){switch(a.name){case"theme":return"".concat(e.hass.localize("ui.panel.lovelace.editor.card.generic.theme")," (").concat(e.hass.localize("ui.panel.lovelace.editor.card.config.optional"),")");case"area":return e.hass.localize("ui.panel.lovelace.editor.card.area.name");case"navigation_path":return e.hass.localize("ui.panel.lovelace.editor.action-editor.navigation_path");case"aspect_ratio":return e.hass.localize("ui.panel.lovelace.editor.card.generic.aspect_ratio");case"camera_view":return e.hass.localize("ui.panel.lovelace.editor.card.generic.camera_view")}return e.hass.localize("ui.panel.lovelace.editor.card.area.".concat(a.name))}}}]}}),_.WF)},2977:function(e,a,n){n.d(a,{H:function(){return i}});var t=n(63428),i=(0,t.Ik)({type:(0,t.Yj)(),view_layout:(0,t.bz)(),layout_options:(0,t.bz)()})}}]);
//# sourceMappingURL=40624.thJmfuItrEU.js.map