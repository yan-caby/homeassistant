"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[91020],{4596:function(e,t,r){r.r(t),r.d(t,{HaCircularProgress:function(){return y}});var i,n=r(6238),a=r(61780),s=r(36683),c=r(89231),o=r(29864),d=r(83647),l=r(8364),u=r(76504),h=r(80792),p=(r(77052),r(8600),r(57305)),v=r(40924),f=r(196),y=(0,l.A)([(0,f.EM)("ha-circular-progress")],(function(e,t){var r=function(t){function r(){var t;(0,c.A)(this,r);for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=(0,o.A)(this,r,[].concat(n)),e(t),t}return(0,d.A)(r,t),(0,s.A)(r)}(t);return{F:r,d:[{kind:"field",decorators:[(0,f.MZ)({attribute:"aria-label",type:String})],key:"ariaLabel",value:function(){return"Loading"}},{kind:"field",decorators:[(0,f.MZ)()],key:"size",value:function(){return"medium"}},{kind:"method",key:"updated",value:function(e){if((0,u.A)((0,h.A)(r.prototype),"updated",this).call(this,e),e.has("size"))switch(this.size){case"tiny":this.style.setProperty("--md-circular-progress-size","16px");break;case"small":this.style.setProperty("--md-circular-progress-size","28px");break;case"medium":this.style.setProperty("--md-circular-progress-size","48px");break;case"large":this.style.setProperty("--md-circular-progress-size","68px")}}},{kind:"field",static:!0,key:"styles",value:function(){return[].concat((0,a.A)((0,u.A)((0,h.A)(r),"styles",this)),[(0,v.AH)(i||(i=(0,n.A)([":host{--md-sys-color-primary:var(--primary-color);--md-circular-progress-size:48px}"])))])}}]}}),p.U)},27602:function(e,t,r){r.d(t,{S_:function(){return c},Xd:function(){return o},lZ:function(){return d}});r(53501),r(21950),r(1158),r(68113),r(57733),r(56262),r(66274),r(84531),r(15445),r(24483),r(13478),r(46355),r(14612),r(53691),r(48455),r(34290),r(8339);var i=["zone","persistent_notification"],n=function(e,t){var r,i,n,a,s,c,o,d;if("call-service"===t.action&&(null!==(r=t.target)&&void 0!==r&&r.entity_id||null!==(i=t.service_data)&&void 0!==i&&i.entity_id||null!==(n=t.data)&&void 0!==n&&n.entity_id)){var l=null!==(a=null!==(s=null===(c=t.service_data)||void 0===c?void 0:c.entity_id)&&void 0!==s?s:null===(o=t.data)||void 0===o?void 0:o.entity_id)&&void 0!==a?a:null===(d=t.target)||void 0===d?void 0:d.entity_id;Array.isArray(l)||(l=[l]);for(var u=0,h=l;u<h.length;u++){var p=h[u];e.add(p)}}},a=function(e,t){"string"!=typeof t?(t.entity&&e.add(t.entity),t.camera_image&&e.add(t.camera_image),t.tap_action&&n(e,t.tap_action),t.hold_action&&n(e,t.hold_action)):e.add(t)},s=function e(t,r){r.entity&&a(t,r.entity),r.entities&&Array.isArray(r.entities)&&r.entities.forEach((function(e){return a(t,e)})),r.card&&e(t,r.card),r.cards&&Array.isArray(r.cards)&&r.cards.forEach((function(r){return e(t,r)})),r.elements&&Array.isArray(r.elements)&&r.elements.forEach((function(r){return e(t,r)})),r.badges&&Array.isArray(r.badges)&&r.badges.forEach((function(e){return a(t,e)}))},c=function(e){var t=new Set;return e.views.forEach((function(e){return s(t,e)})),t},o=function(e,t){for(var r=new Set,n=0,a=Object.keys(e.states);n<a.length;n++){var s=a[n];t.has(s)||i.includes(s.split(".",1)[0])||r.add(s)}return r},d=function(e,t){var r=c(t);return o(e,r)}},68639:function(e,t,r){var i=r(1781),n=r(94881);r.a(e,function(){var e=i(n().mark((function e(t,i){var a,s,c,o,d,l,u,h,p,v,f,y,m,g,k,_,w,b,x,E,A,C,z,S,P,q,M,R,j,H,O,I,U,Z,L,N,F,J,T,W,D,X,B,Y,G,K,Q,V,$,ee,te,re,ie,ne;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=r(94881),s=r(1781),c=r(61780),o=r(6238),d=r(36683),l=r(89231),u=r(29864),h=r(83647),p=r(8364),v=r(8485),r.n(v),f=r(98809),r.n(f),y=r(77052),r.n(y),m=r(69466),r.n(m),g=r(53501),r.n(g),k=r(36724),r.n(k),_=r(14460),r.n(_),w=r(848),r.n(w),b=r(43859),r.n(b),x=r(68113),r.n(x),E=r(26777),r.n(E),A=r(34517),r.n(A),C=r(85812),r.n(C),z=r(66274),r.n(z),S=r(85038),r.n(S),P=r(98168),r.n(P),q=r(62223),M=r(40924),R=r(196),j=r(69760),H=r(80204),O=r(86625),I=r(45081),U=r(24930),Z=r(77664),L=r(95507),r(4596),r(95492),N=r(83378),F=r(32990),J=r(27602),T=r(50308),W=r(61323),D=r(18771),!(X=t([T,W])).then){e.next=68;break}return e.next=64,X;case 64:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=69;break;case 68:e.t0=X;case 69:B=e.t0,T=B[0],W=B[1],(0,p.A)([(0,R.EM)("hui-card-picker")],(function(e,t){var r,i=function(t){function r(){var t;(0,l.A)(this,r);for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=(0,u.A)(this,r,[].concat(n)),e(t),t}return(0,h.A)(r,t),(0,d.A)(r)}(t);return{F:i,d:[{kind:"field",decorators:[(0,R.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,R.MZ)({attribute:!1})],key:"suggestedCards",value:void 0},{kind:"field",decorators:[(0,U.I)({key:"lovelaceClipboard",state:!0,subscribe:!0,storage:"sessionStorage"})],key:"_clipboard",value:void 0},{kind:"field",decorators:[(0,R.wk)()],key:"_cards",value:function(){return[]}},{kind:"field",key:"lovelace",value:void 0},{kind:"field",key:"cardPicked",value:void 0},{kind:"field",decorators:[(0,R.wk)()],key:"_filter",value:function(){return""}},{kind:"field",decorators:[(0,R.wk)()],key:"_width",value:void 0},{kind:"field",decorators:[(0,R.wk)()],key:"_height",value:void 0},{kind:"field",key:"_unusedEntities",value:void 0},{kind:"field",key:"_usedEntities",value:void 0},{kind:"field",key:"_filterCards",value:function(){return(0,I.A)((function(e,t){if(!t)return e;var r=e.map((function(e){return e.card})),i={keys:["type","name","description"],isCaseSensitive:!1,minMatchCharLength:Math.min(t.length,2),threshold:.2},n=new q.A(r,i);return r=n.search(t).map((function(e){return e.item})),e.filter((function(e){return r.includes(e.card)}))}))}},{kind:"field",key:"_suggestedCards",value:function(){return(0,I.A)((function(e){return e.filter((function(e){return e.card.isSuggested}))}))}},{kind:"field",key:"_customCards",value:function(){return(0,I.A)((function(e){return e.filter((function(e){return e.card.isCustom&&!e.card.isSuggested}))}))}},{kind:"field",key:"_otherCards",value:function(){return(0,I.A)((function(e){return e.filter((function(e){return!e.card.isSuggested&&!e.card.isCustom}))}))}},{kind:"method",key:"render",value:function(){if(!(this.hass&&this.lovelace&&this._unusedEntities&&this._usedEntities))return M.s6;var e=this._suggestedCards(this._cards),t=this._otherCards(this._cards),r=this._customCards(this._cards);return(0,M.qy)(Y||(Y=(0,o.A)([' <search-input .hass="','" .filter="','" @value-changed="','" .label="','"></search-input> <div id="content" style="','"> <div class="cards-container"> ',' </div> <div class="cards-container"> <div class="card manual" @click="','" .config="','"> <div class="card-header"> ',' </div> <div class="preview description"> '," </div> </div> </div> </div> "])),this.hass,this._filter,this._handleSearchChange,this.hass.localize("ui.panel.lovelace.editor.edit_card.search_cards"),(0,H.W)({width:this._width?"".concat(this._width,"px"):"auto",height:this._height?"".concat(this._height,"px"):"auto"}),this._filter?this._filterCards(this._cards,this._filter).map((function(e){return e.element})):(0,M.qy)(G||(G=(0,o.A)([" "," "," "," "," "," "," "," "])),e.length>0?(0,M.qy)(K||(K=(0,o.A)([' <div class="cards-container-header"> '," </div> "])),this.hass.localize("ui.panel.lovelace.editor.card.generic.suggested_cards")):M.s6,this._renderClipboardCard(),e.map((function(e){return e.element})),e.length>0?(0,M.qy)(Q||(Q=(0,o.A)([' <div class="cards-container-header"> '," </div> "])),this.hass.localize("ui.panel.lovelace.editor.card.generic.other_cards")):M.s6,t.map((function(e){return e.element})),r.length>0?(0,M.qy)(V||(V=(0,o.A)([' <div class="cards-container-header"> '," </div> "])),this.hass.localize("ui.panel.lovelace.editor.card.generic.custom_cards")):M.s6,r.map((function(e){return e.element}))),this._cardPicked,{type:""},this.hass.localize("ui.panel.lovelace.editor.card.generic.manual"),this.hass.localize("ui.panel.lovelace.editor.card.generic.manual_description"))}},{kind:"method",key:"shouldUpdate",value:function(e){var t=e.get("hass");return!t||t.locale!==this.hass.locale}},{kind:"method",key:"firstUpdated",value:function(){var e=this;if(this.hass&&this.lovelace){var t=(0,J.S_)(this.lovelace),r=(0,J.Xd)(this.hass,t);this._usedEntities=(0,c.A)(t).filter((function(t){return e.hass.states[t]&&!(0,N.g0)(e.hass.states[t].state)})),this._unusedEntities=(0,c.A)(r).filter((function(t){return e.hass.states[t]&&!(0,N.g0)(e.hass.states[t].state)})),this._loadCards()}}},{kind:"method",key:"_loadCards",value:function(){var e=this,t=D.j.map((function(t){var r;return Object.assign({name:e.hass.localize("ui.panel.lovelace.editor.card.".concat(t.type,".name")),description:e.hass.localize("ui.panel.lovelace.editor.card.".concat(t.type,".description")),isSuggested:(null===(r=e.suggestedCards)||void 0===r?void 0:r.includes(t.type))||!1},t)}));t=t.sort((function(t,r){var i;return t.isSuggested&&!r.isSuggested?-1:!t.isSuggested&&r.isSuggested?1:(0,L.x)(t.name||t.type,r.name||r.type,null===(i=e.hass)||void 0===i?void 0:i.language)})),F.J_.length>0&&(t=t.concat(F.J_.map((function(e){return{type:e.type,name:e.name,description:e.description,showElement:e.preview,isCustom:!0}})).sort((function(t,r){var i;return(0,L.x)(t.name||t.type,r.name||r.type,null===(i=e.hass)||void 0===i?void 0:i.language)})))),this._cards=t.map((function(t){return{card:t,element:(0,M.qy)($||($=(0,o.A)(["",""])),(0,O.T)(e._renderCardElement(t),(0,M.qy)(ee||(ee=(0,o.A)([' <div class="card spinner"> <ha-circular-progress indeterminate></ha-circular-progress> </div> '])))))}}))}},{kind:"method",key:"_renderClipboardCard",value:function(){return this._clipboard?(0,M.qy)(te||(te=(0,o.A)([" ",""])),(0,O.T)(this._renderCardElement({type:this._clipboard.type,showElement:!0,isCustom:!1,name:this.hass.localize("ui.panel.lovelace.editor.card.generic.paste"),description:"".concat(this.hass.localize("ui.panel.lovelace.editor.card.generic.paste_description",{type:this._clipboard.type}))},this._clipboard),(0,M.qy)(re||(re=(0,o.A)([' <div class="card spinner"> <ha-circular-progress indeterminate></ha-circular-progress> </div> ']))))):M.s6}},{kind:"method",key:"_handleSearchChange",value:function(e){var t=e.detail.value;if(t){if(!this._width||!this._height){var r=this.shadowRoot.getElementById("content");if(r&&!this._width){var i=r.clientWidth;i&&(this._width=i)}if(r&&!this._height){var n=r.clientHeight;n&&(this._height=n)}}}else this._width=void 0,this._height=void 0;this._filter=t}},{kind:"method",key:"_cardPicked",value:function(e){var t=e.currentTarget.config;(0,Z.r)(this,"config-changed",{config:t})}},{kind:"method",key:"_tryCreateCardElement",value:function(e){var t=this,r=(0,T.MJ)(e);return r.hass=this.hass,r.addEventListener("ll-rebuild",(function(i){i.stopPropagation(),t._rebuildCard(r,e)}),{once:!0}),r}},{kind:"method",key:"_rebuildCard",value:function(e,t){var r;try{r=this._tryCreateCardElement(t)}catch(i){return}e.parentElement&&e.parentElement.replaceChild(r,e)}},{kind:"method",key:"_renderCardElement",value:(r=(0,s.default)((0,a.default)().mark((function e(t,r){var i,n,s,c,d,l,u,h;return(0,a.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.type,n=t.showElement,s=t.isCustom,c=t.name,d=t.description,l=s?(0,F.wi)(i):void 0,s&&(i="".concat(F.IP).concat(i)),h=null!=r?r:{type:i},!this.hass||!this.lovelace){e.next=11;break}if(r){e.next=10;break}return e.next=9,(0,W.N)(this.hass,i,this._unusedEntities,this._usedEntities);case 9:h=e.sent;case 10:if(n)try{u=this._tryCreateCardElement(h)}catch(a){u=void 0}case 11:return e.abrupt("return",(0,M.qy)(ie||(ie=(0,o.A)([' <div class="card"> <div class="overlay" @click="','" .config="','"></div> <div class="card-header"> ',' </div> <div class="preview ','"> '," </div> </div> "])),this._cardPicked,h,l?"".concat(this.hass.localize("ui.panel.lovelace.editor.cardpicker.custom_card"),": ").concat(l.name||l.type):c,(0,j.H)({description:!u||"HUI-ERROR-CARD"===u.tagName}),u&&"HUI-ERROR-CARD"!==u.tagName?u:l?l.description||this.hass.localize("ui.panel.lovelace.editor.cardpicker.no_description"):d));case 12:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{kind:"get",static:!0,key:"styles",value:function(){return[(0,M.AH)(ne||(ne=(0,o.A)(["search-input{display:block;--mdc-shape-small:var(--card-picker-search-shape);margin:var(--card-picker-search-margin)}.cards-container-header{font-size:16px;font-weight:500;padding:12px 8px 4px 8px;margin:0;grid-column:1/-1}.cards-container{display:grid;grid-gap:8px 8px;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));margin-top:20px}.card{height:100%;max-width:500px;display:flex;flex-direction:column;border-radius:var(--ha-card-border-radius,12px);background:var(--primary-background-color,#fafafa);cursor:pointer;position:relative;overflow:hidden;border:var(--ha-card-border-width,1px) solid var(--ha-card-border-color,var(--divider-color))}.card-header{color:var(--ha-card-header-color,--primary-text-color);font-family:var(--ha-card-header-font-family, inherit);font-size:16px;font-weight:700;letter-spacing:-.012em;line-height:20px;padding:12px 16px;display:block;text-align:center;background:var(--ha-card-background,var(--card-background-color,#fff));border-bottom:1px solid var(--divider-color)}.preview{pointer-events:none;margin:20px;flex-grow:1;display:flex;align-items:center;justify-content:center}.preview>:first-child{zoom:0.6;display:block;width:100%}.description{text-align:center}.spinner{align-items:center;justify-content:center}.overlay{position:absolute;width:100%;height:100%;z-index:1;box-sizing:border-box;border-radius:var(--ha-card-border-radius,12px)}.manual{max-width:none}.icon{position:absolute;top:8px;right:8px inset-inline-start: 8px;inset-inline-end:8px;border-radius:50%;--mdc-icon-size:16px;line-height:16px;box-sizing:border-box;color:var(--text-primary-color);padding:4px}.icon.custom{background:var(--warning-color)}"])))]}}]}}),M.WF),i(),e.next=79;break;case 76:e.prev=76,e.t2=e.catch(0),i(e.t2);case 79:case"end":return e.stop()}}),e,null,[[0,76]])})));return function(t,r){return e.apply(this,arguments)}}())},61323:function(e,t,r){var i=r(1781),n=r(94881);r.a(e,function(){var e=i(n().mark((function e(i,a){var s,c,o,d,l,u;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r.d(t,{N:function(){return u}}),s=r(94881),c=r(1781),o=r(43859),r.n(o),d=r(50308),!(l=i([d])).then){e.next=15;break}return e.next=11,l;case 11:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=16;break;case 15:e.t0=l;case 16:d=e.t0[0],u=function(){var e=(0,c.default)((0,s.default)().mark((function e(t,r,i,n){var a,c,o;return(0,s.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={type:r},e.next=3,(0,d.dY)(r);case 3:if(!(c=e.sent)||!c.getStubConfig){e.next=9;break}return e.next=7,c.getStubConfig(t,i,n);case 7:o=e.sent,a=Object.assign(Object.assign({},a),o);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(t,r,i,n){return e.apply(this,arguments)}}(),a(),e.next=24;break;case 21:e.prev=21,e.t2=e.catch(0),a(e.t2);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t,r){return e.apply(this,arguments)}}())},18771:function(e,t,r){r.d(t,{j:function(){return i}});var i=[{type:"alarm-panel",showElement:!0},{type:"button",showElement:!0},{type:"calendar",showElement:!0},{type:"entities",showElement:!0},{type:"entity",showElement:!0},{type:"gauge",showElement:!0},{type:"glance",showElement:!0},{type:"history-graph",showElement:!0},{type:"statistics-graph",showElement:!1},{type:"statistic",showElement:!0},{type:"humidifier",showElement:!0},{type:"light",showElement:!0},{type:"map",showElement:!0},{type:"markdown",showElement:!0},{type:"media-control",showElement:!0},{type:"picture",showElement:!0},{type:"picture-elements",showElement:!0},{type:"picture-entity",showElement:!0},{type:"picture-glance",showElement:!0},{type:"plant-status",showElement:!0},{type:"sensor",showElement:!0},{type:"thermostat",showElement:!0},{type:"weather-forecast",showElement:!0},{type:"area",showElement:!0},{type:"tile",showElement:!0},{type:"conditional"},{type:"entity-filter"},{type:"grid"},{type:"horizontal-stack"},{type:"iframe"},{type:"logbook"},{type:"vertical-stack"},{type:"todo-list"}]}}]);
//# sourceMappingURL=91020.bsEmYm2WaTU.js.map