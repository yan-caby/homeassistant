/*! For license information please see 61606.V6d88tRjbmY.js.LICENSE.txt */
"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[61606],{79372:function(e,t,i){var n=i(73155),o=i(33817),r=i(3429),s=i(75077);e.exports=function(e,t){t&&"string"==typeof e||o(e);var i=s(e);return r(o(void 0!==i?n(i,e):e))}},18684:function(e,t,i){var n=i(87568),o=i(42509),r=i(30356),s=i(51607),a=i(95124),l=i(79635);n({target:"Array",proto:!0},{flatMap:function(e){var t,i=s(this),n=a(i);return r(e),(t=l(i,0)).length=o(t,i,i,n,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},74991:function(e,t,i){i(33523)("flatMap")},69704:function(e,t,i){var n=i(87568),o=i(73155),r=i(30356),s=i(33817),a=i(3429),l=i(79372),u=i(23408),h=i(44933),c=i(89385),d=u((function(){for(var e,t,i=this.iterator,n=this.mapper;;){if(t=this.inner)try{if(!(e=s(o(t.next,t.iterator))).done)return e.value;this.inner=null}catch(r){h(i,"throw",r)}if(e=s(o(this.next,i)),this.done=!!e.done)return;try{this.inner=l(n(e.value,this.counter++),!1)}catch(r){h(i,"throw",r)}}}));n({target:"Iterator",proto:!0,real:!0,forced:c},{flatMap:function(e){return s(this),r(e),new d(a(this),{mapper:e,inner:null})}})},60456:function(e,t,i){var n=i(87568),o=i(58953),r=i(71101),s=i(30356),a=i(66638),l=i(32565),u=i(40970);n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:l((function(){return u&&1!==Object.getOwnPropertyDescriptor(o,"queueMicrotask").value.length}))},{queueMicrotask:function(e){a(arguments.length,1),r(s(e))}})},54854:function(e,t,i){i.d(t,{d:function(){return v}});var n=i(89231),o=i(36683),r=i(29864),s=i(83647),a=i(3358),l=i(61780),u=i(539),h=(i(8485),i(98809),i(27934),i(77052),i(848),i(68113),i(66274),i(22836),i(40924)),c=i(75031),d=Symbol("valueNotInitialized"),_=function(e){function t(e){var i;if((0,n.A)(this,t),i=(0,r.A)(this,t,[e]),e.type!==a.OA.ELEMENT)throw new Error("`".concat(i.constructor.name,"` must be bound to an element."));return i.previousValue=d,i}return(0,s.A)(t,e),(0,o.A)(t,[{key:"render",value:function(e,t){return h.s6}},{key:"update",value:function(e,t){var i=(0,u.A)(t,2),n=i[0],o=i[1];return this.hasChanged(o)?(this.host=e.options&&e.options.host,this.element=e.element,this.renderer=n,this.previousValue===d?this.addRenderer():this.runRenderer(),this.previousValue=Array.isArray(o)?(0,l.A)(o):o,h.s6):h.s6}},{key:"reconnected",value:function(){this.addRenderer()}},{key:"disconnected",value:function(){this.removeRenderer()}},{key:"addRenderer",value:function(){throw new Error("The `addRenderer` method must be implemented.")}},{key:"runRenderer",value:function(){throw new Error("The `runRenderer` method must be implemented.")}},{key:"removeRenderer",value:function(){throw new Error("The `removeRenderer` method must be implemented.")}},{key:"renderRenderer",value:function(e){for(var t,i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];var r=(t=this.renderer).call.apply(t,[this.host].concat(n));(0,h.XX)(r,e,{host:this.host})}},{key:"hasChanged",value:function(e){var t=this;return Array.isArray(e)?!Array.isArray(this.previousValue)||(this.previousValue.length!==e.length||e.some((function(e,i){return e!==t.previousValue[i]}))):this.previousValue!==e}}])}(c.Kq),p=function(e){function t(){return(0,n.A)(this,t),(0,r.A)(this,t,arguments)}return(0,s.A)(t,e),(0,o.A)(t,[{key:"addRenderer",value:function(){var e=this;this.element.renderer=function(t,i,n){e.renderRenderer(t,n.item,n,i)}}},{key:"runRenderer",value:function(){this.element.requestContentUpdate()}},{key:"removeRenderer",value:function(){this.element.renderer=null}}])}(_),v=(0,a.u$)(p)},91453:function(e,t,i){var n=i(6238),o=i(89231),r=i(36683),s=i(29864),a=i(83647),l=i(94773);i(77052);function u(e){var t=customElements.get(e.is);if(t){var i=t.version;i&&e.version&&i===e.version?console.warn("The component ".concat(e.is," has been loaded twice")):console.error("Tried to define ".concat(e.is," version ").concat(e.version," when version ").concat(t.version," is already in use. Something will probably break."))}else Object.defineProperty(e,"version",{get:function(){return"24.3.11"}}),customElements.define(e.is,e)}var h=function(e){function t(){return(0,o.A)(this,t),(0,s.A)(this,t,arguments)}return(0,a.A)(t,e),(0,r.A)(t,null,[{key:"is",get:function(){return"vaadin-material-styles"}}])}((0,l.A)(HTMLElement));u(h);var c,d,_,p=i(90392),v=i(45584),f=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];(0,v.qV)("material-".concat(e),i)},m=(0,p.AH)(c||(c=(0,n.A)(["\n  :host {\n    /* Text colors */\n    --material-body-text-color: var(--light-theme-text-color, rgba(0, 0, 0, 0.87));\n    --material-secondary-text-color: var(--light-theme-secondary-color, rgba(0, 0, 0, 0.54));\n    --material-disabled-text-color: var(--light-theme-disabled-color, rgba(0, 0, 0, 0.38));\n\n    /* Primary colors */\n    --material-primary-color: var(--primary-color, #6200ee);\n    --material-primary-contrast-color: var(--dark-theme-base-color, #fff);\n    --material-primary-text-color: var(--material-primary-color);\n\n    /* Error colors */\n    --material-error-color: var(--error-color, #b00020);\n    --material-error-text-color: var(--material-error-color);\n\n    /* Background colors */\n    --material-background-color: var(--light-theme-background-color, #fff);\n    --material-secondary-background-color: var(--light-theme-secondary-background-color, #f5f5f5);\n    --material-disabled-color: rgba(0, 0, 0, 0.26);\n\n    /* Divider colors */\n    --material-divider-color: rgba(0, 0, 0, 0.12);\n\n    /* Undocumented internal properties (prefixed with three dashes) */\n\n    /* Text field tweaks */\n    --_material-text-field-input-line-background-color: initial;\n    --_material-text-field-input-line-opacity: initial;\n    --_material-text-field-input-line-hover-opacity: initial;\n    --_material-text-field-focused-label-opacity: initial;\n\n    /* Button tweaks */\n    --_material-button-raised-background-color: initial;\n    --_material-button-outline-color: initial;\n\n    /* Grid tweaks */\n    --_material-grid-row-hover-background-color: initial;\n\n    /* Split layout tweaks */\n    --_material-split-layout-splitter-background-color: initial;\n\n    background-color: var(--material-background-color);\n    color: var(--material-body-text-color);\n  }\n\n  [theme~='dark'] {\n    /* Text colors */\n    --material-body-text-color: var(--dark-theme-text-color, rgba(255, 255, 255, 1));\n    --material-secondary-text-color: var(--dark-theme-secondary-color, rgba(255, 255, 255, 0.7));\n    --material-disabled-text-color: var(--dark-theme-disabled-color, rgba(255, 255, 255, 0.5));\n\n    /* Primary colors */\n    --material-primary-color: var(--light-primary-color, #7e3ff2);\n    --material-primary-text-color: #b794f6;\n\n    /* Error colors */\n    --material-error-color: var(--error-color, #de2839);\n    --material-error-text-color: var(--material-error-color);\n\n    /* Background colors */\n    --material-background-color: var(--dark-theme-background-color, #303030);\n    --material-secondary-background-color: var(--dark-theme-secondary-background-color, #3b3b3b);\n    --material-disabled-color: rgba(255, 255, 255, 0.3);\n\n    /* Divider colors */\n    --material-divider-color: rgba(255, 255, 255, 0.12);\n\n    /* Undocumented internal properties (prefixed with three dashes) */\n\n    /* Text field tweaks */\n    --_material-text-field-input-line-background-color: #fff;\n    --_material-text-field-input-line-opacity: 0.7;\n    --_material-text-field-input-line-hover-opacity: 1;\n    --_material-text-field-focused-label-opacity: 1;\n\n    /* Button tweaks */\n    --_material-button-raised-background-color: rgba(255, 255, 255, 0.08);\n    --_material-button-outline-color: rgba(255, 255, 255, 0.2);\n\n    /* Grid tweaks */\n    --_material-grid-row-hover-background-color: rgba(255, 255, 255, 0.08);\n    --_material-grid-row-selected-overlay-opacity: 0.16;\n\n    /* Split layout tweaks */\n    --_material-split-layout-splitter-background-color: rgba(255, 255, 255, 0.8);\n\n    background-color: var(--material-background-color);\n    color: var(--material-body-text-color);\n  }\n\n  a {\n    color: inherit;\n  }\n"])));(0,p.SF)("",m,{moduleId:"material-color-light"});var y,g=(0,p.AH)(d||(d=(0,n.A)(["\n  :host {\n    /* Text colors */\n    --material-body-text-color: var(--dark-theme-text-color, rgba(255, 255, 255, 1));\n    --material-secondary-text-color: var(--dark-theme-secondary-color, rgba(255, 255, 255, 0.7));\n    --material-disabled-text-color: var(--dark-theme-disabled-color, rgba(255, 255, 255, 0.5));\n\n    /* Primary colors */\n    --material-primary-color: var(--light-primary-color, #7e3ff2);\n    --material-primary-text-color: #b794f6;\n\n    /* Error colors */\n    --material-error-color: var(--error-color, #de2839);\n    --material-error-text-color: var(--material-error-color);\n\n    /* Background colors */\n    --material-background-color: var(--dark-theme-background-color, #303030);\n    --material-secondary-background-color: var(--dark-theme-secondary-background-color, #3b3b3b);\n    --material-disabled-color: rgba(255, 255, 255, 0.3);\n\n    /* Divider colors */\n    --material-divider-color: rgba(255, 255, 255, 0.12);\n\n    /* Undocumented internal properties (prefixed with three dashes) */\n\n    /* Text field tweaks */\n    --_material-text-field-input-line-background-color: #fff;\n    --_material-text-field-input-line-opacity: 0.7;\n    --_material-text-field-input-line-hover-opacity: 1;\n    --_material-text-field-focused-label-opacity: 1;\n\n    /* Button tweaks */\n    --_material-button-raised-background-color: rgba(255, 255, 255, 0.08);\n    --_material-button-outline-color: rgba(255, 255, 255, 0.2);\n\n    /* Grid tweaks */\n    --_material-grid-row-hover-background-color: rgba(255, 255, 255, 0.08);\n    --_material-grid-row-selected-overlay-opacity: 0.16;\n\n    /* Split layout tweaks */\n    --_material-split-layout-splitter-background-color: rgba(255, 255, 255, 0.8);\n\n    background-color: var(--material-background-color);\n    color: var(--material-body-text-color);\n  }\n"])));(0,p.SF)("",g,{moduleId:"material-color-dark"}),f("color-base",(0,p.AH)(_||(_=(0,n.A)(["\n  :host {\n    /* Text colors */\n    --material-body-text-color: var(--light-theme-text-color, rgba(0, 0, 0, 0.87));\n    --material-secondary-text-color: var(--light-theme-secondary-color, rgba(0, 0, 0, 0.54));\n    --material-disabled-text-color: var(--light-theme-disabled-color, rgba(0, 0, 0, 0.38));\n\n    /* Primary colors */\n    --material-primary-color: var(--primary-color, #6200ee);\n    --material-primary-contrast-color: var(--dark-theme-base-color, #fff);\n    --material-primary-text-color: var(--material-primary-color);\n\n    /* Error colors */\n    --material-error-color: var(--error-color, #b00020);\n    --material-error-text-color: var(--material-error-color);\n\n    /* Background colors */\n    --material-background-color: var(--light-theme-background-color, #fff);\n    --material-secondary-background-color: var(--light-theme-secondary-background-color, #f5f5f5);\n    --material-disabled-color: rgba(0, 0, 0, 0.26);\n\n    /* Divider colors */\n    --material-divider-color: rgba(0, 0, 0, 0.12);\n  }\n"]))));var b,k=(0,p.AH)(y||(y=(0,n.A)(["\n  :host {\n    display: flex;\n    align-items: center;\n    box-sizing: border-box;\n    min-height: 36px;\n    padding: 8px 32px 8px 10px;\n    overflow: hidden;\n    font-family: var(--material-font-family);\n    font-size: var(--material-small-font-size);\n    line-height: 24px;\n  }\n\n  /* It's the list-box's responsibility to add the focus style */\n  :host([focused]) {\n    outline: none;\n  }\n\n  /* Checkmark */\n  [part='checkmark']::before {\n    display: var(--_material-item-selected-icon-display, none);\n    content: '';\n    font-family: material-icons;\n    font-size: 24px;\n    line-height: 1;\n    font-weight: 400;\n    width: 24px;\n    text-align: center;\n    margin-right: 10px;\n    color: var(--material-secondary-text-color);\n    flex: none;\n  }\n\n  :host([selected]) [part='checkmark']::before {\n    content: var(--material-icons-check);\n  }\n\n  @media (any-hover: hover) {\n    :host(:hover:not([disabled])) {\n      background-color: var(--material-secondary-background-color);\n    }\n  }\n\n  :host([focused]:not([disabled])) {\n    background-color: var(--material-divider-color);\n  }\n\n  /* Disabled */\n  :host([disabled]) {\n    color: var(--material-disabled-text-color);\n    cursor: default;\n    pointer-events: none;\n  }\n\n  /* RTL specific styles */\n  :host([dir='rtl']) {\n    padding: 8px 10px 8px 32px;\n  }\n\n  :host([dir='rtl']) [part='checkmark']::before {\n    margin-right: 0;\n    margin-left: 10px;\n  }\n"])));(0,p.SF)("vaadin-item",k,{moduleId:"material-item"});var A,x=(0,p.AH)(b||(b=(0,n.A)(["\n  :host {\n    cursor: pointer;\n    -webkit-tap-highlight-color: transparent;\n    padding: 4px 10px;\n    --_material-item-selected-icon-display: block;\n  }\n"])));(0,p.SF)("vaadin-combo-box-item",[k,x],{moduleId:"material-combo-box-item"});var I,C,w=(0,p.AH)(A||(A=(0,n.A)(["\n  [part~='loader'] {\n    height: 2px;\n    background: var(--material-background-color)\n      linear-gradient(\n        90deg,\n        transparent 0%,\n        transparent 20%,\n        var(--material-primary-color) 20%,\n        var(--material-primary-color) 40%,\n        transparent 40%,\n        transparent 60%,\n        var(--material-primary-color) 60%,\n        var(--material-primary-color) 80%,\n        transparent 80%,\n        transparent 100%\n      )\n      0 0 / 400% 100% repeat-x;\n    opacity: 0;\n  }\n\n  :host(:not([loading])) [part~='loader'] {\n    display: none;\n  }\n\n  :host([loading]) [part='loader'] {\n    animation: 3s linear infinite material-loader-progress, 0.3s 0.1s both material-loader-fade-in;\n  }\n\n  [part='loader']::before {\n    content: '';\n    display: block;\n    height: 100%;\n    opacity: 0.16;\n    background: var(--material-primary-color);\n  }\n\n  @keyframes material-loader-fade-in {\n    0% {\n      opacity: 0;\n    }\n\n    100% {\n      opacity: 1;\n    }\n  }\n\n  @keyframes material-loader-progress {\n    0% {\n      background-position: 0 0;\n      background-size: 300% 100%;\n    }\n\n    33% {\n      background-position: -100% 0;\n      background-size: 400% 100%;\n    }\n\n    67% {\n      background-position: -200% 0;\n      background-size: 250% 100%;\n    }\n\n    100% {\n      background-position: -300% 0;\n      background-size: 300% 100%;\n    }\n  }\n\n  /* RTL specific styles */\n\n  @keyframes material-loader-progress-rtl {\n    0% {\n      background-position: 100% 0;\n      background-size: 300% 100%;\n    }\n\n    33% {\n      background-position: 200% 0;\n      background-size: 400% 100%;\n    }\n\n    67% {\n      background-position: 300% 0;\n      background-size: 250% 100%;\n    }\n\n    100% {\n      background-position: 400% 0;\n      background-size: 300% 100%;\n    }\n  }\n\n  :host([loading][dir='rtl']) [part='loader'] {\n    animation: 3s linear infinite material-loader-progress-rtl, 0.3s 0.1s both material-loader-fade-in;\n  }\n"])));f("shadow",(0,p.AH)(I||(I=(0,n.A)(["\n  /* prettier-ignore */\n  :host {\n    /* from http://codepen.io/shyndman/pen/c5394ddf2e8b2a5c9185904b57421cdb */\n    --material-shadow-elevation-2dp: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);\n    --material-shadow-elevation-3dp: 0 3px 4px 0 rgba(0, 0, 0, 0.14), 0 1px 8px 0 rgba(0, 0, 0, 0.12), 0 3px 3px -2px rgba(0, 0, 0, 0.4);\n    --material-shadow-elevation-4dp: 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12), 0 2px 4px -1px rgba(0, 0, 0, 0.4);\n    --material-shadow-elevation-6dp: 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12), 0 3px 5px -1px rgba(0, 0, 0, 0.4);\n    --material-shadow-elevation-8dp: 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12), 0 5px 5px -3px rgba(0, 0, 0, 0.4);\n    --material-shadow-elevation-12dp: 0 12px 16px 1px rgba(0, 0, 0, 0.14), 0 4px 22px 3px rgba(0, 0, 0, 0.12), 0 6px 7px -4px rgba(0, 0, 0, 0.4);\n    --material-shadow-elevation-16dp: 0 16px 24px 2px rgba(0, 0, 0, 0.14), 0 6px 30px 5px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 0, 0, 0.4);\n    --material-shadow-elevation-24dp: 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12), 0 11px 15px -7px rgba(0, 0, 0, 0.4);\n  }\n"]))));var E=(0,p.AH)(C||(C=(0,n.A)(["\n  :host {\n    top: 16px;\n    right: 16px;\n    /* TODO (@jouni): remove unnecessary multiplication after https://github.com/vaadin/vaadin-overlay/issues/90 is fixed */\n    bottom: calc(1px * var(--vaadin-overlay-viewport-bottom) + 16px);\n    left: 16px;\n  }\n\n  [part='overlay'] {\n    background-color: var(--material-background-color);\n    border-radius: 4px;\n    box-shadow: var(--material-shadow-elevation-4dp);\n    color: var(--material-body-text-color);\n    font-family: var(--material-font-family);\n    font-size: var(--material-body-font-size);\n    font-weight: 400;\n  }\n\n  [part='content'] {\n    padding: 8px 0;\n  }\n\n  [part='backdrop'] {\n    opacity: 0.2;\n    animation: 0.2s vaadin-overlay-backdrop-enter;\n    will-change: opacity;\n  }\n\n  @keyframes vaadin-overlay-backdrop-enter {\n    0% {\n      opacity: 0;\n    }\n  }\n"])));(0,p.SF)("",E,{moduleId:"material-overlay"});var S,V,T,P=E;(0,p.SF)("",P,{moduleId:"material-menu-overlay"});var O=(0,p.AH)(S||(S=(0,n.A)(["\n  [part='overlay'] {\n    position: relative;\n    overflow: visible;\n    border-top-left-radius: 0;\n    border-top-right-radius: 0;\n  }\n\n  [part='content'] {\n    padding: 0;\n  }\n"]))),L=(0,p.AH)(V||(V=(0,n.A)(["\n  [part~='loader'] {\n    position: absolute;\n    z-index: 1;\n    top: -2px;\n    left: 0;\n    right: 0;\n  }\n"])));(0,p.SF)("vaadin-combo-box-overlay",[P,O,w,L,(0,p.AH)(T||(T=(0,n.A)(["\n      :host {\n        --_vaadin-combo-box-items-container-border-width: 8px 0;\n        --_vaadin-combo-box-items-container-border-style: solid;\n      }\n    "])))],{moduleId:"material-combo-box-overlay"});var z=i(76504),F=i(80792),M=i(45655),D=(i(53501),i(75658),i(71936),i(60060),i(68113),[]);function R(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.getAttribute("dir");t?e.setAttribute("dir",t):null!=i&&e.removeAttribute("dir")}function H(){return document.documentElement.getAttribute("dir")}new MutationObserver((function(){var e=H();D.forEach((function(t){R(t,e)}))})).observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]});var N,B=function(e){return function(e){function t(){return(0,o.A)(this,t),(0,s.A)(this,t,arguments)}return(0,a.A)(t,e),(0,r.A)(t,[{key:"__isRTL",get:function(){return"rtl"===this.getAttribute("dir")}},{key:"connectedCallback",value:function(){(0,z.A)((0,F.A)(t.prototype),"connectedCallback",this).call(this),this.hasAttribute("dir")&&!this.__restoreSubscription||(this.__subscribe(),R(this,H(),null))}},{key:"attributeChangedCallback",value:function(e,i,n){if((0,z.A)((0,F.A)(t.prototype),"attributeChangedCallback",this).call(this,e,i,n),"dir"===e){var o=H(),r=n===o&&-1===D.indexOf(this),s=!n&&i&&-1===D.indexOf(this),a=n!==o&&i===o;r||s?(this.__subscribe(),R(this,o,n)):a&&this.__unsubscribe()}}},{key:"disconnectedCallback",value:function(){(0,z.A)((0,F.A)(t.prototype),"disconnectedCallback",this).call(this),this.__restoreSubscription=D.includes(this),this.__unsubscribe()}},{key:"_valueToNodeAttribute",value:function(e,i,n){("dir"!==n||""!==i||e.hasAttribute("dir"))&&(0,z.A)((0,F.A)(t.prototype),"_valueToNodeAttribute",this).call(this,e,i,n)}},{key:"_attributeToProperty",value:function(e,i,n){"dir"!==e||i?(0,z.A)((0,F.A)(t.prototype),"_attributeToProperty",this).call(this,e,i,n):this.dir=""}},{key:"__subscribe",value:function(){D.includes(this)||D.push(this)}},{key:"__unsubscribe",value:function(){D.includes(this)&&D.splice(D.indexOf(this),1)}}],[{key:"properties",get:function(){return{dir:{type:String,value:"",reflectToAttribute:!0,converter:{fromAttribute:function(e){return e||""},toAttribute:function(e){return""===e?null:e}}}}}}])}(e)},q=i(61780),W=(i(650),function(e){function t(){return(0,o.A)(this,t),(0,s.A)(this,t,arguments)}return(0,a.A)(t,e),(0,r.A)(t,null,[{key:"template",get:function(){return(0,M.qy)(N||(N=(0,n.A)(['\n      <style>\n        :host {\n          display: block;\n        }\n\n        :host([hidden]) {\n          display: none;\n        }\n      </style>\n      <span part="checkmark" aria-hidden="true"></span>\n      <div part="content">\n        <slot></slot>\n      </div>\n    '])))}},{key:"is",get:function(){return"vaadin-combo-box-item"}}])}(function(e){function t(){return(0,o.A)(this,t),(0,s.A)(this,t,arguments)}return(0,a.A)(t,e),(0,r.A)(t,[{key:"attributeChangedCallback",value:function(e,i,n){"hidden"===e&&null!==n?this.index=void 0:(0,z.A)((0,F.A)(t.prototype),"attributeChangedCallback",this).call(this,e,i,n)}},{key:"connectedCallback",value:function(){(0,z.A)((0,F.A)(t.prototype),"connectedCallback",this).call(this),this._owner=this.parentNode.owner;var e=this._owner.getAttribute("dir");e&&this.setAttribute("dir",e)}},{key:"requestContentUpdate",value:function(){if(this.renderer){var e={index:this.index,item:this.item,focused:this.focused,selected:this.selected};this.renderer(this,this._owner,e)}}},{key:"__rendererOrItemChanged",value:function(e,t,i){void 0!==i&&void 0!==t&&(this._oldRenderer!==e&&(this.innerHTML="",delete this._$litPart$),e&&(this._oldRenderer=e,this.requestContentUpdate()))}},{key:"__updateLabel",value:function(e,t){t||(this.textContent=e)}}],[{key:"properties",get:function(){return{index:{type:Number},item:{type:Object},label:{type:String},selected:{type:Boolean,value:!1,reflectToAttribute:!0},focused:{type:Boolean,value:!1,reflectToAttribute:!0},renderer:{type:Function}}}},{key:"observers",get:function(){return["__rendererOrItemChanged(renderer, index, item.*, selected, focused)","__updateLabel(label, renderer)"]}},{key:"observedAttributes",get:function(){return[].concat((0,q.A)((0,z.A)((0,F.A)(t),"observedAttributes",this)),["hidden"])}}])}((0,p.cp)(B(M.Pu)))));u(W);i(34517);var U=i(18527),j=(i(26777),i(4148),function(e){return e.test(navigator.userAgent)}),$=function(e){return e.test(navigator.platform)},K=(j(/Android/),j(/Chrome/)&&/Google Inc/.test(navigator.vendor),j(/Firefox/),$(/^iPad/)||$(/^Mac/)&&navigator.maxTouchPoints>1),G=$(/^iPhone/)||K,Y=j(/^((?!chrome|android)(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))*[s\u017F]afari/i),X=function(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}(),Q=(i(69466),i(35848),i(21950),i(53156),i(36724),i(57733),i(56262),i(12970),i(66274),i(85038),i(84531),i(98168),i(15445),i(24483),i(13478),i(46355),i(14612),i(53691),i(48455),i(34290),i(8339),new WeakMap),Z=new WeakMap,J={},ee=0,te=function(e){return e&&e.nodeType===Node.ELEMENT_NODE},ie=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];console.error("Error: ".concat(t.join(" "),". Skip setting aria-hidden."))},ne=function(e,t,i,n){var o=function(e,t){return te(e)?t.map((function(t){if(!te(t))return ie(t,"is not a valid element"),null;for(var i=t;i&&i!==e;){if(e.contains(i))return t;i=i.getRootNode().host}return ie(t,"is not contained inside",e),null})).filter((function(e){return Boolean(e)})):(ie(e,"is not a valid element"),[])}(t,Array.isArray(e)?e:[e]);J[i]||(J[i]=new WeakMap);var r=J[i],s=[],a=new Set,l=new Set(o);o.forEach((function e(t){if(t&&!a.has(t)){a.add(t);var i=t.assignedSlot;i&&e(i),e(t.parentNode||t.host)}}));return function e(t){if(t&&!l.has(t)){var o=t.shadowRoot;(o?[].concat((0,q.A)(t.children),(0,q.A)(o.children)):(0,q.A)(t.children)).forEach((function(t){if(!["template","script","style"].includes(t.localName))if(a.has(t))e(t);else{var o=t.getAttribute(n),l=null!==o&&"false"!==o,u=(Q.get(t)||0)+1,h=(r.get(t)||0)+1;Q.set(t,u),r.set(t,h),s.push(t),1===u&&l&&Z.set(t,!0),1===h&&t.setAttribute(i,"true"),l||t.setAttribute(n,"true")}}))}}(t),a.clear(),ee+=1,function(){s.forEach((function(e){var t=Q.get(e)-1,o=r.get(e)-1;Q.set(e,t),r.set(e,o),t||(Z.has(e)?Z.delete(e):e.removeAttribute(n)),o||e.removeAttribute(i)})),(ee-=1)||(Q=new WeakMap,Q=new WeakMap,Z=new WeakMap,J={})}},oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"data-aria-hidden",n=Array.from(Array.isArray(e)?e:[e]);return t&&n.push.apply(n,(0,q.A)(Array.from(t.querySelectorAll("[aria-live]")))),ne(n,t,i,"aria-hidden")},re=(HTMLElement.prototype,function(){return(0,r.A)((function e(t,i){(0,o.A)(this,e),this.host=t,this.callback="function"==typeof i?i:function(){return t}}),[{key:"showModal",value:function(){var e=this.callback();this.__showOthers=oe(e)}},{key:"close",value:function(){this.__showOthers&&(this.__showOthers(),this.__showOthers=null)}}])}()),se=(i(98828),!1);function ae(){for(var e=document.activeElement||document.body;e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function le(e){var t=e.style;if("hidden"===t.visibility||"none"===t.display)return!0;var i=window.getComputedStyle(e);return"hidden"===i.visibility||"none"===i.display}function ue(e){var t=e.length;if(t<2)return e;var i=Math.ceil(t/2);return function(e,t){for(var i,n,o,r,s=[];e.length>0&&t.length>0;)i=e[0],n=t[0],o=void 0,r=void 0,o=Math.max(i.tabIndex,0),r=Math.max(n.tabIndex,0),(0===o||0===r?r>o:o>r)?s.push(t.shift()):s.push(e.shift());return s.concat(e,t)}(ue(e.slice(0,i)),ue(e.slice(i)))}function he(e){return e.getRootNode().activeElement===e}function ce(e,t){if(e.nodeType!==Node.ELEMENT_NODE||le(e))return!1;var i=e,n=function(e){if(!function(e){return!e.matches('[tabindex="-1"]')&&(e.matches("input, select, textarea, button, object")?e.matches(":not([disabled])"):e.matches("a[href], area[href], iframe, [tabindex], [contentEditable]"))}(e))return-1;var t=e.getAttribute("tabindex")||0;return Number(t)}(i),o=n>0;n>=0&&t.push(i);var r=[];return r="slot"===i.localName?i.assignedNodes({flatten:!0}):(i.shadowRoot||i).children,(0,q.A)(r).forEach((function(e){o=ce(e,t)||o})),o}function de(e){var t=[];return ce(e,t)?ue(t):t}window.addEventListener("keydown",(function(){se=!0}),{capture:!0}),window.addEventListener("mousedown",(function(){se=!1}),{capture:!0});var _e,pe=function(){return(0,r.A)((function e(){(0,o.A)(this,e)}),[{key:"saveFocus",value:function(e){this.focusNode=e||ae()}},{key:"restoreFocus",value:function(){var e=this.focusNode;e&&(ae()===document.body?setTimeout((function(){return e.focus()})):e.focus(),this.focusNode=null)}}])}(),ve=(i(27934),[]),fe=function(){return(0,r.A)((function e(t){(0,o.A)(this,e),this.host=t,this.__trapNode=null,this.__onKeyDown=this.__onKeyDown.bind(this)}),[{key:"__focusableElements",get:function(){return de(this.__trapNode)}},{key:"__focusedElementIndex",get:function(){var e=this.__focusableElements;return e.indexOf(e.filter(he).pop())}},{key:"hostConnected",value:function(){document.addEventListener("keydown",this.__onKeyDown)}},{key:"hostDisconnected",value:function(){document.removeEventListener("keydown",this.__onKeyDown)}},{key:"trapFocus",value:function(e){if(this.__trapNode=e,0===this.__focusableElements.length)throw this.__trapNode=null,new Error("The trap node should have at least one focusable descendant or be focusable itself.");ve.push(this),-1===this.__focusedElementIndex&&this.__focusableElements[0].focus()}},{key:"releaseFocus",value:function(){this.__trapNode=null,ve.pop()}},{key:"__onKeyDown",value:function(e){if(this.__trapNode&&this===Array.from(ve).pop()&&"Tab"===e.key){e.preventDefault();var t=e.shiftKey;this.__focusNextElement(t)}}},{key:"__focusNextElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.__focusableElements,i=e?-1:1,n=this.__focusedElementIndex,o=t[(t.length+n+i)%t.length];o.focus(),"input"===o.localName&&o.select()}}])}(),me=i(34719),ye=(0,me.y)((function(e){return"function"==typeof e.prototype.addController?e:function(e){function t(){var e;return(0,o.A)(this,t),(e=(0,s.A)(this,t)).__controllers=new Set,e}return(0,a.A)(t,e),(0,r.A)(t,[{key:"connectedCallback",value:function(){(0,z.A)((0,F.A)(t.prototype),"connectedCallback",this).call(this),this.__controllers.forEach((function(e){e.hostConnected&&e.hostConnected()}))}},{key:"disconnectedCallback",value:function(){(0,z.A)((0,F.A)(t.prototype),"disconnectedCallback",this).call(this),this.__controllers.forEach((function(e){e.hostDisconnected&&e.hostDisconnected()}))}},{key:"addController",value:function(e){this.__controllers.add(e),void 0!==this.$&&this.isConnected&&e.hostConnected&&e.hostConnected()}},{key:"removeController",value:function(e){this.__controllers.delete(e)}}])}(e)})),ge=(i(14460),i(86245),function(){return Array.from(document.body.children).filter((function(e){return e instanceof HTMLElement&&e._hasOverlayStackMixin&&!e.hasAttribute("closing")})).sort((function(e,t){return e.__zIndex-t.__zIndex||0}))}),be=function(e){return function(e){function t(){var e;return(0,o.A)(this,t),(e=(0,s.A)(this,t))._hasOverlayStackMixin=!0,e}return(0,a.A)(t,e),(0,r.A)(t,[{key:"_last",get:function(){return function(e){return e===ge().pop()}(this)}},{key:"bringToFront",value:function(){var e=this,t="",i=ge().filter((function(t){return t!==e})).pop();i&&(t=i.__zIndex+1);this.style.zIndex=t,this.__zIndex=t||parseFloat(getComputedStyle(this).zIndex)}},{key:"_enterModalState",value:function(){var e=this;"none"!==document.body.style.pointerEvents&&(this._previousDocumentPointerEvents=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),ge().forEach((function(t){t!==e&&(t.$.overlay.style.pointerEvents="none")}))}},{key:"_exitModalState",value:function(){void 0!==this._previousDocumentPointerEvents&&(document.body.style.pointerEvents=this._previousDocumentPointerEvents,delete this._previousDocumentPointerEvents);for(var e,t=ge();(e=t.pop())&&(e===this||(e.$.overlay.style.removeProperty("pointer-events"),e.modeless)););}}])}(e)},ke=(0,i(40924).AH)(_e||(_e=(0,n.A)([":host{z-index:200;position:fixed;inset:0;bottom:var(--vaadin-overlay-viewport-bottom);display:flex;flex-direction:column;align-items:center;justify-content:center;margin:auto;pointer-events:none;-webkit-tap-highlight-color:transparent;--vaadin-overlay-viewport-bottom:0}:host(:not([opened]):not([closing])),:host(:not([opened]):not([closing])) [part=overlay],:host([hidden]){display:none!important}[part=overlay]{-webkit-overflow-scrolling:touch;overflow:auto;pointer-events:auto;max-width:100%;box-sizing:border-box;-webkit-tap-highlight-color:initial}[part=backdrop]{z-index:-1;content:'';background:rgba(0,0,0,.5);position:fixed;inset:0;pointer-events:auto}"]))),Ae=i(23141);i(43859),i(43618),i(64148);var xe,Ie,Ce={start:"top",end:"bottom"},we={start:"left",end:"right"},Ee=new ResizeObserver((function(e){setTimeout((function(){e.forEach((function(e){e.target.__overlay&&e.target.__overlay._updatePosition()}))}))})),Se=function(e){return function(e){function t(){var e;return(0,o.A)(this,t),(e=(0,s.A)(this,t)).__onScroll=e.__onScroll.bind(e),e._updatePosition=e._updatePosition.bind(e),e}return(0,a.A)(t,e),(0,r.A)(t,[{key:"connectedCallback",value:function(){(0,z.A)((0,F.A)(t.prototype),"connectedCallback",this).call(this),this.opened&&this.__addUpdatePositionEventListeners()}},{key:"disconnectedCallback",value:function(){(0,z.A)((0,F.A)(t.prototype),"disconnectedCallback",this).call(this),this.__removeUpdatePositionEventListeners()}},{key:"__addUpdatePositionEventListeners",value:function(){var e=this;window.visualViewport.addEventListener("resize",this._updatePosition),window.visualViewport.addEventListener("scroll",this.__onScroll,!0),this.__positionTargetAncestorRootNodes=function(e){for(var t=[];e;){if(e.nodeType===Node.DOCUMENT_NODE){t.push(e);break}e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE?e=e.assignedSlot?e.assignedSlot:e.parentNode:(t.push(e),e=e.host)}return t}(this.positionTarget),this.__positionTargetAncestorRootNodes.forEach((function(t){t.addEventListener("scroll",e.__onScroll,!0)}))}},{key:"__removeUpdatePositionEventListeners",value:function(){var e=this;window.visualViewport.removeEventListener("resize",this._updatePosition),window.visualViewport.removeEventListener("scroll",this.__onScroll,!0),this.__positionTargetAncestorRootNodes&&(this.__positionTargetAncestorRootNodes.forEach((function(t){t.removeEventListener("scroll",e.__onScroll,!0)})),this.__positionTargetAncestorRootNodes=null)}},{key:"__overlayOpenedChanged",value:function(e,t){var i=this;if(this.__removeUpdatePositionEventListeners(),t&&(t.__overlay=null,Ee.unobserve(t),e&&(this.__addUpdatePositionEventListeners(),t.__overlay=this,Ee.observe(t))),e){var n=getComputedStyle(this);this.__margins||(this.__margins={},["top","bottom","left","right"].forEach((function(e){i.__margins[e]=parseInt(n[e],10)}))),this.setAttribute("dir",n.direction),this._updatePosition(),requestAnimationFrame((function(){return i._updatePosition()}))}}},{key:"__positionSettingsChanged",value:function(){this._updatePosition()}},{key:"__onScroll",value:function(e){e.target instanceof Node&&this.contains(e.target)||this._updatePosition()}},{key:"_updatePosition",value:function(){if(this.positionTarget&&this.opened){var e=this.positionTarget.getBoundingClientRect(),t=this.__shouldAlignStartVertically(e);this.style.justifyContent=t?"flex-start":"flex-end";var i=this.__isRTL,n=this.__shouldAlignStartHorizontally(e,i),o=!i&&n||i&&!n;this.style.alignItems=o?"flex-start":"flex-end";var r=this.getBoundingClientRect(),s=this.__calculatePositionInOneDimension(e,r,this.noVerticalOverlap,Ce,this,t),a=this.__calculatePositionInOneDimension(e,r,this.noHorizontalOverlap,we,this,n);Object.assign(this.style,s,a),this.toggleAttribute("bottom-aligned",!t),this.toggleAttribute("top-aligned",t),this.toggleAttribute("end-aligned",!o),this.toggleAttribute("start-aligned",o)}}},{key:"__shouldAlignStartHorizontally",value:function(e,t){var i=Math.max(this.__oldContentWidth||0,this.$.overlay.offsetWidth);this.__oldContentWidth=this.$.overlay.offsetWidth;var n=Math.min(window.innerWidth,document.documentElement.clientWidth),o=!t&&"start"===this.horizontalAlign||t&&"end"===this.horizontalAlign;return this.__shouldAlignStart(e,i,n,this.__margins,o,this.noHorizontalOverlap,we)}},{key:"__shouldAlignStartVertically",value:function(e){var t=this.requiredVerticalSpace||Math.max(this.__oldContentHeight||0,this.$.overlay.offsetHeight);this.__oldContentHeight=this.$.overlay.offsetHeight;var i=Math.min(window.innerHeight,document.documentElement.clientHeight),n="top"===this.verticalAlign;return this.__shouldAlignStart(e,t,i,this.__margins,n,this.noVerticalOverlap,Ce)}},{key:"__shouldAlignStart",value:function(e,t,i,n,o,r,s){var a=i-e[r?s.end:s.start]-n[s.end],l=e[r?s.start:s.end]-n[s.start],u=o?a:l;return o===(u>(o?l:a)||u>t)}},{key:"__adjustBottomProperty",value:function(e,t,i){var n;if(e===t.end){if(t.end===Ce.end){var o=Math.min(window.innerHeight,document.documentElement.clientHeight);if(i>o&&this.__oldViewportHeight)n=i-(this.__oldViewportHeight-o);this.__oldViewportHeight=o}if(t.end===we.end){var r=Math.min(window.innerWidth,document.documentElement.clientWidth);if(i>r&&this.__oldViewportWidth)n=i-(this.__oldViewportWidth-r);this.__oldViewportWidth=r}}return n}},{key:"__calculatePositionInOneDimension",value:function(e,t,i,n,o,r){var s=r?n.start:n.end,a=r?n.end:n.start,l=parseFloat(o.style[s]||getComputedStyle(o)[s]),u=this.__adjustBottomProperty(s,n,l),h=t[r?n.start:n.end]-e[i===r?n.end:n.start],c="".concat(u||l+h*(r?-1:1),"px");return(0,Ae.A)((0,Ae.A)({},s,c),a,"")}}],[{key:"properties",get:function(){return{positionTarget:{type:Object,value:null,sync:!0},horizontalAlign:{type:String,value:"start",sync:!0},verticalAlign:{type:String,value:"top",sync:!0},noHorizontalOverlap:{type:Boolean,value:!1,sync:!0},noVerticalOverlap:{type:Boolean,value:!1,sync:!0},requiredVerticalSpace:{type:Number,value:0,sync:!0}}}},{key:"observers",get:function(){return["__positionSettingsChanged(horizontalAlign, verticalAlign, noHorizontalOverlap, noVerticalOverlap, requiredVerticalSpace)","__overlayOpenedChanged(opened, positionTarget)"]}}])}(e)},Ve=(0,p.AH)(xe||(xe=(0,n.A)(["\n  #overlay {\n    width: var(--vaadin-combo-box-overlay-width, var(--_vaadin-combo-box-overlay-default-width, auto));\n  }\n\n  [part='content'] {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n  }\n"])));(0,p.SF)("vaadin-combo-box-overlay",[ke,Ve],{moduleId:"vaadin-combo-box-overlay-styles"});var Te=function(e){function t(){return(0,o.A)(this,t),(0,s.A)(this,t,arguments)}return(0,a.A)(t,e),(0,r.A)(t,null,[{key:"is",get:function(){return"vaadin-combo-box-overlay"}},{key:"template",get:function(){return(0,M.qy)(Ie||(Ie=(0,n.A)(['\n      <div id="backdrop" part="backdrop" hidden></div>\n      <div part="overlay" id="overlay">\n        <div part="loader"></div>\n        <div part="content" id="content"><slot></slot></div>\n      </div>\n    '])))}}])}(function(e){return function(e){function t(){var e;return(0,o.A)(this,t),(e=(0,s.A)(this,t)).requiredVerticalSpace=200,e}return(0,a.A)(t,e),(0,r.A)(t,[{key:"connectedCallback",value:function(){(0,z.A)((0,F.A)(t.prototype),"connectedCallback",this).call(this);var e=this._comboBox,i=e&&e.getAttribute("dir");i&&this.setAttribute("dir",i)}},{key:"_shouldCloseOnOutsideClick",value:function(e){var t=e.composedPath();return!t.includes(this.positionTarget)&&!t.includes(this)}},{key:"_updateOverlayWidth",value:function(){var e=this.localName;this.style.setProperty("--_".concat(e,"-default-width"),"".concat(this.positionTarget.clientWidth,"px"));var t=getComputedStyle(this._comboBox).getPropertyValue("--".concat(e,"-width"));""===t?this.style.removeProperty("--".concat(e,"-width")):this.style.setProperty("--".concat(e,"-width"),t)}},{key:"_setOverlayWidth",value:function(e,t){e&&t&&(this._updateOverlayWidth(),this._updatePosition())}}],[{key:"observers",get:function(){return["_setOverlayWidth(positionTarget, opened)"]}}])}(Se(e))}(function(e){return function(e){function t(){var e;return(0,o.A)(this,t),(e=(0,s.A)(this,t))._boundMouseDownListener=e._mouseDownListener.bind(e),e._boundMouseUpListener=e._mouseUpListener.bind(e),e._boundOutsideClickListener=e._outsideClickListener.bind(e),e._boundKeydownListener=e._keydownListener.bind(e),G&&(e._boundIosResizeListener=function(){return e._detectIosNavbar()}),e}return(0,a.A)(t,e),(0,r.A)(t,[{key:"ready",value:function(){var e=this;(0,z.A)((0,F.A)(t.prototype),"ready",this).call(this),this.addEventListener("click",(function(){})),this.$.backdrop.addEventListener("click",(function(){})),this.addEventListener("mouseup",(function(){document.activeElement===document.body&&"0"===e.$.overlay.getAttribute("tabindex")&&e.$.overlay.focus()}))}},{key:"connectedCallback",value:function(){(0,z.A)((0,F.A)(t.prototype),"connectedCallback",this).call(this),this._boundIosResizeListener&&(this._detectIosNavbar(),window.addEventListener("resize",this._boundIosResizeListener))}},{key:"disconnectedCallback",value:function(){(0,z.A)((0,F.A)(t.prototype),"disconnectedCallback",this).call(this),this._boundIosResizeListener&&window.removeEventListener("resize",this._boundIosResizeListener)}},{key:"requestContentUpdate",value:function(){this.renderer&&this.renderer.call(this.owner,this,this.owner,this.model)}},{key:"close",value:function(e){var t=new CustomEvent("vaadin-overlay-close",{bubbles:!0,cancelable:!0,detail:{sourceEvent:e}});this.dispatchEvent(t),t.defaultPrevented||(this.opened=!1)}},{key:"_detectIosNavbar",value:function(){if(this.opened){var e=window.innerHeight,t=window.innerWidth>e,i=document.documentElement.clientHeight;t&&i>e?this.style.setProperty("--vaadin-overlay-viewport-bottom","".concat(i-e,"px")):this.style.setProperty("--vaadin-overlay-viewport-bottom","0")}}},{key:"_addGlobalListeners",value:function(){document.addEventListener("mousedown",this._boundMouseDownListener),document.addEventListener("mouseup",this._boundMouseUpListener),document.documentElement.addEventListener("click",this._boundOutsideClickListener,!0)}},{key:"_removeGlobalListeners",value:function(){document.removeEventListener("mousedown",this._boundMouseDownListener),document.removeEventListener("mouseup",this._boundMouseUpListener),document.documentElement.removeEventListener("click",this._boundOutsideClickListener,!0)}},{key:"_rendererOrDataChanged",value:function(e,t,i,n){var o=this._oldOwner!==t||this._oldModel!==i;this._oldModel=i,this._oldOwner=t;var r=this._oldRenderer!==e,s=void 0!==this._oldRenderer;this._oldRenderer=e;var a=this._oldOpened!==n;this._oldOpened=n,r&&s&&(this.innerHTML="",delete this._$litPart$),n&&e&&(r||a||o)&&this.requestContentUpdate()}},{key:"_modelessChanged",value:function(e){e?(this._removeGlobalListeners(),this._exitModalState()):this.opened&&(this._addGlobalListeners(),this._enterModalState())}},{key:"_openedChanged",value:function(e,t){var i=this;e?(this._saveFocus(),this._animatedOpening(),(0,U.m)(this,(function(){i._trapFocus();var e=new CustomEvent("vaadin-overlay-open",{bubbles:!0});i.dispatchEvent(e)})),document.addEventListener("keydown",this._boundKeydownListener),this.modeless||this._addGlobalListeners()):t&&(this._resetFocus(),this._animatedClosing(),document.removeEventListener("keydown",this._boundKeydownListener),this.modeless||this._removeGlobalListeners())}},{key:"_hiddenChanged",value:function(e){e&&this.hasAttribute("closing")&&this._flushAnimation("closing")}},{key:"_shouldAnimate",value:function(){var e=getComputedStyle(this),t=e.getPropertyValue("animation-name");return!("none"===e.getPropertyValue("display"))&&t&&"none"!==t}},{key:"_enqueueAnimation",value:function(e,t){var i=this,n="__".concat(e,"Handler"),o=function e(o){o&&o.target!==i||(t(),i.removeEventListener("animationend",e),delete i[n])};this[n]=o,this.addEventListener("animationend",o)}},{key:"_flushAnimation",value:function(e){var t="__".concat(e,"Handler");"function"==typeof this[t]&&this[t]()}},{key:"_animatedOpening",value:function(){var e=this;this.parentNode===document.body&&this.hasAttribute("closing")&&this._flushAnimation("closing"),this._attachOverlay(),this.modeless||this._enterModalState(),this.setAttribute("opening",""),this._shouldAnimate()?this._enqueueAnimation("opening",(function(){e._finishOpening()})):this._finishOpening()}},{key:"_attachOverlay",value:function(){this._placeholder=document.createComment("vaadin-overlay-placeholder"),this.parentNode.insertBefore(this._placeholder,this),document.body.appendChild(this),this.bringToFront()}},{key:"_finishOpening",value:function(){this.removeAttribute("opening")}},{key:"_finishClosing",value:function(){this._detachOverlay(),this.$.overlay.style.removeProperty("pointer-events"),this.removeAttribute("closing"),this.dispatchEvent(new CustomEvent("vaadin-overlay-closed"))}},{key:"_animatedClosing",value:function(){var e=this;this.hasAttribute("opening")&&this._flushAnimation("opening"),this._placeholder&&(this._exitModalState(),this.setAttribute("closing",""),this.dispatchEvent(new CustomEvent("vaadin-overlay-closing")),this._shouldAnimate()?this._enqueueAnimation("closing",(function(){e._finishClosing()})):this._finishClosing())}},{key:"_detachOverlay",value:function(){this._placeholder.parentNode.insertBefore(this,this._placeholder),this._placeholder.parentNode.removeChild(this._placeholder)}},{key:"_mouseDownListener",value:function(e){this._mouseDownInside=e.composedPath().indexOf(this.$.overlay)>=0}},{key:"_mouseUpListener",value:function(e){this._mouseUpInside=e.composedPath().indexOf(this.$.overlay)>=0}},{key:"_shouldCloseOnOutsideClick",value:function(e){return this._last}},{key:"_outsideClickListener",value:function(e){if(e.composedPath().includes(this.$.overlay)||this._mouseDownInside||this._mouseUpInside)return this._mouseDownInside=!1,void(this._mouseUpInside=!1);if(this._shouldCloseOnOutsideClick(e)){var t=new CustomEvent("vaadin-overlay-outside-click",{bubbles:!0,cancelable:!0,detail:{sourceEvent:e}});this.dispatchEvent(t),this.opened&&!t.defaultPrevented&&this.close(e)}}},{key:"_keydownListener",value:function(e){if(this._last&&(!this.modeless||e.composedPath().includes(this.$.overlay))&&"Escape"===e.key){var t=new CustomEvent("vaadin-overlay-escape-press",{bubbles:!0,cancelable:!0,detail:{sourceEvent:e}});this.dispatchEvent(t),this.opened&&!t.defaultPrevented&&this.close(e)}}}],[{key:"properties",get:function(){return{opened:{type:Boolean,notify:!0,observer:"_openedChanged",reflectToAttribute:!0},owner:{type:Object},model:{type:Object},renderer:{type:Object},modeless:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_modelessChanged"},hidden:{type:Boolean,reflectToAttribute:!0,observer:"_hiddenChanged"},withBackdrop:{type:Boolean,value:!1,reflectToAttribute:!0}}}},{key:"observers",get:function(){return["_rendererOrDataChanged(renderer, owner, model, opened)"]}}])}(function(e){return function(e){function t(){var e;return(0,o.A)(this,t),(e=(0,s.A)(this,t)).__ariaModalController=new re(e),e.__focusTrapController=new fe(e),e.__focusRestorationController=new pe,e}return(0,a.A)(t,e),(0,r.A)(t,[{key:"ready",value:function(){(0,z.A)((0,F.A)(t.prototype),"ready",this).call(this),this.addController(this.__ariaModalController),this.addController(this.__focusTrapController),this.addController(this.__focusRestorationController)}},{key:"_resetFocus",value:function(){this.focusTrap&&(this.__ariaModalController.close(),this.__focusTrapController.releaseFocus()),this.restoreFocusOnClose&&this._shouldRestoreFocus()&&this.__focusRestorationController.restoreFocus()}},{key:"_saveFocus",value:function(){this.restoreFocusOnClose&&this.__focusRestorationController.saveFocus(this.restoreFocusNode)}},{key:"_trapFocus",value:function(){this.focusTrap&&(this.__ariaModalController.showModal(),this.__focusTrapController.trapFocus(this.$.overlay))}},{key:"_shouldRestoreFocus",value:function(){var e=ae();return e===document.body||this._deepContains(e)}},{key:"_deepContains",value:function(e){if(this.contains(e))return!0;for(var t=e,i=e.ownerDocument;t&&t!==i&&t!==this;)t=t.parentNode||t.host;return t===this}}],[{key:"properties",get:function(){return{focusTrap:{type:Boolean,value:!1},restoreFocusOnClose:{type:Boolean,value:!1},restoreFocusNode:{type:HTMLElement}}}}])}(ye(e))}(be(e)))}(B((0,p.cp)(M.Pu)))));u(Te);i(4187),i(19954),i(58971),i(73842),i(85767),i(91078);function Pe(e,t){return e.split(".").reduce((function(e,t){return e?e[t]:void 0}),t)}var Oe=0;i(22836),i(60456);var Le=0,ze=0,Fe=[],Me=!1;var De=function(e){return{run:function(t){return window.setTimeout(t,e)},cancel:function(e){window.clearTimeout(e)}}},Re={run:function(e){return window.requestAnimationFrame(e)},cancel:function(e){window.cancelAnimationFrame(e)}},He={run:function(e){return window.requestIdleCallback?window.requestIdleCallback(e):window.setTimeout(e,16)},cancel:function(e){window.cancelIdleCallback?window.cancelIdleCallback(e):window.clearTimeout(e)}},Ne={run:function(e){Me||(Me=!0,queueMicrotask((function(){return function(){Me=!1;for(var e=Fe.length,t=function(){var e=Fe[i];if(e)try{e()}catch(t){setTimeout((function(){throw t}))}},i=0;i<e;i++)t();Fe.splice(0,e),ze+=e}()}))),Fe.push(e);var t=Le;return Le+=1,t},cancel:function(e){var t=e-ze;if(t>=0){if(!Fe[t])throw new Error("invalid async handle: ".concat(e));Fe[t]=null}}},Be=new Set,qe=function(){function e(){(0,o.A)(this,e),this._asyncModule=null,this._callback=null,this._timer=null}return(0,r.A)(e,[{key:"setConfig",value:function(e,t){var i=this;this._asyncModule=e,this._callback=t,this._timer=this._asyncModule.run((function(){i._timer=null,Be.delete(i),i._callback()}))}},{key:"cancel",value:function(){this.isActive()&&(this._cancelAsync(),Be.delete(this))}},{key:"_cancelAsync",value:function(){this.isActive()&&(this._asyncModule.cancel(this._timer),this._timer=null)}},{key:"flush",value:function(){this.isActive()&&(this.cancel(),this._callback())}},{key:"isActive",value:function(){return null!=this._timer}}],[{key:"debounce",value:function(t,i,n){return t instanceof e?t._cancelAsync():t=new e,t.setConfig(i,n),t}}])}();var We=function(){var e,t;do{t=void 0,t=Boolean(Be.size),Be.forEach((function(e){try{e.flush()}catch(t){setTimeout((function(){throw t}))}})),e=t}while(e)},Ue=(i(47711),navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS ([0-9]+)/)),je=Ue&&Ue[1]>=8,$e={_ratio:.5,_scrollerPaddingTop:0,_scrollPosition:0,_physicalSize:0,_physicalAverage:0,_physicalAverageCount:0,_physicalTop:0,_virtualCount:0,_estScrollHeight:0,_scrollHeight:0,_viewportHeight:0,_viewportWidth:0,_physicalItems:null,_physicalSizes:null,_firstVisibleIndexVal:null,_lastVisibleIndexVal:null,_maxPages:2,_templateCost:0,get _physicalBottom(){return this._physicalTop+this._physicalSize},get _scrollBottom(){return this._scrollPosition+this._viewportHeight},get _virtualEnd(){return this._virtualStart+this._physicalCount-1},get _hiddenContentSize(){return this._physicalSize-this._viewportHeight},get _maxScrollTop(){return this._estScrollHeight-this._viewportHeight+this._scrollOffset},get _maxVirtualStart(){var e=this._virtualCount;return Math.max(0,e-this._physicalCount)},get _virtualStart(){return this._virtualStartVal||0},set _virtualStart(e){e=this._clamp(e,0,this._maxVirtualStart),this._virtualStartVal=e},get _physicalStart(){return this._physicalStartVal||0},set _physicalStart(e){(e%=this._physicalCount)<0&&(e=this._physicalCount+e),this._physicalStartVal=e},get _physicalEnd(){return(this._physicalStart+this._physicalCount-1)%this._physicalCount},get _physicalCount(){return this._physicalCountVal||0},set _physicalCount(e){this._physicalCountVal=e},get _optPhysicalSize(){return 0===this._viewportHeight?1/0:this._viewportHeight*this._maxPages},get _isVisible(){return Boolean(this.offsetWidth||this.offsetHeight)},get firstVisibleIndex(){var e=this,t=this._firstVisibleIndexVal;if(null==t){var i=this._physicalTop+this._scrollOffset;t=this._iterateItems((function(t,n){if((i+=e._getPhysicalSizeIncrement(t))>e._scrollPosition)return n}))||0,this._firstVisibleIndexVal=t}return t},get lastVisibleIndex(){var e=this,t=this._lastVisibleIndexVal;if(null==t){var i=this._physicalTop+this._scrollOffset;this._iterateItems((function(n,o){i<e._scrollBottom&&(t=o),i+=e._getPhysicalSizeIncrement(n)})),this._lastVisibleIndexVal=t}return t},get _scrollOffset(){return this._scrollerPaddingTop+this.scrollOffset},_scrollHandler:function(){var e=Math.max(0,Math.min(this._maxScrollTop,this._scrollTop)),t=e-this._scrollPosition,i=t>=0;if(this._scrollPosition=e,this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,Math.abs(t)>this._physicalSize&&this._physicalSize>0){t-=this._scrollOffset;var n=Math.round(t/this._physicalAverage);this._virtualStart+=n,this._physicalStart+=n,this._physicalTop=Math.min(Math.floor(this._virtualStart)*this._physicalAverage,this._scrollPosition),this._update()}else if(this._physicalCount>0){var o=this._getReusables(i);i?(this._physicalTop=o.physicalTop,this._virtualStart+=o.indexes.length,this._physicalStart+=o.indexes.length):(this._virtualStart-=o.indexes.length,this._physicalStart-=o.indexes.length),this._update(o.indexes,i?null:o.indexes),this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,0),Ne)}},_getReusables:function(e){var t,i,n,o=[],r=this._hiddenContentSize*this._ratio,s=this._virtualStart,a=this._virtualEnd,l=this._physicalCount,u=this._physicalTop+this._scrollOffset,h=this._physicalBottom+this._scrollOffset,c=this._scrollPosition,d=this._scrollBottom;for(e?(t=this._physicalStart,i=c-u):(t=this._physicalEnd,i=h-d);i-=n=this._getPhysicalSizeIncrement(t),!(o.length>=l||i<=r);)if(e){if(a+o.length+1>=this._virtualCount)break;if(u+n>=c-this._scrollOffset)break;o.push(t),u+=n,t=(t+1)%l}else{if(s-o.length<=0)break;if(u+this._physicalSize-n<=d)break;o.push(t),u-=n,t=0===t?l-1:t-1}return{indexes:o,physicalTop:u-this._scrollOffset}},_update:function(e,t){if(!(e&&0===e.length||0===this._physicalCount)){if(this._assignModels(e),this._updateMetrics(e),t)for(;t.length;){var i=t.pop();this._physicalTop-=this._getPhysicalSizeIncrement(i)}this._positionItems(),this._updateScrollerSize()}},_isClientFull:function(){return 0!==this._scrollBottom&&this._physicalBottom-1>=this._scrollBottom&&this._physicalTop<=this._scrollPosition},_increasePoolIfNeeded:function(e){var t=this._clamp(this._physicalCount+e,3,this._virtualCount-this._virtualStart)-this._physicalCount,i=Math.round(.5*this._physicalCount);if(!(t<0)){if(t>0){var n=window.performance.now();[].push.apply(this._physicalItems,this._createPool(t));for(var o=0;o<t;o++)this._physicalSizes.push(0);this._physicalCount+=t,this._physicalStart>this._physicalEnd&&this._isIndexRendered(this._focusedVirtualIndex)&&this._getPhysicalIndex(this._focusedVirtualIndex)<this._physicalEnd&&(this._physicalStart+=t),this._update(),this._templateCost=(window.performance.now()-n)/t,i=Math.round(.5*this._physicalCount)}this._virtualEnd>=this._virtualCount-1||0===i||(this._isClientFull()?this._physicalSize<this._optPhysicalSize&&this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,this._clamp(Math.round(50/this._templateCost),1,i)),He):this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,i),Ne))}},_render:function(){if(this.isAttached&&this._isVisible)if(0!==this._physicalCount){var e=this._getReusables(!0);this._physicalTop=e.physicalTop,this._virtualStart+=e.indexes.length,this._physicalStart+=e.indexes.length,this._update(e.indexes),this._update(),this._increasePoolIfNeeded(0)}else this._virtualCount>0&&(this.updateViewportBoundaries(),this._increasePoolIfNeeded(3))},_itemsChanged:function(e){"items"===e.path&&(this._virtualStart=0,this._physicalTop=0,this._virtualCount=this.items?this.items.length:0,this._physicalIndexForKey={},this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,this._physicalItems||(this._physicalItems=[]),this._physicalSizes||(this._physicalSizes=[]),this._physicalStart=0,this._scrollTop>this._scrollOffset&&this._resetScrollPosition(0),this._debounce("_render",this._render,Re))},_iterateItems:function(e,t){var i,n,o,r;if(2===arguments.length&&t){for(r=0;r<t.length;r++)if(i=t[r],n=this._computeVidx(i),null!=(o=e.call(this,i,n)))return o}else{for(i=this._physicalStart,n=this._virtualStart;i<this._physicalCount;i++,n++)if(null!=(o=e.call(this,i,n)))return o;for(i=0;i<this._physicalStart;i++,n++)if(null!=(o=e.call(this,i,n)))return o}},_computeVidx:function(e){return e>=this._physicalStart?this._virtualStart+(e-this._physicalStart):this._virtualStart+(this._physicalCount-this._physicalStart)+e},_positionItems:function(){var e=this;this._adjustScrollPosition();var t=this._physicalTop;this._iterateItems((function(i){e.translate3d(0,"".concat(t,"px"),0,e._physicalItems[i]),t+=e._physicalSizes[i]}))},_getPhysicalSizeIncrement:function(e){return this._physicalSizes[e]},_adjustScrollPosition:function(){var e=0===this._virtualStart?this._physicalTop:Math.min(this._scrollPosition+this._physicalTop,0);if(0!==e){this._physicalTop-=e;var t=this._scrollPosition;!je&&t>0&&this._resetScrollPosition(t-e)}},_resetScrollPosition:function(e){this.scrollTarget&&e>=0&&(this._scrollTop=e,this._scrollPosition=this._scrollTop)},_updateScrollerSize:function(e){var t=this._physicalBottom+Math.max(this._virtualCount-this._physicalCount-this._virtualStart,0)*this._physicalAverage;this._estScrollHeight=t,(e||0===this._scrollHeight||this._scrollPosition>=t-this._physicalSize||Math.abs(t-this._scrollHeight)>=this._viewportHeight)&&(this.$.items.style.height="".concat(t,"px"),this._scrollHeight=t)},scrollToIndex:function(e){if(!("number"!=typeof e||e<0||e>this.items.length-1)&&(We(),0!==this._physicalCount)){e=this._clamp(e,0,this._virtualCount-1),(!this._isIndexRendered(e)||e>=this._maxVirtualStart)&&(this._virtualStart=e-1),this._assignModels(),this._updateMetrics(),this._physicalTop=this._virtualStart*this._physicalAverage;for(var t=this._physicalStart,i=this._virtualStart,n=0,o=this._hiddenContentSize;i<e&&n<=o;)n+=this._getPhysicalSizeIncrement(t),t=(t+1)%this._physicalCount,i+=1;this._updateScrollerSize(!0),this._positionItems(),this._resetScrollPosition(this._physicalTop+this._scrollOffset+n),this._increasePoolIfNeeded(0),this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null}},_resetAverage:function(){this._physicalAverage=0,this._physicalAverageCount=0},_resizeHandler:function(){var e=this;this._debounce("_render",(function(){e._firstVisibleIndexVal=null,e._lastVisibleIndexVal=null,e._isVisible?(e.updateViewportBoundaries(),e.toggleScrollListener(!0),e._resetAverage(),e._render()):e.toggleScrollListener(!1)}),Re)},_isIndexRendered:function(e){return e>=this._virtualStart&&e<=this._virtualEnd},_getPhysicalIndex:function(e){return(this._physicalStart+(e-this._virtualStart))%this._physicalCount},_clamp:function(e,t,i){return Math.min(i,Math.max(t,e))},_debounce:function(e,t,i){var n;this._debouncers||(this._debouncers={}),this._debouncers[e]=qe.debounce(this._debouncers[e],i,t.bind(this)),n=this._debouncers[e],Be.add(n)}},Ke=1e3,Ge=function(){function e(t){var i=this,n=t.createElements,r=t.updateElement,s=t.scrollTarget,a=t.scrollContainer,l=t.elementsContainer,u=t.reorderElements;(0,o.A)(this,e),this.isAttached=!0,this._vidxOffset=0,this.createElements=n,this.updateElement=r,this.scrollTarget=s,this.scrollContainer=a,this.elementsContainer=l||a,this.reorderElements=u,this._maxPages=1.3,this.__placeholderHeight=200,this.__elementHeightQueue=Array(10),this.timeouts={SCROLL_REORDER:500,IGNORE_WHEEL:500,FIX_INVALID_ITEM_POSITIONING:100},this.__resizeObserver=new ResizeObserver((function(){return i._resizeHandler()})),"visible"===getComputedStyle(this.scrollTarget).overflow&&(this.scrollTarget.style.overflow="auto"),"static"===getComputedStyle(this.scrollContainer).position&&(this.scrollContainer.style.position="relative"),this.__resizeObserver.observe(this.scrollTarget),this.scrollTarget.addEventListener("scroll",(function(){return i._scrollHandler()})),this._scrollLineHeight=this._getScrollLineHeight(),this.scrollTarget.addEventListener("wheel",(function(e){return i.__onWheel(e)})),this.reorderElements&&(this.scrollTarget.addEventListener("mousedown",(function(){i.__mouseDown=!0})),this.scrollTarget.addEventListener("mouseup",(function(){i.__mouseDown=!1,i.__pendingReorder&&i.__reorderElements()})))}return(0,r.A)(e,[{key:"scrollOffset",get:function(){return 0}},{key:"adjustedFirstVisibleIndex",get:function(){return this.firstVisibleIndex+this._vidxOffset}},{key:"adjustedLastVisibleIndex",get:function(){return this.lastVisibleIndex+this._vidxOffset}},{key:"_maxVirtualIndexOffset",get:function(){return this.size-this._virtualCount}},{key:"__hasPlaceholders",value:function(){return this.__getVisibleElements().some((function(e){return e.__virtualizerPlaceholder}))}},{key:"scrollToIndex",value:function(t){if("number"==typeof t&&!isNaN(t)&&0!==this.size&&this.scrollTarget.offsetHeight){delete this.__pendingScrollToIndex,this._physicalCount<=3&&this.flush(),t=this._clamp(t,0,this.size-1);var i=this.__getVisibleElements().length,n=Math.floor(t/this.size*this._virtualCount);this._virtualCount-n<i?(n=this._virtualCount-(this.size-t),this._vidxOffset=this._maxVirtualIndexOffset):n<i?t<Ke?(n=t,this._vidxOffset=0):(n=Ke,this._vidxOffset=t-n):this._vidxOffset=t-n,this.__skipNextVirtualIndexAdjust=!0,(0,z.A)((0,F.A)(e.prototype),"scrollToIndex",this).call(this,n),this.adjustedFirstVisibleIndex!==t&&this._scrollTop<this._maxScrollTop&&!this.grid&&(this._scrollTop-=this.__getIndexScrollOffset(t)||0),this._scrollHandler(),this.__hasPlaceholders()&&(this.__pendingScrollToIndex=t)}}},{key:"flush",value:function(){var e=this._physicalCount;0!==this.scrollTarget.offsetHeight&&(this._resizeHandler(),We(),this._scrollHandler(),this.__fixInvalidItemPositioningDebouncer&&this.__fixInvalidItemPositioningDebouncer.flush(),this.__scrollReorderDebouncer&&this.__scrollReorderDebouncer.flush(),this.__debouncerWheelAnimationFrame&&this.__debouncerWheelAnimationFrame.flush(),this._physicalCount!==e&&this.flush())}},{key:"update",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.size-1,n=[];this.__getVisibleElements().forEach((function(o){o.__virtualIndex>=t&&o.__virtualIndex<=i&&(e.__updateElement(o,o.__virtualIndex,!0),n.push(o))})),this.__afterElementsUpdated(n)}},{key:"_updateMetrics",value:function(e){var t=this;We();var i=0,n=0,o=this._physicalAverageCount,r=this._physicalAverage;this._iterateItems((function(e,o){n+=t._physicalSizes[e],t._physicalSizes[e]=Math.ceil(t.__getBorderBoxHeight(t._physicalItems[e])),i+=t._physicalSizes[e],t._physicalAverageCount+=t._physicalSizes[e]?1:0}),e),this._physicalSize=this._physicalSize+i-n,this._physicalAverageCount!==o&&(this._physicalAverage=Math.round((r*o+i)/this._physicalAverageCount))}},{key:"__getBorderBoxHeight",value:function(e){var t=getComputedStyle(e),i=parseFloat(t.height)||0;return"border-box"===t.boxSizing?i:i+(parseFloat(t.paddingBottom)||0)+(parseFloat(t.paddingTop)||0)+(parseFloat(t.borderBottomWidth)||0)+(parseFloat(t.borderTopWidth)||0)}},{key:"__updateElement",value:function(e,t,i){e.__virtualizerPlaceholder&&(e.style.paddingTop="",e.__virtualizerPlaceholder=!1),this.__preventElementUpdates||e.__lastUpdatedIndex===t&&!i||(this.updateElement(e,t),e.__lastUpdatedIndex=t)}},{key:"__afterElementsUpdated",value:function(e){var t=this;e.forEach((function(e){var i=e.offsetHeight;if(0===i)e.style.paddingTop="".concat(t.__placeholderHeight,"px"),e.__virtualizerPlaceholder=!0,t.__placeholderClearDebouncer=qe.debounce(t.__placeholderClearDebouncer,Re,(function(){return t._resizeHandler()}));else{t.__elementHeightQueue.push(i),t.__elementHeightQueue.shift();var n=t.__elementHeightQueue.filter((function(e){return void 0!==e}));t.__placeholderHeight=Math.round(n.reduce((function(e,t){return e+t}),0)/n.length)}})),void 0===this.__pendingScrollToIndex||this.__hasPlaceholders()||this.scrollToIndex(this.__pendingScrollToIndex)}},{key:"__getIndexScrollOffset",value:function(e){var t=this.__getVisibleElements().find((function(t){return t.__virtualIndex===e}));return t?this.scrollTarget.getBoundingClientRect().top-t.getBoundingClientRect().top:void 0}},{key:"size",get:function(){return this.__size},set:function(e){var t=this;if(e!==this.size){var i,n;if(this.__fixInvalidItemPositioningDebouncer&&this.__fixInvalidItemPositioningDebouncer.cancel(),this._debouncers&&this._debouncers._increasePoolIfNeeded&&this._debouncers._increasePoolIfNeeded.cancel(),this.__preventElementUpdates=!0,e>0&&(i=this.adjustedFirstVisibleIndex,n=this.__getIndexScrollOffset(i)),this.__size=e,this._itemsChanged({path:"items"}),We(),e>0){i=Math.min(i,e-1),this.scrollToIndex(i);var o=this.__getIndexScrollOffset(i);void 0!==n&&void 0!==o&&(this._scrollTop+=n-o)}this.__preventElementUpdates=!1,this._isVisible||this._assignModels(),this.elementsContainer.children.length||requestAnimationFrame((function(){return t._resizeHandler()})),this._resizeHandler(),We()}}},{key:"_scrollTop",get:function(){return this.scrollTarget.scrollTop},set:function(e){this.scrollTarget.scrollTop=e}},{key:"items",get:function(){return{length:Math.min(this.size,1e5)}}},{key:"offsetHeight",get:function(){return this.scrollTarget.offsetHeight}},{key:"$",get:function(){return{items:this.scrollContainer}}},{key:"updateViewportBoundaries",value:function(){var e=window.getComputedStyle(this.scrollTarget);this._scrollerPaddingTop=this.scrollTarget===this?0:parseInt(e["padding-top"],10),this._isRTL=Boolean("rtl"===e.direction),this._viewportWidth=this.elementsContainer.offsetWidth,this._viewportHeight=this.scrollTarget.offsetHeight,this._scrollPageHeight=this._viewportHeight-this._scrollLineHeight,this.grid&&this._updateGridMetrics()}},{key:"setAttribute",value:function(){}},{key:"_createPool",value:function(e){var t=this,i=this.createElements(e),n=document.createDocumentFragment();return i.forEach((function(e){e.style.position="absolute",n.appendChild(e),t.__resizeObserver.observe(e)})),this.elementsContainer.appendChild(n),i}},{key:"_assignModels",value:function(e){var t=this,i=[];this._iterateItems((function(e,n){var o=t._physicalItems[e];o.hidden=n>=t.size,o.hidden?delete o.__lastUpdatedIndex:(o.__virtualIndex=n+(t._vidxOffset||0),t.__updateElement(o,o.__virtualIndex),i.push(o))}),e),this.__afterElementsUpdated(i)}},{key:"_isClientFull",value:function(){var t=this;return setTimeout((function(){t.__clientFull=!0})),this.__clientFull||(0,z.A)((0,F.A)(e.prototype),"_isClientFull",this).call(this)}},{key:"translate3d",value:function(e,t,i,n){n.style.transform="translateY(".concat(t,")")}},{key:"toggleScrollListener",value:function(){}},{key:"_scrollHandler",value:function(){var t=this;if(0!==this.scrollTarget.offsetHeight){this._adjustVirtualIndexOffset(this._scrollTop-(this.__previousScrollTop||0));var i=this.scrollTarget.scrollTop-this._scrollPosition;if((0,z.A)((0,F.A)(e.prototype),"_scrollHandler",this).call(this),0!==this._physicalCount){var n=i>=0,o=this._getReusables(!n);o.indexes.length&&(this._physicalTop=o.physicalTop,n?(this._virtualStart-=o.indexes.length,this._physicalStart-=o.indexes.length):(this._virtualStart+=o.indexes.length,this._physicalStart+=o.indexes.length),this._resizeHandler())}i&&(this.__fixInvalidItemPositioningDebouncer=qe.debounce(this.__fixInvalidItemPositioningDebouncer,De(this.timeouts.FIX_INVALID_ITEM_POSITIONING),(function(){return t.__fixInvalidItemPositioning()}))),this.reorderElements&&(this.__scrollReorderDebouncer=qe.debounce(this.__scrollReorderDebouncer,De(this.timeouts.SCROLL_REORDER),(function(){return t.__reorderElements()}))),this.__previousScrollTop=this._scrollTop,0===this._scrollTop&&0!==this.firstVisibleIndex&&Math.abs(i)>0&&this.scrollToIndex(0)}}},{key:"__fixInvalidItemPositioning",value:function(){if(this.scrollTarget.isConnected){var e=this._physicalTop>this._scrollTop,t=this._physicalBottom<this._scrollBottom,i=0===this.adjustedFirstVisibleIndex,n=this.adjustedLastVisibleIndex===this.size-1;if(e&&!i||t&&!n){var o=t,r=this._ratio;this._ratio=0,this._scrollPosition=this._scrollTop+(o?-1:1),this._scrollHandler(),this._ratio=r}}}},{key:"__onWheel",value:function(e){var t=this;if(!e.ctrlKey&&!this._hasScrolledAncestor(e.target,e.deltaX,e.deltaY)){var i=e.deltaY;if(e.deltaMode===WheelEvent.DOM_DELTA_LINE?i*=this._scrollLineHeight:e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(i*=this._scrollPageHeight),this._deltaYAcc||(this._deltaYAcc=0),this._wheelAnimationFrame)return this._deltaYAcc+=i,void e.preventDefault();i+=this._deltaYAcc,this._deltaYAcc=0,this._wheelAnimationFrame=!0,this.__debouncerWheelAnimationFrame=qe.debounce(this.__debouncerWheelAnimationFrame,Re,(function(){t._wheelAnimationFrame=!1}));var n=Math.abs(e.deltaX)+Math.abs(i);this._canScroll(this.scrollTarget,e.deltaX,i)?(e.preventDefault(),this.scrollTarget.scrollTop+=i,this.scrollTarget.scrollLeft+=e.deltaX,this._hasResidualMomentum=!0,this._ignoreNewWheel=!0,this._debouncerIgnoreNewWheel=qe.debounce(this._debouncerIgnoreNewWheel,De(this.timeouts.IGNORE_WHEEL),(function(){t._ignoreNewWheel=!1}))):this._hasResidualMomentum&&n<=this._previousMomentum||this._ignoreNewWheel?e.preventDefault():n>this._previousMomentum&&(this._hasResidualMomentum=!1),this._previousMomentum=n}}},{key:"_hasScrolledAncestor",value:function(e,t,i){return e!==this.scrollTarget&&e!==this.scrollTarget.getRootNode().host&&(!(!this._canScroll(e,t,i)||-1===["auto","scroll"].indexOf(getComputedStyle(e).overflow))||(e!==this&&e.parentElement?this._hasScrolledAncestor(e.parentElement,t,i):void 0))}},{key:"_canScroll",value:function(e,t,i){return i>0&&e.scrollTop<e.scrollHeight-e.offsetHeight||i<0&&e.scrollTop>0||t>0&&e.scrollLeft<e.scrollWidth-e.offsetWidth||t<0&&e.scrollLeft>0}},{key:"_increasePoolIfNeeded",value:function(t){if(this._physicalCount>2&&t){var i=Math.ceil(this._optPhysicalSize/this._physicalAverage)-this._physicalCount;(0,z.A)((0,F.A)(e.prototype),"_increasePoolIfNeeded",this).call(this,Math.max(t,Math.min(100,i)))}else(0,z.A)((0,F.A)(e.prototype),"_increasePoolIfNeeded",this).call(this,t)}},{key:"_getScrollLineHeight",value:function(){var e=document.createElement("div");e.style.fontSize="initial",e.style.display="none",document.body.appendChild(e);var t=window.getComputedStyle(e).fontSize;return document.body.removeChild(e),t?window.parseInt(t):void 0}},{key:"__getVisibleElements",value:function(){return Array.from(this.elementsContainer.children).filter((function(e){return!e.hidden}))}},{key:"__reorderElements",value:function(){var e=this;if(this.__mouseDown)this.__pendingReorder=!0;else{this.__pendingReorder=!1;var t=this._virtualStart+(this._vidxOffset||0),i=this.__getVisibleElements(),n=i.find((function(t){return t.contains(e.elementsContainer.getRootNode().activeElement)||t.contains(e.scrollTarget.getRootNode().activeElement)}))||i[0];if(n){var o=n.__virtualIndex-t,r=i.indexOf(n)-o;if(r>0)for(var s=0;s<r;s++)this.elementsContainer.appendChild(i[s]);else if(r<0)for(var a=i.length+r;a<i.length;a++)this.elementsContainer.insertBefore(i[a],i[0]);if(Y){var l=this.scrollTarget.style.transform;this.scrollTarget.style.transform="translateZ(0)",setTimeout((function(){e.scrollTarget.style.transform=l}))}}}}},{key:"_adjustVirtualIndexOffset",value:function(t){var i=this._maxVirtualIndexOffset;if(this._virtualCount>=this.size)this._vidxOffset=0;else if(this.__skipNextVirtualIndexAdjust)this.__skipNextVirtualIndexAdjust=!1;else if(Math.abs(t)>1e4){var n=this._scrollTop/(this.scrollTarget.scrollHeight-this.scrollTarget.clientHeight);this._vidxOffset=Math.round(n*i)}else{var o=this._vidxOffset,r=Ke;0===this._scrollTop?(this._vidxOffset=0,o!==this._vidxOffset&&(0,z.A)((0,F.A)(e.prototype),"scrollToIndex",this).call(this,0)):this.firstVisibleIndex<r&&this._vidxOffset>0&&(this._vidxOffset-=Math.min(this._vidxOffset,100),(0,z.A)((0,F.A)(e.prototype),"scrollToIndex",this).call(this,this.firstVisibleIndex+(o-this._vidxOffset))),this._scrollTop>=this._maxScrollTop&&this._maxScrollTop>0?(this._vidxOffset=i,o!==this._vidxOffset&&(0,z.A)((0,F.A)(e.prototype),"scrollToIndex",this).call(this,this._virtualCount-1)):this.firstVisibleIndex>this._virtualCount-r&&this._vidxOffset<i&&(this._vidxOffset+=Math.min(i-this._vidxOffset,100),(0,z.A)((0,F.A)(e.prototype),"scrollToIndex",this).call(this,this.firstVisibleIndex-(this._vidxOffset-o)))}}}])}();Object.setPrototypeOf(Ge.prototype,$e);var Ye,Xe=function(){return(0,r.A)((function e(t){(0,o.A)(this,e),this.__adapter=new Ge(t)}),[{key:"firstVisibleIndex",get:function(){return this.__adapter.adjustedFirstVisibleIndex}},{key:"lastVisibleIndex",get:function(){return this.__adapter.adjustedLastVisibleIndex}},{key:"size",get:function(){return this.__adapter.size},set:function(e){this.__adapter.size=e}},{key:"scrollToIndex",value:function(e){this.__adapter.scrollToIndex(e)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.size-1;this.__adapter.update(e,t)}},{key:"flush",value:function(){this.__adapter.flush()}}])}(),Qe=function(){return(0,r.A)((function e(){(0,o.A)(this,e)}),[{key:"toString",value:function(){return""}}])}(),Ze=function(e){function t(){return(0,o.A)(this,t),(0,s.A)(this,t,arguments)}return(0,a.A)(t,e),(0,r.A)(t,null,[{key:"is",get:function(){return"vaadin-combo-box-scroller"}},{key:"template",get:function(){return(0,M.qy)(Ye||(Ye=(0,n.A)(["\n      <style>\n        :host {\n          display: block;\n          min-height: 1px;\n          overflow: auto;\n\n          /* Fixes item background from getting on top of scrollbars on Safari */\n          transform: translate3d(0, 0, 0);\n\n          /* Enable momentum scrolling on iOS */\n          -webkit-overflow-scrolling: touch;\n\n          /* Fixes scrollbar disappearing when 'Show scroll bars: Always' enabled in Safari */\n          box-shadow: 0 0 0 white;\n        }\n\n        #selector {\n          border-width: var(--_vaadin-combo-box-items-container-border-width);\n          border-style: var(--_vaadin-combo-box-items-container-border-style);\n          border-color: var(--_vaadin-combo-box-items-container-border-color, transparent);\n          position: relative;\n        }\n      </style>\n      <div id=\"selector\">\n        <slot></slot>\n      </div>\n    "])))}}])}(function(e){return function(e){function t(){var e;return(0,o.A)(this,t),(e=(0,s.A)(this,t)).__boundOnItemClick=e.__onItemClick.bind(e),e}return(0,a.A)(t,e),(0,r.A)(t,[{key:"_viewportTotalPaddingBottom",get:function(){if(void 0===this._cachedViewportTotalPaddingBottom){var e=window.getComputedStyle(this.$.selector);this._cachedViewportTotalPaddingBottom=[e.paddingBottom,e.borderBottomWidth].map((function(e){return parseInt(e,10)})).reduce((function(e,t){return e+t}))}return this._cachedViewportTotalPaddingBottom}},{key:"ready",value:function(){(0,z.A)((0,F.A)(t.prototype),"ready",this).call(this),this.setAttribute("role","listbox"),this.id="".concat(this.localName,"-").concat(Oe++),this.__hostTagName=this.constructor.is.replace("-scroller",""),this.addEventListener("click",(function(e){return e.stopPropagation()})),this.__patchWheelOverScrolling()}},{key:"requestContentUpdate",value:function(){this.opened&&this.__virtualizer.update()}},{key:"scrollIntoView",value:function(e){var t=this;if(this.opened&&e>=0){var i=this._visibleItemsCount(),n=e;e>this.__virtualizer.lastVisibleIndex-1?(this.__virtualizer.scrollToIndex(e),n=e-i+1):e>this.__virtualizer.firstVisibleIndex&&(n=this.__virtualizer.firstVisibleIndex),this.__virtualizer.scrollToIndex(Math.max(0,n));var o=(0,q.A)(this.children).find((function(e){return!e.hidden&&e.index===t.__virtualizer.lastVisibleIndex}));if(o&&e===o.index){var r=o.getBoundingClientRect(),s=this.getBoundingClientRect(),a=r.bottom-s.bottom+this._viewportTotalPaddingBottom;a>0&&(this.scrollTop+=a)}}}},{key:"_isItemSelected",value:function(e,t,i){return!(e instanceof Qe)&&(i&&void 0!==e&&void 0!==t?Pe(i,e)===Pe(i,t):e===t)}},{key:"__initVirtualizer",value:function(){this.__virtualizer=new Xe({createElements:this.__createElements.bind(this),updateElement:this._updateElement.bind(this),elementsContainer:this,scrollTarget:this,scrollContainer:this.$.selector})}},{key:"__itemsChanged",value:function(e){e&&this.__virtualizer&&(this.__setVirtualizerItems(e),this.requestContentUpdate())}},{key:"__loadingChanged",value:function(){this.requestContentUpdate()}},{key:"__openedChanged",value:function(e){e&&(this.__virtualizer||(this.__initVirtualizer(),this.items&&this.__setVirtualizerItems(this.items)),this.requestContentUpdate())}},{key:"__setVirtualizerItems",value:function(e){this.__virtualizer.size=e.length,this.__virtualizer.flush()}},{key:"__selectedItemChanged",value:function(){this.requestContentUpdate()}},{key:"__focusedIndexChanged",value:function(e,t){e!==t&&this.requestContentUpdate(),e>=0&&!this.loading&&this.scrollIntoView(e)}},{key:"__rendererChanged",value:function(e,t){(e||t)&&this.requestContentUpdate()}},{key:"__createElements",value:function(e){var t=this;return(0,q.A)(Array(e)).map((function(){var e=document.createElement("".concat(t.__hostTagName,"-item"));return e.addEventListener("click",t.__boundOnItemClick),e.tabIndex="-1",e.style.width="100%",e}))}},{key:"_updateElement",value:function(e,t){var i=this.items[t],n=this.focusedIndex,o=this._isItemSelected(i,this.selectedItem,this.itemIdPath);e.setProperties({item:i,index:t,label:this.getItemLabel(i),selected:o,renderer:this.renderer,focused:!this.loading&&n===t}),e.id="".concat(this.__hostTagName,"-item-").concat(t),e.setAttribute("role",void 0!==t&&"option"),e.setAttribute("aria-selected",o.toString()),e.setAttribute("aria-posinset",t+1),e.setAttribute("aria-setsize",this.items.length),this.theme?e.setAttribute("theme",this.theme):e.removeAttribute("theme"),i instanceof Qe&&this.__requestItemByIndex(t)}},{key:"__onItemClick",value:function(e){this.dispatchEvent(new CustomEvent("selection-changed",{detail:{item:e.currentTarget.item}}))}},{key:"__patchWheelOverScrolling",value:function(){var e=this;this.$.selector.addEventListener("wheel",(function(t){var i=0===e.scrollTop,n=e.scrollHeight-e.scrollTop-e.clientHeight<=1;(i&&t.deltaY<0||n&&t.deltaY>0)&&t.preventDefault()}))}},{key:"__requestItemByIndex",value:function(e){var t=this;requestAnimationFrame((function(){t.dispatchEvent(new CustomEvent("index-requested",{detail:{index:e,currentScrollerPos:t._oldScrollerPosition}}))}))}},{key:"_visibleItemsCount",value:function(){return this.__virtualizer.scrollToIndex(this.__virtualizer.firstVisibleIndex),this.__virtualizer.size>0?this.__virtualizer.lastVisibleIndex-this.__virtualizer.firstVisibleIndex+1:0}}],[{key:"properties",get:function(){return{items:{type:Array,observer:"__itemsChanged"},focusedIndex:{type:Number,observer:"__focusedIndexChanged"},loading:{type:Boolean,observer:"__loadingChanged"},opened:{type:Boolean,observer:"__openedChanged"},selectedItem:{type:Object,observer:"__selectedItemChanged"},itemIdPath:{type:String},owner:{type:Object},getItemLabel:{type:Object},renderer:{type:Object,observer:"__rendererChanged"},theme:{type:String}}}}])}(e)}(M.Pu));u(Ze);var Je=i(42559),et=(0,me.y)((function(e){return function(e){function t(){return(0,o.A)(this,t),(0,s.A)(this,t,arguments)}return(0,a.A)(t,e),(0,r.A)(t,[{key:"validate",value:function(){var e=this.checkValidity();return this._setInvalid(!e),this.dispatchEvent(new CustomEvent("validated",{detail:{valid:e}})),e}},{key:"checkValidity",value:function(){return!this.required||!!this.value}},{key:"_setInvalid",value:function(e){this._shouldSetInvalid(e)&&(this.invalid=e)}},{key:"_shouldSetInvalid",value:function(e){return!0}}],[{key:"properties",get:function(){return{invalid:{type:Boolean,reflectToAttribute:!0,notify:!0,value:!1},required:{type:Boolean,reflectToAttribute:!0}}}}])}(e)})),tt=i(539),it=(i(21968),i(1158),i(34186),(0,me.y)((function(e){return function(e){function t(){return(0,o.A)(this,t),(0,s.A)(this,t,arguments)}return(0,a.A)(t,e),(0,r.A)(t,[{key:"_disabledChanged",value:function(e){this._setAriaDisabled(e)}},{key:"_setAriaDisabled",value:function(e){e?this.setAttribute("aria-disabled","true"):this.removeAttribute("aria-disabled")}},{key:"click",value:function(){this.disabled||(0,z.A)((0,F.A)(t.prototype),"click",this).call(this)}}],[{key:"properties",get:function(){return{disabled:{type:Boolean,value:!1,observer:"_disabledChanged",reflectToAttribute:!0}}}}])}(e)}))),nt=(0,me.y)((function(e){return function(e){function t(){return(0,o.A)(this,t),(0,s.A)(this,t,arguments)}return(0,a.A)(t,e),(0,r.A)(t,[{key:"_keyboardActive",get:function(){return se}},{key:"ready",value:function(){var e=this;this.addEventListener("focusin",(function(t){e._shouldSetFocus(t)&&e._setFocused(!0)})),this.addEventListener("focusout",(function(t){e._shouldRemoveFocus(t)&&e._setFocused(!1)})),(0,z.A)((0,F.A)(t.prototype),"ready",this).call(this)}},{key:"disconnectedCallback",value:function(){(0,z.A)((0,F.A)(t.prototype),"disconnectedCallback",this).call(this),this.hasAttribute("focused")&&this._setFocused(!1)}},{key:"_setFocused",value:function(e){this.toggleAttribute("focused",e),this.toggleAttribute("focus-ring",e&&this._keyboardActive)}},{key:"_shouldSetFocus",value:function(e){return!0}},{key:"_shouldRemoveFocus",value:function(e){return!0}}])}(e)})),ot=(0,me.y)((function(e){return function(e){function t(){return(0,o.A)(this,t),(0,s.A)(this,t,arguments)}return(0,a.A)(t,e),(0,r.A)(t,[{key:"ready",value:function(){var e=this;(0,z.A)((0,F.A)(t.prototype),"ready",this).call(this),this.addEventListener("keydown",(function(t){e._onKeyDown(t)})),this.addEventListener("keyup",(function(t){e._onKeyUp(t)}))}},{key:"_onKeyDown",value:function(e){switch(e.key){case"Enter":this._onEnter(e);break;case"Escape":this._onEscape(e)}}},{key:"_onKeyUp",value:function(e){}},{key:"_onEnter",value:function(e){}},{key:"_onEscape",value:function(e){}}])}(e)}));var rt=(0,me.y)((function(e){return function(e){function t(){var e;return(0,o.A)(this,t),(e=(0,s.A)(this,t))._boundOnInput=e.__onInput.bind(e),e._boundOnChange=e._onChange.bind(e),e}return(0,a.A)(t,e),(0,r.A)(t,[{key:"_hasValue",get:function(){return null!=this.value&&""!==this.value}},{key:"_inputElementValueProperty",get:function(){return"value"}},{key:"_inputElementValue",get:function(){return this.inputElement?this.inputElement[this._inputElementValueProperty]:void 0},set:function(e){this.inputElement&&(this.inputElement[this._inputElementValueProperty]=e)}},{key:"clear",value:function(){this._hasInputValue=!1,this.value="",this._inputElementValue=""}},{key:"_addInputListeners",value:function(e){e.addEventListener("input",this._boundOnInput),e.addEventListener("change",this._boundOnChange)}},{key:"_removeInputListeners",value:function(e){e.removeEventListener("input",this._boundOnInput),e.removeEventListener("change",this._boundOnChange)}},{key:"_forwardInputValue",value:function(e){this.inputElement&&(this._inputElementValue=null!=e?e:"")}},{key:"_inputElementChanged",value:function(e,t){e?this._addInputListeners(e):t&&this._removeInputListeners(t)}},{key:"_hasInputValueChanged",value:function(e,t){(e||t)&&this.dispatchEvent(new CustomEvent("has-input-value-changed"))}},{key:"__onInput",value:function(e){this._setHasInputValue(e),this._onInput(e)}},{key:"_onInput",value:function(e){var t=e.composedPath()[0];this.__userInput=e.isTrusted,this.value=t.value,this.__userInput=!1}},{key:"_onChange",value:function(e){}},{key:"_toggleHasValue",value:function(e){this.toggleAttribute("has-value",e)}},{key:"_valueChanged",value:function(e,t){this._toggleHasValue(this._hasValue),""===e&&void 0===t||this.__userInput||this._forwardInputValue(e)}},{key:"_setHasInputValue",value:function(e){var t=e.composedPath()[0];this._hasInputValue=t.value.length>0}}],[{key:"properties",get:function(){return{inputElement:{type:Object,readOnly:!0,observer:"_inputElementChanged"},type:{type:String,readOnly:!0},value:{type:String,value:"",observer:"_valueChanged",notify:!0,sync:!0},_hasInputValue:{type:Boolean,value:!1,observer:"_hasInputValueChanged"}}}}])}(e)})),st=function(){return(0,r.A)((function e(t){var i=this;(0,o.A)(this,e),this.host=t,t.addEventListener("opened-changed",(function(){t.opened||i.__setVirtualKeyboardEnabled(!1)})),t.addEventListener("blur",(function(){return i.__setVirtualKeyboardEnabled(!0)})),t.addEventListener("touchstart",(function(){return i.__setVirtualKeyboardEnabled(!0)}))}),[{key:"__setVirtualKeyboardEnabled",value:function(e){this.host.inputElement&&(this.host.inputElement.inputMode=e?"":"none")}}])}();function at(e){return null!=e}function lt(e,t){return e.findIndex((function(e){return!(e instanceof Qe)&&t(e)}))}var ut,ht,ct=function(e){function t(){return(0,o.A)(this,t),(0,s.A)(this,t,arguments)}return(0,a.A)(t,e),(0,r.A)(t,[{key:"clearElement",get:function(){return this.querySelector(".clear-button")}},{key:"_inputElementValueProperty",get:function(){return(0,Je.I)(this.attrForValue)}},{key:"_nativeInput",get:function(){var e=this.inputElement;if(e){if(e instanceof HTMLInputElement)return e;var t=e.querySelector("input");if(t)return t;if(e.shadowRoot){var i=e.shadowRoot.querySelector("input");if(i)return i}}}},{key:"ready",value:function(){var e=this;(0,z.A)((0,F.A)(t.prototype),"ready",this).call(this),this._toggleElement=this.querySelector(".toggle-button"),(0,U.m)(this,(function(){e._setInputElement(e.querySelector("vaadin-text-field,.input")),e._revertInputValue()}))}},{key:"checkValidity",value:function(){return this.inputElement&&this.inputElement.validate?this.inputElement.validate():(0,z.A)((0,F.A)(t.prototype),"checkValidity",this).call(this)}},{key:"_isClearButton",value:function(e){return(0,z.A)((0,F.A)(t.prototype),"_isClearButton",this).call(this,e)||"input"===e.type&&!e.isTrusted||"clear-button"===e.composedPath()[0].getAttribute("part")}},{key:"_shouldRemoveFocus",value:function(e){var i=e.target===this._toggleElement||e.target===this.clearElement,n=e.relatedTarget&&e.relatedTarget===this._nativeInput;return(!i||!n)&&(0,z.A)((0,F.A)(t.prototype),"_shouldRemoveFocus",this).call(this,e)}}],[{key:"is",get:function(){return"vaadin-combo-box-light"}},{key:"template",get:function(){return(0,M.qy)(ut||(ut=(0,n.A)(['\n      <style>\n        :host([opened]) {\n          pointer-events: auto;\n        }\n      </style>\n\n      <slot></slot>\n\n      <vaadin-combo-box-overlay\n        id="overlay"\n        opened="[[_overlayOpened]]"\n        loading$="[[loading]]"\n        theme$="[[_theme]]"\n        position-target="[[inputElement]]"\n        no-vertical-overlap\n        restore-focus-node="[[inputElement]]"\n      ></vaadin-combo-box-overlay>\n    '])))}},{key:"properties",get:function(){return{attrForValue:{type:String,value:"value"}}}}])}(function(e){return function(e){function t(){return(0,o.A)(this,t),(0,s.A)(this,t,arguments)}return(0,a.A)(t,e),(0,r.A)(t,[{key:"ready",value:function(){var e=this;(0,z.A)((0,F.A)(t.prototype),"ready",this).call(this),this._scroller.addEventListener("index-requested",(function(t){var i=t.detail.index,n=t.detail.currentScrollerPos,o=Math.floor(1.5*e.pageSize);if(!e._shouldSkipIndex(i,o,n)&&void 0!==i){var r=e._getPageForIndex(i);e._shouldLoadPage(r)&&e._loadPage(r)}}))}},{key:"_dataProviderFilterChanged",value:function(e){void 0!==this.__previousDataProviderFilter||""!==e?this.__previousDataProviderFilter!==e&&(this.__previousDataProviderFilter=e,this._pendingRequests={},this.loading=this._shouldFetchData(),this.size=void 0,this.clearCache()):this.__previousDataProviderFilter=e}},{key:"_shouldFetchData",value:function(){return!!this.dataProvider&&(this.opened||this.filter&&this.filter.length)}},{key:"_ensureFirstPage",value:function(e){e&&this._shouldLoadPage(0)&&this._loadPage(0)}},{key:"_shouldSkipIndex",value:function(e,t,i){return 0!==i&&e>=i-t&&e<=i+t}},{key:"_shouldLoadPage",value:function(e){if(!this.filteredItems||this._forceNextRequest)return this._forceNextRequest=!1,!0;var t=this.filteredItems[e*this.pageSize];return void 0!==t?t instanceof Qe:void 0===this.size}},{key:"_loadPage",value:function(e){var t=this;if(!this._pendingRequests[e]&&this.dataProvider){var i={page:e,pageSize:this.pageSize,filter:this.filter},n=function n(o,r){if(t._pendingRequests[e]===n){var s=t.filteredItems?(0,q.A)(t.filteredItems):[];s.splice.apply(s,[i.page*i.pageSize,o.length].concat((0,q.A)(o))),t.filteredItems=s,t.opened||t._isInputFocused()||t._commitValue(),void 0!==r&&(t.size=r),delete t._pendingRequests[e],0===Object.keys(t._pendingRequests).length&&(t.loading=!1)}};this._pendingRequests[e]=n,this.loading=!0,this.dataProvider(i,n)}}},{key:"_getPageForIndex",value:function(e){return Math.floor(e/this.pageSize)}},{key:"clearCache",value:function(){if(this.dataProvider){this._pendingRequests={};for(var e=[],t=0;t<(this.size||0);t++)e.push(this.__placeHolder);this.filteredItems=e,this._shouldFetchData()?(this._forceNextRequest=!1,this._loadPage(0)):this._forceNextRequest=!0}}},{key:"_sizeChanged",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=(this.filteredItems||[]).slice(0,e),i=0;i<e;i++)t[i]=void 0!==t[i]?t[i]:this.__placeHolder;this.filteredItems=t,this._flushPendingRequests(e)}},{key:"_pageSizeChanged",value:function(e,t){if(Math.floor(e)!==e||e<1)throw this.pageSize=t,new Error("`pageSize` value must be an integer > 0");this.clearCache()}},{key:"_dataProviderChanged",value:function(e,t){var i=this;this._ensureItemsOrDataProvider((function(){i.dataProvider=t})),this.clearCache()}},{key:"_ensureItemsOrDataProvider",value:function(e){if(void 0!==this.items&&void 0!==this.dataProvider)throw e(),new Error("Using `items` and `dataProvider` together is not supported");this.dataProvider&&!this.filteredItems&&(this.filteredItems=[])}},{key:"_warnDataProviderValue",value:function(e,t){if(e&&""!==t&&(void 0===this.selectedItem||null===this.selectedItem)){var i=this.__getItemIndexByValue(this.filteredItems,t);(i<0||!this._getItemLabel(this.filteredItems[i]))&&console.warn("Warning: unable to determine the label for the provided `value`. Nothing to display in the text field. This usually happens when setting an initial `value` before any items are returned from the `dataProvider` callback. Consider setting `selectedItem` instead of `value`")}}},{key:"_flushPendingRequests",value:function(e){if(this._pendingRequests){var t=Math.ceil(e/this.pageSize);Object.entries(this._pendingRequests).forEach((function(i){var n=(0,tt.A)(i,2),o=n[0],r=n[1];parseInt(o)>=t&&r([],e)}))}}}],[{key:"properties",get:function(){return{pageSize:{type:Number,value:50,observer:"_pageSizeChanged"},size:{type:Number,observer:"_sizeChanged"},dataProvider:{type:Object,observer:"_dataProviderChanged"},_pendingRequests:{value:function(){return{}}},__placeHolder:{value:new Qe},__previousDataProviderFilter:{type:String}}}},{key:"observers",get:function(){return["_dataProviderFilterChanged(filter)","_warnDataProviderValue(dataProvider, value)","_ensureFirstPage(opened)"]}}])}(e)}((ht=et((0,p.cp)(M.Pu)),function(e){function t(){var e;return(0,o.A)(this,t),(e=(0,s.A)(this,t))._boundOverlaySelectedItemChanged=e._overlaySelectedItemChanged.bind(e),e._boundOnClearButtonMouseDown=e.__onClearButtonMouseDown.bind(e),e._boundOnClick=e._onClick.bind(e),e._boundOnOverlayTouchAction=e._onOverlayTouchAction.bind(e),e._boundOnTouchend=e._onTouchend.bind(e),e}return(0,a.A)(t,e),(0,r.A)(t,[{key:"_tagNamePrefix",get:function(){return"vaadin-combo-box"}},{key:"_nativeInput",get:function(){return this.inputElement}},{key:"_inputElementChanged",value:function(e){(0,z.A)((0,F.A)(t.prototype),"_inputElementChanged",this).call(this,e);var i=this._nativeInput;i&&(i.autocomplete="off",i.autocapitalize="off",i.setAttribute("role","combobox"),i.setAttribute("aria-autocomplete","list"),i.setAttribute("aria-expanded",!!this.opened),i.setAttribute("spellcheck","false"),i.setAttribute("autocorrect","off"),this._revertInputValueToValue(),this.clearElement&&this.clearElement.addEventListener("mousedown",this._boundOnClearButtonMouseDown))}},{key:"ready",value:function(){var e=this;(0,z.A)((0,F.A)(t.prototype),"ready",this).call(this),this._initOverlay(),this._initScroller(),this._lastCommittedValue=this.value,this.addEventListener("click",this._boundOnClick),this.addEventListener("touchend",this._boundOnTouchend);var i,n=function(){requestAnimationFrame((function(){e._overlayElement.bringToFront()}))};this.addEventListener("mousedown",n),this.addEventListener("touchstart",n),i=this,window.Vaadin&&window.Vaadin.templateRendererCallback?window.Vaadin.templateRendererCallback(i):i.querySelector("template")&&console.warn("WARNING: <template> inside <".concat(i.localName,"> is no longer supported. Import @vaadin/polymer-legacy-adapter/template-renderer.js to enable compatibility.")),this.addController(new st(this))}},{key:"disconnectedCallback",value:function(){(0,z.A)((0,F.A)(t.prototype),"disconnectedCallback",this).call(this),this.close()}},{key:"requestContentUpdate",value:function(){this._scroller&&(this._scroller.requestContentUpdate(),this._getItemElements().forEach((function(e){e.requestContentUpdate()})))}},{key:"open",value:function(){this.disabled||this.readonly||(this.opened=!0)}},{key:"close",value:function(){this.opened=!1}},{key:"_propertiesChanged",value:function(e,i,n){(0,z.A)((0,F.A)(t.prototype),"_propertiesChanged",this).call(this,e,i,n),void 0!==i.filter&&this._filterChanged(i.filter)}},{key:"_initOverlay",value:function(){var e=this,t=this.$.overlay;t._comboBox=this,t.addEventListener("touchend",this._boundOnOverlayTouchAction),t.addEventListener("touchmove",this._boundOnOverlayTouchAction),t.addEventListener("mousedown",(function(e){return e.preventDefault()})),t.addEventListener("opened-changed",(function(t){e._overlayOpened=t.detail.value})),this._overlayElement=t}},{key:"_initScroller",value:function(e){var t="".concat(this._tagNamePrefix,"-scroller"),i=this._overlayElement;i.renderer=function(e){e.firstChild||e.appendChild(document.createElement(t))},i.requestContentUpdate();var n=i.querySelector(t);n.owner=e||this,n.getItemLabel=this._getItemLabel.bind(this),n.addEventListener("selection-changed",this._boundOverlaySelectedItemChanged),this._scroller=n}},{key:"_updateScroller",value:function(e,t,i,n,o,r,s,a,l){e&&(i&&(e.style.maxHeight=getComputedStyle(this).getPropertyValue("--".concat(this._tagNamePrefix,"-overlay-max-height"))||"65vh"),e.setProperties({items:i?t:[],opened:i,loading:n,selectedItem:o,itemIdPath:r,focusedIndex:s,renderer:a,theme:l}))}},{key:"_openedOrItemsChanged",value:function(e,t,i){this._overlayOpened=!(!e||!(i||t&&t.length))}},{key:"_overlayOpenedChanged",value:function(e,t){e?(this.dispatchEvent(new CustomEvent("vaadin-combo-box-dropdown-opened",{bubbles:!0,composed:!0})),this._onOpened()):t&&this._dropdownItems&&this._dropdownItems.length&&(this.close(),this.dispatchEvent(new CustomEvent("vaadin-combo-box-dropdown-closed",{bubbles:!0,composed:!0})))}},{key:"_focusedIndexChanged",value:function(e,t){void 0!==t&&this._updateActiveDescendant(e)}},{key:"_isInputFocused",value:function(){return this.inputElement&&he(this.inputElement)}},{key:"_updateActiveDescendant",value:function(e){var t=this._nativeInput;if(t){var i=this._getItemElements().find((function(t){return t.index===e}));i?t.setAttribute("aria-activedescendant",i.id):t.removeAttribute("aria-activedescendant")}}},{key:"_openedChanged",value:function(e,t){if(void 0!==t){e?(this._openedWithFocusRing=this.hasAttribute("focus-ring"),this._isInputFocused()||X||this.inputElement&&this.inputElement.focus(),this._overlayElement.restoreFocusOnClose=!0):(this._onClosed(),this._openedWithFocusRing&&this._isInputFocused()&&this.setAttribute("focus-ring",""));var i=this._nativeInput;i&&(i.setAttribute("aria-expanded",!!e),e?i.setAttribute("aria-controls",this._scroller.id):i.removeAttribute("aria-controls"))}}},{key:"_onOverlayTouchAction",value:function(){this._closeOnBlurIsPrevented=!0,this.inputElement.blur(),this._closeOnBlurIsPrevented=!1}},{key:"_isClearButton",value:function(e){return e.composedPath()[0]===this.clearElement}},{key:"__onClearButtonMouseDown",value:function(e){e.preventDefault(),this.inputElement.focus()}},{key:"_onClearButtonClick",value:function(e){e.preventDefault(),this._onClearAction(),this.opened&&this.requestContentUpdate()}},{key:"_onToggleButtonClick",value:function(e){e.preventDefault(),this.opened?this.close():this.open()}},{key:"_onHostClick",value:function(e){this.autoOpenDisabled||(e.preventDefault(),this.open())}},{key:"_onClick",value:function(e){this._isClearButton(e)?this._onClearButtonClick(e):e.composedPath().includes(this._toggleElement)?this._onToggleButtonClick(e):this._onHostClick(e)}},{key:"_onKeyDown",value:function(e){(0,z.A)((0,F.A)(t.prototype),"_onKeyDown",this).call(this,e),"Tab"===e.key?this._overlayElement.restoreFocusOnClose=!1:"ArrowDown"===e.key?(this._onArrowDown(),e.preventDefault()):"ArrowUp"===e.key&&(this._onArrowUp(),e.preventDefault())}},{key:"_getItemLabel",value:function(e){var t=e&&this.itemLabelPath?Pe(this.itemLabelPath,e):void 0;return null==t&&(t=e?e.toString():""),t}},{key:"_getItemValue",value:function(e){var t=e&&this.itemValuePath?Pe(this.itemValuePath,e):void 0;return void 0===t&&(t=e?e.toString():""),t}},{key:"_onArrowDown",value:function(){if(this.opened){var e=this._dropdownItems;e&&(this._focusedIndex=Math.min(e.length-1,this._focusedIndex+1),this._prefillFocusedItemLabel())}else this.open()}},{key:"_onArrowUp",value:function(){if(this.opened){if(this._focusedIndex>-1)this._focusedIndex=Math.max(0,this._focusedIndex-1);else{var e=this._dropdownItems;e&&(this._focusedIndex=e.length-1)}this._prefillFocusedItemLabel()}else this.open()}},{key:"_prefillFocusedItemLabel",value:function(){if(this._focusedIndex>-1){var e=this._dropdownItems[this._focusedIndex];this._inputElementValue=this._getItemLabel(e),this._markAllSelectionRange()}}},{key:"_setSelectionRange",value:function(e,t){this._isInputFocused()&&this.inputElement.setSelectionRange&&this.inputElement.setSelectionRange(e,t)}},{key:"_markAllSelectionRange",value:function(){void 0!==this._inputElementValue&&this._setSelectionRange(0,this._inputElementValue.length)}},{key:"_clearSelectionRange",value:function(){if(void 0!==this._inputElementValue){var e=this._inputElementValue?this._inputElementValue.length:0;this._setSelectionRange(e,e)}}},{key:"_closeOrCommit",value:function(){this.opened||this.loading?this.close():this._commitValue()}},{key:"_onEnter",value:function(e){if(!this._hasValidInputValue())return e.preventDefault(),void e.stopPropagation();this.opened&&(e.preventDefault(),e.stopPropagation()),this._closeOrCommit()}},{key:"_hasValidInputValue",value:function(){var e=this._focusedIndex<0&&""!==this._inputElementValue&&this._getItemLabel(this.selectedItem)!==this._inputElementValue;return this.allowCustomValue||!e}},{key:"_onEscape",value:function(e){this.autoOpenDisabled?this.opened||this.value!==this._inputElementValue&&this._inputElementValue.length>0?(e.stopPropagation(),this._focusedIndex=-1,this.cancel()):this.clearButtonVisible&&!this.opened&&this.value&&(e.stopPropagation(),this._onClearAction()):this.opened?(e.stopPropagation(),this._focusedIndex>-1?(this._focusedIndex=-1,this._revertInputValue()):this.cancel()):this.clearButtonVisible&&this.value&&(e.stopPropagation(),this._onClearAction())}},{key:"_toggleElementChanged",value:function(e){var t=this;e&&(e.addEventListener("mousedown",(function(e){return e.preventDefault()})),e.addEventListener("click",(function(){X&&!t._isInputFocused()&&document.activeElement.blur()})))}},{key:"_onClearAction",value:function(){this.selectedItem=null,this.allowCustomValue&&(this.value=""),this._detectAndDispatchChange()}},{key:"cancel",value:function(){this._revertInputValueToValue(),this._lastCommittedValue=this.value,this._closeOrCommit()}},{key:"_onOpened",value:function(){this._lastCommittedValue=this.value}},{key:"_onClosed",value:function(){this.loading&&!this.allowCustomValue||this._commitValue()}},{key:"_commitValue",value:function(){if(this._focusedIndex>-1){var e=this._dropdownItems[this._focusedIndex];this.selectedItem!==e&&(this.selectedItem=e),this._inputElementValue=this._getItemLabel(this.selectedItem),this._focusedIndex=-1}else if(""===this._inputElementValue||void 0===this._inputElementValue)this.selectedItem=null,this.allowCustomValue&&(this.value="");else{var t=[this.selectedItem].concat((0,q.A)(this._dropdownItems||[])),i=t[this.__getItemIndexByLabel(t,this._inputElementValue)];if(this.allowCustomValue&&!i){var n=this._inputElementValue;this._lastCustomValue=n;var o=new CustomEvent("custom-value-set",{detail:n,composed:!0,cancelable:!0,bubbles:!0});this.dispatchEvent(o),o.defaultPrevented||(this.value=n)}else this.allowCustomValue||this.opened||!i?this._inputElementValue=this.selectedItem?this._getItemLabel(this.selectedItem):this.value||"":this.value=this._getItemValue(i)}this._detectAndDispatchChange(),this._clearSelectionRange(),this.filter=""}},{key:"_onInput",value:function(e){var t=this._inputElementValue,i={};this.filter===t?this._filterChanged(this.filter):i.filter=t,this.opened||this._isClearButton(e)||this.autoOpenDisabled||(i.opened=!0),this.setProperties(i)}},{key:"_onChange",value:function(e){e.stopPropagation()}},{key:"_itemLabelPathChanged",value:function(e){"string"!=typeof e&&console.error("You should set itemLabelPath to a valid string")}},{key:"_filterChanged",value:function(e){this._scrollIntoView(0),this._focusedIndex=-1,this.items?this.filteredItems=this._filterItems(this.items,e):this._filteredItemsChanged(this.filteredItems)}},{key:"_revertInputValue",value:function(){""!==this.filter?this._inputElementValue=this.filter:this._revertInputValueToValue(),this._clearSelectionRange()}},{key:"_revertInputValueToValue",value:function(){this.allowCustomValue&&!this.selectedItem?this._inputElementValue=this.value:this._inputElementValue=this._getItemLabel(this.selectedItem)}},{key:"_selectedItemChanged",value:function(e){if(null==e)this.filteredItems&&(this.allowCustomValue||(this.value=""),this._toggleHasValue(this._hasValue),this._inputElementValue=this.value);else{var t=this._getItemValue(e);if(this.value!==t&&(this.value=t,this.value!==t))return;this._toggleHasValue(!0),this._inputElementValue=this._getItemLabel(e)}}},{key:"_valueChanged",value:function(e,t){""===e&&void 0===t||(at(e)?(this._getItemValue(this.selectedItem)!==e&&this._selectItemForValue(e),!this.selectedItem&&this.allowCustomValue&&(this._inputElementValue=e),this._toggleHasValue(this._hasValue)):this.selectedItem=null,this.filter="",this._lastCommittedValue=void 0)}},{key:"_detectAndDispatchChange",value:function(){document.hasFocus()&&this.validate(),this.value!==this._lastCommittedValue&&(this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this._lastCommittedValue=this.value)}},{key:"_itemsChanged",value:function(e,t){var i=this;this._ensureItemsOrDataProvider((function(){i.items=t})),e?this.filteredItems=e.slice(0):t&&(this.filteredItems=null)}},{key:"_filteredItemsChanged",value:function(e,t){this._setDropdownItems(e);var i=t?t[this._focusedIndex]:null,n=this.__getItemIndexByValue(e,this.value);(null===this.selectedItem||void 0===this.selectedItem)&&n>=0&&(this.selectedItem=e[n]);var o=this.__getItemIndexByValue(e,this._getItemValue(i));this._focusedIndex=o>-1?o:this.__getItemIndexByLabel(this.filteredItems,this.filter)}},{key:"_filterItems",value:function(e,t){var i=this;if(!e)return e;var n=e.filter((function(e){return t=t?t.toString().toLowerCase():"",i._getItemLabel(e).toString().toLowerCase().indexOf(t)>-1}));return n}},{key:"_selectItemForValue",value:function(e){var t=this.__getItemIndexByValue(this.filteredItems,e),i=this.selectedItem;t>=0?this.selectedItem=this.filteredItems[t]:this.dataProvider&&void 0===this.selectedItem?this.selectedItem=void 0:this.selectedItem=null,null===this.selectedItem&&null===i&&this._selectedItemChanged(this.selectedItem)}},{key:"_setDropdownItems",value:function(e){this._dropdownItems=e}},{key:"_getItemElements",value:function(){return Array.from(this._scroller.querySelectorAll("".concat(this._tagNamePrefix,"-item")))}},{key:"_scrollIntoView",value:function(e){this._scroller&&this._scroller.scrollIntoView(e)}},{key:"__getItemIndexByValue",value:function(e,t){var i=this;return e&&at(t)?lt(e,(function(e){return i._getItemValue(e)===t})):-1}},{key:"__getItemIndexByLabel",value:function(e,t){var i=this;return e&&t?lt(e,(function(e){return i._getItemLabel(e).toString().toLowerCase()===t.toString().toLowerCase()})):-1}},{key:"_overlaySelectedItemChanged",value:function(e){e.stopPropagation(),e.detail.item instanceof Qe||this.opened&&(this._focusedIndex=this.filteredItems.indexOf(e.detail.item),this.close())}},{key:"_setFocused",value:function(e){if((0,z.A)((0,F.A)(t.prototype),"_setFocused",this).call(this,e),!e&&!this.readonly&&!this._closeOnBlurIsPrevented){if(!this.opened&&this.allowCustomValue&&this._inputElementValue===this._lastCustomValue)return void delete this._lastCustomValue;this._closeOrCommit()}}},{key:"_shouldRemoveFocus",value:function(e){return!(e.relatedTarget&&e.relatedTarget.localName==="".concat(this._tagNamePrefix,"-item")||e.relatedTarget===this._overlayElement&&(e.composedPath()[0].focus(),1))}},{key:"_onTouchend",value:function(e){this.clearElement&&e.composedPath()[0]===this.clearElement&&(e.preventDefault(),this._onClearAction())}}],[{key:"properties",get:function(){return{opened:{type:Boolean,notify:!0,value:!1,reflectToAttribute:!0,observer:"_openedChanged"},autoOpenDisabled:{type:Boolean},readonly:{type:Boolean,value:!1,reflectToAttribute:!0},renderer:Function,items:{type:Array,observer:"_itemsChanged"},allowCustomValue:{type:Boolean,value:!1},filteredItems:{type:Array,observer:"_filteredItemsChanged"},_lastCommittedValue:String,loading:{type:Boolean,value:!1,reflectToAttribute:!0},_focusedIndex:{type:Number,observer:"_focusedIndexChanged",value:-1},filter:{type:String,value:"",notify:!0},selectedItem:{type:Object,notify:!0},itemLabelPath:{type:String,value:"label",observer:"_itemLabelPathChanged"},itemValuePath:{type:String,value:"value"},itemIdPath:String,_toggleElement:{type:Object,observer:"_toggleElementChanged"},_dropdownItems:{type:Array},_closeOnBlurIsPrevented:Boolean,_scroller:Object,_overlayOpened:{type:Boolean,observer:"_overlayOpenedChanged"}}}},{key:"observers",get:function(){return["_selectedItemChanged(selectedItem, itemValuePath, itemLabelPath)","_openedOrItemsChanged(opened, _dropdownItems, loading)","_updateScroller(_scroller, _dropdownItems, opened, loading, selectedItem, itemIdPath, _focusedIndex, renderer, theme)"]}}])}(function(e){function t(){return(0,o.A)(this,t),(0,s.A)(this,t,arguments)}return(0,a.A)(t,e),(0,r.A)(t,[{key:"__updateOverlayClassNames",value:function(e,t){var i=this;if(t&&void 0!==e){var n=t.classList;if(this.__initialClasses||(this.__initialClasses=new Set(n)),Array.isArray(this.__previousClasses)){var o=this.__previousClasses.filter((function(e){return!i.__initialClasses.has(e)}));o.length>0&&n.remove.apply(n,(0,q.A)(o))}var r="string"==typeof e?e.split(" "):[];r.length>0&&n.add.apply(n,(0,q.A)(r)),this.__previousClasses=r}}}],[{key:"properties",get:function(){return{overlayClass:{type:String},_overlayElement:{type:Object}}}},{key:"observers",get:function(){return["__updateOverlayClassNames(overlayClass, _overlayElement)"]}}])}(ye(et(nt(ot(rt(it(ht)))))))))));u(ct)},45584:function(e,t,i){i.d(t,{SF:function(){return n.SF},qV:function(){return o}});i(53156),i(36724),i(68113),i(26777),i(58971),i(73842),i(98168);var n=i(90392),o=function(e){var t=document.createElement("style");t.id=e;for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];t.textContent=n.map((function(e){return e.toString()})).join("\n").replace(":host","html"),document.head.insertAdjacentElement("afterbegin",t)}},90392:function(e,t,i){i.d(t,{cp:function(){return y},AH:function(){return h.AH},SF:function(){return _}});var n=i(89231),o=i(36683),r=i(29864),s=i(76504),a=i(80792),l=i(83647),u=i(61780),h=(i(77052),i(69466),i(4187),i(69175),i(18684),i(53156),i(87759),i(36724),i(71936),i(14460),i(42092),i(74991),i(43859),i(95201),i(68113),i(44186),i(90591),i(26777),i(16915),i(4148),i(58971),i(97754),i(66274),i(85038),i(85767),i(69704),i(84531),i(98168),i(22836),i(34290),i(40924)),c=[];function d(e){return e&&Object.prototype.hasOwnProperty.call(e,"__themes")}function _(e,t){var i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e&&(i=e,d(customElements.get(i))&&console.warn('The custom element definition for "'.concat(e,'"\n      was finalized before a style module was registered.\n      Make sure to add component specific style modules before\n      importing the corresponding custom element.'))),t=function(){return[arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]].flat(1/0).filter((function(e){return e instanceof h.BO||(console.warn("An item in styles is not of type CSSResult. Use `unsafeCSS` or `css`."),!1)}))}(t),window.Vaadin&&window.Vaadin.styleModules?window.Vaadin.styleModules.registerStyles(e,t,n):c.push({themeFor:e,styles:t,include:n.include,moduleId:n.moduleId})}function p(){return window.Vaadin&&window.Vaadin.styleModules?window.Vaadin.styleModules.getAllThemes():c}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=0;return e.startsWith("lumo-")||e.startsWith("material-")?t=1:e.startsWith("vaadin-")&&(t=2),t}function f(e){var t=[];return e.include&&[].concat(e.include).forEach((function(e){var i=p().find((function(t){return t.moduleId===e}));i?t.push.apply(t,(0,u.A)(f(i)).concat((0,u.A)(i.styles))):console.warn("Included moduleId ".concat(e," not found in style registry"))}),e.styles),t}function m(e){var t="".concat(e,"-default-theme"),i=p().filter((function(i){return i.moduleId!==t&&function(e,t){return(e||"").split(" ").some((function(e){return new RegExp("^".concat(e.split("*").join(".*"),"$"),"u").test(t)}))}(i.themeFor,e)})).map((function(e){return Object.assign(Object.assign({},e),{},{styles:[].concat((0,u.A)(f(e)),(0,u.A)(e.styles)),includePriority:v(e.moduleId)})})).sort((function(e,t){return t.includePriority-e.includePriority}));return i.length>0?i:p().filter((function(e){return e.moduleId===t}))}var y=function(e){return function(e){function t(){return(0,n.A)(this,t),(0,r.A)(this,t,arguments)}return(0,l.A)(t,e),(0,o.A)(t,null,[{key:"finalize",value:function(){if((0,s.A)((0,a.A)(t),"finalize",this).call(this),!this.elementStyles){var e=this.prototype._template;e&&!d(this)&&function(e,t){var i=document.createElement("style");i.innerHTML=e.map((function(e){return e.cssText})).join("\n"),t.content.appendChild(i)}(this.getStylesForThis(),e)}}},{key:"finalizeStyles",value:function(e){var i=this.getStylesForThis();return e?[].concat((0,u.A)((0,s.A)((0,a.A)(t),"finalizeStyles",this).call(this,e)),(0,u.A)(i)):i}},{key:"getStylesForThis",value:function(){var e=Object.getPrototypeOf(this.prototype),t=(e?e.constructor.__themes:[])||[];this.__themes=[].concat((0,u.A)(t),(0,u.A)(m(this.is)));var i=this.__themes.flatMap((function(e){return e.styles}));return i.filter((function(e,t){return t===i.lastIndexOf(e)}))}}])}(function(e){return function(e){function t(){return(0,n.A)(this,t),(0,r.A)(this,t,arguments)}return(0,l.A)(t,e),(0,o.A)(t,[{key:"attributeChangedCallback",value:function(e,i,n){(0,s.A)((0,a.A)(t.prototype),"attributeChangedCallback",this).call(this,e,i,n),"theme"===e&&this._set_theme(n)}}],[{key:"properties",get:function(){return{_theme:{type:String,readOnly:!0}}}},{key:"observedAttributes",get:function(){return[].concat((0,u.A)((0,s.A)((0,a.A)(t),"observedAttributes",this)),["theme"])}}])}(e)}(e))}},75031:function(e,t,i){i.d(t,{Kq:function(){return n.Kq}});var n=i(3267)}}]);
//# sourceMappingURL=61606.V6d88tRjbmY.js.map