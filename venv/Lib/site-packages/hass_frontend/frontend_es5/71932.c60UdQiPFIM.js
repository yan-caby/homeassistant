"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[71932],{30454:function(n,e,t){t.d(e,{$W:function(){return d},Dp:function(){return h},EC:function(){return o},S9:function(){return y},XF:function(){return u},b1:function(){return f},bV:function(){return s},lB:function(){return a},lg:function(){return c},mX:function(){return g},oj:function(){return l},rY:function(){return m},vH:function(){return p}});t(43859);var i,r=t(28825),o="single",s=10,u=function(n){if("condition"in n&&Array.isArray(n.condition))return{condition:"and",conditions:n.condition};for(var e=0,t=["and","or","not"];e<t.length;e++){var i=t[e];if(i in n)return{condition:i,conditions:n[i]}}return n},a=function(n,e){n.callService("automation","trigger",{entity_id:e,skip_condition:!0})},c=function(n,e){return n.callApi("DELETE","config/automation/config/".concat(e))},l=function(n,e){return n.callApi("GET","config/automation/config/".concat(e))},d=function(n,e){return n.callWS({type:"automation/config",entity_id:e})},f=function(n,e,t){return n.callApi("POST","config/automation/config/".concat(e),t)},g=function(n){i=n,(0,r.o)("/config/automation/edit/new")},p=function(n){g(Object.assign(Object.assign({},n),{},{id:void 0,alias:void 0}))},m=function(){var n=i;return i=void 0,n},h=function(n,e,t,i){return n.connection.subscribeMessage(e,{type:"subscribe_trigger",trigger:t,variables:i})},y=function(n,e,t){return n.callWS({type:"test_condition",condition:e,variables:t})}},71932:function(n,e,t){t.r(e),t.d(e,{addExternalBarCodeListener:function(){return a},attachExternalToApp:function(){return u}});t(21950),t(68113),t(57733),t(56262),t(66274),t(84531),t(15445),t(24483),t(13478),t(46355),t(14612),t(53691),t(48455),t(34290),t(8339);var i=t(77664),r=t(51150),o=t(30454),s=new Set,u=function(n){window.addEventListener("haptic",(function(e){return n.hass.auth.external.fireMessage({type:"haptic",payload:{hapticType:e.detail}})})),n.hass.auth.external.addCommandHandler((function(e){return c(n,e)}))},a=function(n){return s.add(n),function(){s.delete(n)}},c=function(n,e){var t=n.hass.auth.external;if("restart"===e.command)n.hass.connection.reconnect(!0),t.fireMessage({id:e.id,type:"result",success:!0,result:null});else if("notifications/show"===e.command)(0,i.r)(n,"hass-show-notifications"),t.fireMessage({id:e.id,type:"result",success:!0,result:null});else if("sidebar/toggle"===e.command){var u;if(null!==(u=r.G.history.state)&&void 0!==u&&u.open)return t.fireMessage({id:e.id,type:"result",success:!1,error:{code:"not_allowed",message:"dialog open"}}),!0;(0,i.r)(n,"hass-toggle-menu"),t.fireMessage({id:e.id,type:"result",success:!0,result:null})}else if("sidebar/show"===e.command){var a;if(null!==(a=r.G.history.state)&&void 0!==a&&a.open)return t.fireMessage({id:e.id,type:"result",success:!1,error:{code:"not_allowed",message:"dialog open"}}),!0;(0,i.r)(n,"hass-toggle-menu",{open:!0}),t.fireMessage({id:e.id,type:"result",success:!0,result:null})}else if("automation/editor/show"===e.command){var c;(0,o.mX)(null===(c=e.payload)||void 0===c?void 0:c.config),t.fireMessage({id:e.id,type:"result",success:!0,result:null})}else if("bar_code/scan_result"===e.command)s.forEach((function(n){return n(e)})),t.fireMessage({id:e.id,type:"result",success:!0,result:null});else{if("bar_code/aborted"!==e.command)return!1;s.forEach((function(n){return n(e)})),t.fireMessage({id:e.id,type:"result",success:!0,result:null})}return!0}}}]);
//# sourceMappingURL=71932.c60UdQiPFIM.js.map