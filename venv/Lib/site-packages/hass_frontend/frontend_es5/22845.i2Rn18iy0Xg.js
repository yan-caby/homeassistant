"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[22845,57780,37482,37382,41525,20534],{72586:function(e,t,n){n.d(t,{EO:function(){return c},ol:function(){return o},xo:function(){return s}});var a=n(61226),r=n(25786),i=function(e,t,n,r){var i=n((0,a.L_)(e,t),r);return i instanceof Date?(0,a.uk)(i,t):i},o=function(e,t,n,a,o){return n.time_zone===r.Wj.server?i(e,a.time_zone,t,o):t(e,o)},s=function(e,t,n,a,o){return n.time_zone===r.Wj.server?i(e,a.time_zone,t,o):t(e,o)},c=function(e,t,n,i,o){return s(e,n,i,o,i.time_zone===r.Wj.server?(0,a.L_)(t,o.time_zone):t)}},4:function(e,t,n){var a=n(1781),r=n(94881);n.a(e,function(){var e=a(r().mark((function e(a,i){var o,s,c,l,u,d;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.d(t,{B:function(){return u},p:function(){return d}}),o=n(71936),n.n(o),s=n(45081),c=n(47203),!(l=a([c])).then){e.next=14;break}return e.next=10,l;case 10:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=15;break;case 14:e.t0=l;case 15:c=e.t0[0],u=(0,s.A)((function(e,t){for(var n=[],a=new Intl.DateTimeFormat(e,{weekday:t?"short":"long",timeZone:"UTC"}),r=0;r<7;r++){var i=new Date(Date.UTC(1970,0,4+r));n.push(a.format(i))}return n})),d=(0,s.A)((function(e,t){for(var n=[],a=new Intl.DateTimeFormat(e,{month:t?"short":"long",timeZone:"UTC"}),r=0;r<12;r++){var i=new Date(Date.UTC(1970,0+r,1));n.push(a.format(i))}return n})),i(),e.next=24;break;case 21:e.prev=21,e.t2=e.catch(0),i(e.t2);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t,n){return e.apply(this,arguments)}}())},55279:function(e,t,n){n.d(t,{L:function(){return o},t:function(){return i}});n(650);var a={10:"mdi:battery-10",20:"mdi:battery-20",30:"mdi:battery-30",40:"mdi:battery-40",50:"mdi:battery-50",60:"mdi:battery-60",70:"mdi:battery-70",80:"mdi:battery-80",90:"mdi:battery-90",100:"mdi:battery"},r={10:"mdi:battery-charging-10",20:"mdi:battery-charging-20",30:"mdi:battery-charging-30",40:"mdi:battery-charging-40",50:"mdi:battery-charging-50",60:"mdi:battery-charging-60",70:"mdi:battery-charging-70",80:"mdi:battery-charging-80",90:"mdi:battery-charging-90",100:"mdi:battery-charging"},i=function(e,t){var n=null!=t?t:e.state;return o(n)},o=function(e,t){var n=Number(e);if(isNaN(n))return"off"===e?"mdi:battery":"on"===e?"mdi:battery-alert":"mdi:battery-unknown";var i=10*Math.round(n/10);return t&&n>=10?r[i]:t?"mdi:battery-charging-outline":n<=5?"mdi:battery-alert-variant-outline":a[i]}},24081:function(e,t,n){n.d(t,{gf:function(){return d},mT:function(){return h},Se:function(){return u},mg:function(){return f}});n(77052),n(21950),n(71936),n(68113),n(57733),n(56262),n(15445),n(24483),n(13478),n(46355),n(14612),n(53691),n(48455),n(8339);var a=n(83378),r=n(86506),i=n(69825),o=n(6631),s=(n(650),n(47038)),c=n(78200),l=new Set(["alarm_control_panel","alert","automation","binary_sensor","calendar","camera","climate","cover","device_tracker","fan","group","humidifier","input_boolean","lawn_mower","light","lock","media_player","person","plant","remote","schedule","script","siren","sun","switch","timer","update","vacuum","valve","water_heater"]),u=function(e,t){if((void 0!==t?t:null==e?void 0:e.state)===a.Hh)return"var(--state-unavailable-color)";var n=f(e,t);return n?(0,i.B)(n):void 0},d=function(e,t,n){var a=void 0!==n?n:t.state,r=(0,c.a)(t,n),i=[],s=(0,o.Y)(a,"_"),l=r?"active":"inactive",u=t.attributes.device_class;return u&&i.push("--state-".concat(e,"-").concat(u,"-").concat(s,"-color")),i.push("--state-".concat(e,"-").concat(s,"-color"),"--state-".concat(e,"-").concat(l,"-color"),"--state-".concat(l,"-color")),i},f=function(e,t){var n=void 0!==t?t:null==e?void 0:e.state,a=(0,s.m)(e.entity_id),i=e.attributes.device_class;if("sensor"===a&&"battery"===i){var o=function(e){var t=Number(e);if(!isNaN(t))return t>=70?"--state-sensor-battery-high-color":t>=30?"--state-sensor-battery-medium-color":"--state-sensor-battery-low-color"}(n);if(o)return[o]}if("group"===a){var c=(0,r.z)(e);if(c&&l.has(c))return d(c,e,t)}if(l.has(a))return d(a,e,t)},h=function(e){if(e.attributes.brightness&&"plant"!==(0,s.m)(e.entity_id)){var t=e.attributes.brightness;return"brightness(".concat((t+245)/5,"%)")}return""}},6631:function(e,t,n){n.d(t,{Y:function(){return a}});n(53156),n(68113),n(44186),n(90591),n(26777),n(16915),n(58971),n(73842);var a=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_",a="àáâäæãåāăąçćčđďèéêëēėęěğǵḧîïíīįìıİłḿñńǹňôöòóœøōõőṕŕřßśšşșťțûüùúūǘůűųẃẍÿýžźż·",r="aaaaaaaaaacccddeeeeeeeegghiiiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz".concat(n),i=new RegExp(a.split("").join("|"),"g");return""===e?t="":""===(t=e.toString().toLowerCase().replace(i,(function(e){return r.charAt(a.indexOf(e))})).replace(/(\d),(?=\d)/g,"$1").replace(/[^a-z0-9]+/g,n).replace(new RegExp("(".concat(n,")\\1+"),"g"),"$1").replace(new RegExp("^".concat(n,"+")),"").replace(new RegExp("".concat(n,"+$")),""))&&(t="unknown"),t}},73501:function(e,t,n){n.d(t,{E:function(){return i}});var a,r=n(6238),i=(0,n(40924).AH)(a||(a=(0,r.A)(["ha-state-icon[data-domain=alarm_control_panel][data-state=arming],ha-state-icon[data-domain=alarm_control_panel][data-state=pending],ha-state-icon[data-domain=alarm_control_panel][data-state=triggered],ha-state-icon[data-domain=lock][data-state=jammed]{animation:pulse 1s infinite}@keyframes pulse{0%{opacity:1}50%{opacity:0}100%{opacity:1}}ha-state-icon[data-state=unavailable]{color:var(--state-unavailable-color)}"])))},47186:function(e,t,n){n.d(t,{$:function(){return r}});var a=n(66123),r=(n(71936),function(e,t){var n,r={},i=(0,a.A)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value,s=t(o);s in r?r[s].push(o):r[s]=[o]}}catch(c){i.e(c)}finally{i.f()}return r})},17734:function(e,t,n){n.d(t,{h:function(){return a}});n(21950),n(68113),n(55888),n(56262),n(8339);var a=function(e,t){var n=new Promise((function(t,n){setTimeout((function(){n("Timed out in ".concat(e," ms."))}),e)}));return Promise.race([t,n])}},27832:function(e,t,n){var a=n(1781),r=n(94881);n.a(e,function(){var e=a(r().mark((function e(t,a){var i,o,s,c,l,u,d,f,h,p,v,g,m,b,y,_,k,x,w;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=n(36683),o=n(89231),s=n(29864),c=n(83647),l=n(8364),u=n(650),n.n(u),d=n(28524),f=n(196),h=n(43057),p=n(87898),v=n.n(p),g=n(32230),m=n(77664),b=n(4),y=n(51150),!(_=t([b])).then){e.next=25;break}return e.next=21,_;case 21:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=26;break;case 25:e.t0=_;case 26:b=e.t0[0],k=h.Ay.extend({mixins:[v()],methods:{selectMonthDate:function(){var e=this.end||new Date;this.changeLeftMonth({year:e.getFullYear(),month:e.getMonth()+1})},hoverDate:function(e){if(!this.readonly){if(this.in_selection){var t=this.in_selection,n=e;this.start=this.normalizeDatetime(Math.min(t.valueOf(),n.valueOf()),this.start),this.end=this.normalizeDatetime(Math.max(t.valueOf(),n.valueOf()),this.end)}this.$emit("hover-date",e)}}}}),x=h.Ay.extend({props:{timePicker:{type:Boolean,default:!0},twentyfourHours:{type:Boolean,default:!0},openingDirection:{type:String,default:"right"},disabled:{type:Boolean,default:!1},ranges:{type:Boolean,default:!0},startDate:{type:[String,Date],default:function(){return new Date}},endDate:{type:[String,Date],default:function(){return new Date}},firstDay:{type:Number,default:1},autoApply:{type:Boolean,default:!1},language:{type:String,default:"en"}},render:function(e){var t=this;return e(k,{props:{"time-picker":this.timePicker,"auto-apply":this.autoApply,opens:this.openingDirection,"show-dropdowns":!1,"time-picker24-hour":this.twentyfourHours,disabled:this.disabled,ranges:!!this.ranges&&{},"locale-data":{firstDay:this.firstDay,daysOfWeek:(0,b.B)(this.language,!0),monthNames:(0,b.p)(this.language,!1)}},model:{value:{startDate:this.startDate,endDate:this.endDate},callback:function(e){(0,m.r)(t.$el,"change",e)},expression:"dateRange"},scopedSlots:{input:function(){return e("slot",{domProps:{name:"input"}})},header:function(){return e("slot",{domProps:{name:"header"}})},ranges:function(){return e("slot",{domProps:{name:"ranges"}})},footer:function(){return e("slot",{domProps:{name:"footer"}})}}})}}),w=(0,d.A)(h.Ay,x),(0,l.A)([(0,f.EM)("date-range-picker")],(function(e,t){return{F:function(t){function n(){var t;(0,o.A)(this,n),t=(0,s.A)(this,n),e(t);var a=document.createElement("style");a.innerHTML="\n          ".concat(g,"\n          .calendars {\n            display: flex;\n            flex-wrap: nowrap !important;\n          }\n          .daterangepicker {\n            top: auto;\n            box-shadow: var(--ha-card-box-shadow, none);\n            background-color: var(--card-background-color);\n            border-radius: var(--ha-card-border-radius, 12px);\n            border-width: var(--ha-card-border-width, 1px);\n            border-style: solid;\n            border-color: var(\n              --ha-card-border-color,\n              var(--divider-color, #e0e0e0)\n            );\n            color: var(--primary-text-color);\n            min-width: initial !important;\n            max-height: var(--date-range-picker-max-height);\n            overflow-y: auto;\n                      }\n          .daterangepicker:before {\n            display: none;\n          }\n          .daterangepicker:after {\n            border-bottom: 6px solid var(--card-background-color);\n          }\n          .daterangepicker .calendar-table {\n            background-color: var(--card-background-color);\n            border: none;\n          }\n          .daterangepicker .calendar-table td,\n          .daterangepicker .calendar-table th {\n            background-color: transparent;\n            color: var(--secondary-text-color);\n            border-radius: 0;\n            outline: none;\n            min-width: 32px;\n            height: 32px;\n          }\n          .daterangepicker td.off,\n          .daterangepicker td.off.end-date,\n          .daterangepicker td.off.in-range,\n          .daterangepicker td.off.start-date {\n            background-color: var(--secondary-background-color);\n            color: var(--disabled-text-color);\n          }\n          .daterangepicker td.in-range {\n            background-color: var(--light-primary-color);\n            color: var(--text-light-primary-color, var(--primary-text-color));\n          }\n          .daterangepicker td.active,\n          .daterangepicker td.active:hover {\n            background-color: var(--primary-color);\n            color: var(--text-primary-color);\n          }\n          .daterangepicker td.start-date.end-date {\n            border-radius: 50%;\n          }\n          .daterangepicker td.start-date {\n            border-radius: 50% 0 0 50%;\n          }\n          .daterangepicker td.end-date {\n            border-radius: 0 50% 50% 0;\n          }\n          .reportrange-text {\n            background: none !important;\n            padding: 0 !important;\n            border: none !important;\n          }\n          .daterangepicker .calendar-table .next span,\n          .daterangepicker .calendar-table .prev span {\n            border: solid var(--primary-text-color);\n            border-width: 0 2px 2px 0;\n          }\n          .daterangepicker .ranges li {\n            outline: none;\n          }\n          .daterangepicker .ranges li:hover {\n            background-color: var(--secondary-background-color);\n          }\n          .daterangepicker .ranges li.active {\n            background-color: var(--primary-color);\n            color: var(--text-primary-color);\n          }\n          .daterangepicker select.ampmselect,\n          .daterangepicker select.hourselect,\n          .daterangepicker select.minuteselect,\n          .daterangepicker select.secondselect {\n            background: transparent;\n            border: 1px solid var(--divider-color);\n            color: var(--primary-color);\n          }\n          .daterangepicker .drp-buttons .btn {\n            border: 1px solid var(--primary-color);\n            background-color: transparent;\n            color: var(--primary-color);\n            border-radius: 4px;\n            padding: 8px;\n            cursor: pointer;\n          }\n          .calendars-container {\n            flex-direction: column;\n            align-items: center;\n          }\n          .drp-calendar.col.right .calendar-table {\n            display: none;\n          }\n          .daterangepicker.show-ranges .drp-calendar.left {\n            border-left: 0px;\n          }\n          .daterangepicker .drp-calendar.left {\n            padding: 8px;\n            width: unset;\n            max-width: unset;\n            min-width: 270px;\n          }\n          .daterangepicker.show-calendar .ranges {\n            margin-top: 0;\n            padding-top: 8px;\n            border-right: 1px solid var(--divider-color);\n          }\n          @media only screen and (max-width: 800px) {\n            .calendars {\n              flex-direction: column;\n            }\n          }\n          .calendar-table {\n            padding: 0 !important;\n          }\n          .calendar-time {\n            direction: ltr;\n          }\n          .daterangepicker.ltr {\n            direction: var(--direction);\n            text-align: var(--float-start);\n          }\n          .vue-daterange-picker{\n            min-width: unset !important;\n            display: block !important;\n          }\n        "),"rtl"===y.G.document.dir&&(a.innerHTML+="\n            .daterangepicker .calendar-table .next span {\n              transform: rotate(135deg);\n              -webkit-transform: rotate(135deg);\n            }\n            .daterangepicker .calendar-table .prev span {\n              transform: rotate(-45deg);\n              -webkit-transform: rotate(-45deg);\n            }\n            .daterangepicker td.start-date {\n              border-radius: 0 50% 50% 0;\n            }\n            .daterangepicker td.end-date {\n              border-radius: 50% 0 0 50%;\n            }\n            ");var r=t.shadowRoot;return r.appendChild(a),r.addEventListener("click",(function(e){return e.stopPropagation()})),t}return(0,c.A)(n,t),(0,i.A)(n)}(t),d:[]}}),w),a(),e.next=37;break;case 34:e.prev=34,e.t2=e.catch(0),a(e.t2);case 37:case"end":return e.stop()}}),e,null,[[0,34]])})));return function(t,n){return e.apply(this,arguments)}}())},37482:function(e,t,n){var a,r,i,o=n(67234),s=n(6238),c=n(36683),l=n(89231),u=n(29864),d=n(83647),f=n(8364),h=n(76504),p=n(80792),v=(n(77052),n(53156),n(68113),n(40924)),g=n(196),m=n(79278),b=n(80204),y=n(47038),_=n(66596),k=n(24081),x=n(73501),w=n(14356),A=n(13622),C=(n(40806),(0,f.A)(null,(function(e,t){var n=function(t){function n(){var t;(0,l.A)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=(0,u.A)(this,n,[].concat(r)),e(t),t}return(0,d.A)(n,t),(0,c.A)(n)}(t);return{F:n,d:[{kind:"field",key:"hass",value:void 0},{kind:"field",decorators:[(0,g.MZ)({attribute:!1})],key:"stateObj",value:void 0},{kind:"field",decorators:[(0,g.MZ)()],key:"overrideIcon",value:void 0},{kind:"field",decorators:[(0,g.MZ)()],key:"overrideImage",value:void 0},{kind:"field",decorators:[(0,g.MZ)({attribute:!1})],key:"stateColor",value:void 0},{kind:"field",decorators:[(0,g.MZ)()],key:"color",value:void 0},{kind:"field",decorators:[(0,g.MZ)({type:Boolean,reflect:!0})],key:"icon",value:function(){return!0}},{kind:"field",decorators:[(0,g.wk)()],key:"_iconStyle",value:function(){return{}}},{kind:"method",key:"connectedCallback",value:function(){var e,t;(0,h.A)((0,p.A)(n.prototype),"connectedCallback",this).call(this),this.hasUpdated&&void 0===this.overrideImage&&(null!==(e=this.stateObj)&&void 0!==e&&e.attributes.entity_picture||null!==(t=this.stateObj)&&void 0!==t&&t.attributes.entity_picture_local)&&this.requestUpdate("stateObj")}},{kind:"method",key:"disconnectedCallback",value:function(){var e,t;(0,h.A)((0,p.A)(n.prototype),"disconnectedCallback",this).call(this),void 0===this.overrideImage&&(null!==(e=this.stateObj)&&void 0!==e&&e.attributes.entity_picture||null!==(t=this.stateObj)&&void 0!==t&&t.attributes.entity_picture_local)&&(this.style.backgroundImage="")}},{kind:"get",key:"_stateColor",value:function(){var e,t=this.stateObj?(0,_.t)(this.stateObj):void 0;return null!==(e=this.stateColor)&&void 0!==e?e:"light"===t}},{kind:"method",key:"render",value:function(){var e=this.stateObj;if(!e&&!this.overrideIcon&&!this.overrideImage)return(0,v.qy)(a||(a=(0,s.A)(['<div class="missing"> <ha-svg-icon .path="','"></ha-svg-icon> </div>'])),"M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z");if(!this.icon)return v.s6;var t=e?(0,_.t)(e):void 0;return(0,v.qy)(r||(r=(0,s.A)(['<ha-state-icon .hass="','" style="','" data-domain="','" data-state="','" .icon="','" .stateObj="','"></ha-state-icon>'])),this.hass,(0,b.W)(this._iconStyle),(0,m.J)(t),(0,m.J)(null==e?void 0:e.state),this.overrideIcon,e)}},{kind:"method",key:"willUpdate",value:function(e){if((0,h.A)((0,p.A)(n.prototype),"willUpdate",this).call(this,e),e.has("stateObj")||e.has("overrideImage")||e.has("overrideIcon")||e.has("stateColor")||e.has("color")){var t=this.stateObj,a={},r="";if(this.icon=!0,t&&void 0===this.overrideImage)if(!t.attributes.entity_picture_local&&!t.attributes.entity_picture||this.overrideIcon){if(this.color)a.color=this.color;else if(this._stateColor){var i=(0,k.Se)(t);if(i&&(a.color=i),t.attributes.rgb_color&&(a.color="rgb(".concat(t.attributes.rgb_color.join(","),")")),t.attributes.brightness){var s=t.attributes.brightness;if("number"!=typeof s){var c="Type error: state-badge expected number, but type of ".concat(t.entity_id,".attributes.brightness is ").concat((0,o.A)(s)," (").concat(s,")");console.warn(c)}a.filter=(0,k.mT)(t)}if(t.attributes.hvac_action){var l=t.attributes.hvac_action;l in A.sx?a.color=(0,k.Se)(t,A.sx[l]):delete a.color}}}else{var u=t.attributes.entity_picture_local||t.attributes.entity_picture;this.hass&&(u=this.hass.hassUrl(u));var d=(0,y.m)(t.entity_id);"camera"===d&&(u=(0,w.su)(u,80,80)),r="url(".concat(u,")"),this.icon=!1,"update"===d?this.style.borderRadius="0":"media_player"===d&&(this.style.borderRadius="8%")}else if(this.overrideImage){var f=this.overrideImage;this.hass&&(f=this.hass.hassUrl(f)),r="url(".concat(f,")"),this.icon=!1}this._iconStyle=a,this.style.backgroundImage=r}}},{kind:"get",static:!0,key:"styles",value:function(){return[x.E,(0,v.AH)(i||(i=(0,s.A)([":host{position:relative;display:inline-block;width:40px;color:var(--paper-item-icon-color,#44739e);border-radius:50%;height:40px;text-align:center;background-size:cover;line-height:40px;vertical-align:middle;box-sizing:border-box;--state-inactive-color:initial}:host(:focus){outline:0}:host(:not([icon]):focus){border:2px solid var(--divider-color)}:host([icon]:focus){background:var(--divider-color)}ha-state-icon{transition:color .3s ease-in-out,filter .3s ease-in-out}.missing{color:#fce588}"])))]}}]}}),v.WF));customElements.define("state-badge",C)},24630:function(e,t,n){var a,r=n(6238),i=n(94881),o=n(1781),s=n(36683),c=n(89231),l=n(29864),u=n(83647),d=n(8364),f=n(76504),h=n(80792),p=(n(77052),n(40924)),v=n(87565),g=n(56220),m=n(45592),b=n(196),y=n(77664);(0,d.A)([(0,b.EM)("ha-check-list-item")],(function(e,t){var n,d=function(t){function n(){var t;(0,c.A)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=(0,l.A)(this,n,[].concat(r)),e(t),t}return(0,u.A)(n,t),(0,s.A)(n)}(t);return{F:d,d:[{kind:"method",key:"onChange",value:(n=(0,o.default)((0,i.default)().mark((function e(t){return(0,i.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,f.A)((0,h.A)(d.prototype),"onChange",this).call(this,t),(0,y.r)(this,t.type);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{kind:"field",static:!0,key:"styles",value:function(){return[m.R,g.R,(0,p.AH)(a||(a=(0,r.A)([":host{--mdc-theme-secondary:var(--primary-color)}:host([graphic=avatar]) .mdc-deprecated-list-item__graphic,:host([graphic=control]) .mdc-deprecated-list-item__graphic,:host([graphic=large]) .mdc-deprecated-list-item__graphic,:host([graphic=medium]) .mdc-deprecated-list-item__graphic{margin-inline-end:var(--mdc-list-item-graphic-margin,16px);margin-inline-start:0px;direction:var(--direction)}.mdc-deprecated-list-item__meta{flex-shrink:0;direction:var(--direction);margin-inline-start:auto;margin-inline-end:0}.mdc-deprecated-list-item__graphic{margin-top:var(--check-list-item-graphic-margin-top)}:host([graphic=icon]) .mdc-deprecated-list-item__graphic{margin-inline-start:0;margin-inline-end:var(--mdc-list-item-graphic-margin,32px)}"])))]}}]}}),v.h)},20534:function(e,t,n){var a=n(1781),r=n(94881);n.a(e,function(){var e=a(r().mark((function e(t,a){var i,o,s,c,l,u,d,f,h,p,v,g,m,b,y,_,k,x,w,A,C,L,D,S,E,M,O,P,T,z,R,H,I,j,W,Z,V,U,N,B,q,F;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=n(6238),o=n(23141),s=n(36683),c=n(89231),l=n(29864),u=n(83647),d=n(8364),f=n(77052),n.n(f),h=n(36724),n.n(h),p=n(43859),n.n(p),v=n(1158),n.n(v),g=n(84368),n.n(g),m=n(98168),n.n(m),n(34069),n(29805),n(23981),b=n(56994),y=n(70249),_=n(93352),k=n(79113),x=n(94061),w=n(21748),A=n(3889),C=n(39937),L=n(11213),D=n(27890),S=n(13802),E=n(40924),M=n(196),O=n(79278),P=n(72586),T=n(15263),z=n(77396),R=n(64854),H=n(97484),I=n(27832),n(12731),n(1683),n(42398),!(j=t([T,z,R,I])).then){e.next=54;break}return e.next=50,j;case 50:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=55;break;case 54:e.t0=j;case 55:W=e.t0,T=W[0],z=W[1],R=W[2],I=W[3],F="M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1M17,12H12V17H17V12Z",(0,d.A)([(0,M.EM)("ha-date-range-picker")],(function(e,t){var n=function(t){function n(){var t;(0,c.A)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=(0,l.A)(this,n,[].concat(r)),e(t),t}return(0,u.A)(n,t),(0,s.A)(n)}(t);return{F:n,d:[{kind:"field",decorators:[(0,M.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,M.MZ)({attribute:!1})],key:"startDate",value:void 0},{kind:"field",decorators:[(0,M.MZ)({attribute:!1})],key:"endDate",value:void 0},{kind:"field",decorators:[(0,M.MZ)({attribute:!1})],key:"ranges",value:void 0},{kind:"field",decorators:[(0,M.wk)()],key:"_ranges",value:void 0},{kind:"field",decorators:[(0,M.MZ)({type:Boolean})],key:"autoApply",value:function(){return!1}},{kind:"field",decorators:[(0,M.MZ)({type:Boolean})],key:"timePicker",value:function(){return!0}},{kind:"field",decorators:[(0,M.MZ)({type:Boolean})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,M.MZ)({type:Boolean})],key:"minimal",value:function(){return!1}},{kind:"field",decorators:[(0,M.wk)()],key:"_hour24format",value:function(){return!1}},{kind:"field",decorators:[(0,M.MZ)({type:Boolean})],key:"extendedPresets",value:function(){return!1}},{kind:"field",decorators:[(0,M.MZ)()],key:"openingDirection",value:void 0},{kind:"field",decorators:[(0,M.wk)()],key:"_calcedOpeningDirection",value:void 0},{kind:"method",key:"willUpdate",value:function(e){var t,n;if(!this.hasUpdated&&void 0===this.ranges||e.has("hass")&&(null===(t=this.hass)||void 0===t?void 0:t.localize)!==(null===(n=e.get("hass"))||void 0===n?void 0:n.localize)){var a=new Date,r=(0,T.PE)(this.hass.locale),i=(0,P.ol)(a,b.k,this.hass.locale,this.hass.config,{weekStartsOn:r}),s=(0,P.ol)(a,y.$,this.hass.locale,this.hass.config,{weekStartsOn:r});this._ranges=Object.assign((0,o.A)((0,o.A)((0,o.A)((0,o.A)({},this.hass.localize("ui.components.date-range-picker.ranges.today"),[(0,P.ol)(a,_.o,this.hass.locale,this.hass.config,{weekStartsOn:r}),(0,P.ol)(a,k.D,this.hass.locale,this.hass.config,{weekStartsOn:r})]),this.hass.localize("ui.components.date-range-picker.ranges.yesterday"),[(0,P.ol)((0,x.f)(a,-1),_.o,this.hass.locale,this.hass.config,{weekStartsOn:r}),(0,P.ol)((0,x.f)(a,-1),k.D,this.hass.locale,this.hass.config,{weekStartsOn:r})]),this.hass.localize("ui.components.date-range-picker.ranges.this_week"),[i,s]),this.hass.localize("ui.components.date-range-picker.ranges.last_week"),[(0,x.f)(i,-7),(0,x.f)(s,-7)]),this.extendedPresets?(0,o.A)((0,o.A)((0,o.A)((0,o.A)({},this.hass.localize("ui.components.date-range-picker.ranges.this_month"),[(0,P.ol)(a,w.w,this.hass.locale,this.hass.config,{weekStartsOn:r}),(0,P.ol)(a,A.p,this.hass.locale,this.hass.config,{weekStartsOn:r})]),this.hass.localize("ui.components.date-range-picker.ranges.last_month"),[(0,P.ol)((0,C.P)(a,-1),w.w,this.hass.locale,this.hass.config,{weekStartsOn:r}),(0,P.ol)((0,C.P)(a,-1),A.p,this.hass.locale,this.hass.config,{weekStartsOn:r})]),this.hass.localize("ui.components.date-range-picker.ranges.this_year"),[(0,P.ol)(a,L.D,this.hass.locale,this.hass.config,{weekStartsOn:r}),(0,P.ol)(a,D.Q,this.hass.locale,this.hass.config,{weekStartsOn:r})]),this.hass.localize("ui.components.date-range-picker.ranges.last_year"),[(0,P.ol)((0,S.e)(a,-1),L.D,this.hass.locale,this.hass.config,{weekStartsOn:r}),(0,P.ol)((0,S.e)(a,-1),D.Q,this.hass.locale,this.hass.config,{weekStartsOn:r})]):{})}}},{kind:"method",key:"updated",value:function(e){if(e.has("hass")){var t=e.get("hass");t&&t.locale===this.hass.locale||(this._hour24format=!(0,H.J)(this.hass.locale))}}},{kind:"method",key:"render",value:function(){return(0,E.qy)(Z||(Z=(0,i.A)([' <date-range-picker ?disabled="','" ?auto-apply="','" time-picker="','" twentyfour-hours="','" start-date="','" end-date="','" ?ranges="','" opening-direction="','" first-day="','" language="','"> <div slot="input" class="date-range-inputs" @click="','"> '," </div> ",' <div slot="footer" class="date-range-footer"> <mwc-button @click="','">','</mwc-button> <mwc-button @click="','">',"</mwc-button> </div> </date-range-picker> "])),this.disabled,this.autoApply,this.timePicker,this._hour24format,this.startDate.toISOString(),this.endDate.toISOString(),!1!==this.ranges,(0,O.J)(this.openingDirection||this._calcedOpeningDirection),(0,T.PE)(this.hass.locale),this.hass.locale.language,this._handleClick,this.minimal?(0,E.qy)(U||(U=(0,i.A)(['<ha-icon-button .label="','" .path="','"></ha-icon-button>'])),this.hass.localize("ui.components.date-range-picker.select_date_range"),F):(0,E.qy)(V||(V=(0,i.A)(['<ha-svg-icon .path="','"></ha-svg-icon> <ha-textfield .value="','" .label="','" .disabled="','" @click="','" readonly="readonly"></ha-textfield> <ha-textfield .value="','" .label="','" .disabled="','" @click="','" readonly="readonly"></ha-textfield>'])),F,this.timePicker?(0,R.r6)(this.startDate,this.hass.locale,this.hass.config):(0,z.Yq)(this.startDate,this.hass.locale,this.hass.config),this.hass.localize("ui.components.date-range-picker.start_date"),this.disabled,this._handleInputClick,this.timePicker?(0,R.r6)(this.endDate,this.hass.locale,this.hass.config):(0,z.Yq)(this.endDate,this.hass.locale,this.hass.config),this.hass.localize("ui.components.date-range-picker.end_date"),this.disabled,this._handleInputClick),!1!==this.ranges&&(this.ranges||this._ranges)?(0,E.qy)(N||(N=(0,i.A)(['<div slot="ranges" class="date-range-ranges"> <mwc-list @action="','" activatable> '," </mwc-list> </div>"])),this._setDateRange,Object.keys(this.ranges||this._ranges).map((function(e){return(0,E.qy)(B||(B=(0,i.A)(["<mwc-list-item>","</mwc-list-item>"])),e)}))):E.s6,this._cancelDateRange,this.hass.localize("ui.common.cancel"),this._applyDateRange,this.hass.localize("ui.components.date-range-picker.select"))}},{kind:"method",key:"_setDateRange",value:function(e){var t=Object.values(this.ranges||this._ranges)[e.detail.index],n=this._dateRangePicker;n.clickRange(t),n.clickedApply()}},{kind:"method",key:"_cancelDateRange",value:function(){this._dateRangePicker.clickCancel()}},{kind:"method",key:"_applyDateRange",value:function(){this._dateRangePicker.clickedApply()}},{kind:"get",key:"_dateRangePicker",value:function(){return this.shadowRoot.querySelector("date-range-picker").vueComponent.$children[0]}},{kind:"method",key:"_handleInputClick",value:function(){this._dateRangePicker.open&&(this._dateRangePicker.open=!1)}},{kind:"method",key:"_handleClick",value:function(){if(!this._dateRangePicker.open&&!this.openingDirection){var e,t=this.getBoundingClientRect().x;e=t>2*window.innerWidth/3?"left":t<window.innerWidth/3?"right":"center",this._calcedOpeningDirection=e}}},{kind:"get",static:!0,key:"styles",value:function(){return(0,E.AH)(q||(q=(0,i.A)(["ha-svg-icon{margin-right:8px;margin-inline-end:8px;margin-inline-start:initial;direction:var(--direction)}ha-icon-button{direction:var(--direction)}.date-range-inputs{display:flex;align-items:center}.date-range-ranges{border-right:1px solid var(--divider-color)}.date-range-footer{display:flex;justify-content:flex-end;padding:8px;border-top:1px solid var(--divider-color)}ha-textfield{display:inline-block;max-width:250px;min-width:220px}ha-textfield:last-child{margin-left:8px;margin-inline-start:8px;margin-inline-end:initial;direction:var(--direction)}@media only screen and (max-width:800px){.date-range-ranges{border-right:none;border-bottom:1px solid var(--divider-color)}}@media only screen and (max-width:500px){ha-textfield{min-width:inherit}ha-svg-icon{display:none}}"])))}}]}}),E.WF),a(),e.next=68;break;case 65:e.prev=65,e.t2=e.catch(0),a(e.t2);case 68:case"end":return e.stop()}}),e,null,[[0,65]])})));return function(t,n){return e.apply(this,arguments)}}())},57780:function(e,t,n){n.r(t),n.d(t,{HaIcon:function(){return I}});var a,r,i,o=n(94881),s=n(539),c=n(1781),l=n(6238),u=n(36683),d=n(89231),f=n(29864),h=n(83647),p=n(8364),v=n(76504),g=n(80792),m=(n(70598),n(77052),n(53501),n(21950),n(68113),n(55888),n(34517),n(56262),n(8339),n(40924)),b=n(196),y=n(77664),_=n(47394),k=n(95866),x=n(66123),w=(n(71936),n(21968),n(1158),n(84368),n(66274),n(84531),n(34290),n(66613)),A=n(17734),C=JSON.parse('{"version":"7.4.47","parts":[{"file":"7a7139d465f1f41cb26ab851a17caa21a9331234"},{"start":"account-supervisor-circle-","file":"9561286c4c1021d46b9006596812178190a7cc1c"},{"start":"alpha-r-c","file":"eb466b7087fb2b4d23376ea9bc86693c45c500fa"},{"start":"arrow-decision-o","file":"4b3c01b7e0723b702940c5ac46fb9e555646972b"},{"start":"baby-f","file":"2611401d85450b95ab448ad1d02c1a432b409ed2"},{"start":"battery-hi","file":"89bcd31855b34cd9d31ac693fb073277e74f1f6a"},{"start":"blur-r","file":"373709cd5d7e688c2addc9a6c5d26c2d57c02c48"},{"start":"briefcase-account-","file":"a75956cf812ee90ee4f656274426aafac81e1053"},{"start":"calendar-question-","file":"3253f2529b5ebdd110b411917bacfacb5b7063e6"},{"start":"car-lig","file":"74566af3501ad6ae58ad13a8b6921b3cc2ef879d"},{"start":"cellphone-co","file":"7677f1cfb2dd4f5562a2aa6d3ae43a2e6997b21a"},{"start":"circle-slice-2","file":"70d08c50ec4522dd75d11338db57846588263ee2"},{"start":"cloud-co","file":"141d2bfa55ca4c83f4bae2812a5da59a84fec4ff"},{"start":"cog-s","file":"5a640365f8e47c609005d5e098e0e8104286d120"},{"start":"cookie-l","file":"dd85b8eb8581b176d3acf75d1bd82e61ca1ba2fc"},{"start":"currency-eur-","file":"15362279f4ebfc3620ae55f79d2830ad86d5213e"},{"start":"delete-o","file":"239434ab8df61237277d7599ebe066c55806c274"},{"start":"draw-","file":"5605918a592070803ba2ad05a5aba06263da0d70"},{"start":"emoticon-po","file":"a838cfcec34323946237a9f18e66945f55260f78"},{"start":"fan","file":"effd56103b37a8c7f332e22de8e4d67a69b70db7"},{"start":"file-question-","file":"b2424b50bd465ae192593f1c3d086c5eec893af8"},{"start":"flask-off-","file":"3b76295cde006a18f0301dd98eed8c57e1d5a425"},{"start":"food-s","file":"1c6941474cbeb1755faaaf5771440577f4f1f9c6"},{"start":"gamepad-u","file":"c6efe18db6bc9654ae3540c7dee83218a5450263"},{"start":"google-f","file":"df341afe6ad4437457cf188499cb8d2df8ac7b9e"},{"start":"head-c","file":"282121c9e45ed67f033edcc1eafd279334c00f46"},{"start":"home-pl","file":"27e8e38fc7adcacf2a210802f27d841b49c8c508"},{"start":"inbox-","file":"0f0316ec7b1b7f7ce3eaabce26c9ef619b5a1694"},{"start":"key-v","file":"ea33462be7b953ff1eafc5dac2d166b210685a60"},{"start":"leaf-circle-","file":"33db9bbd66ce48a2db3e987fdbd37fb0482145a4"},{"start":"lock-p","file":"b89e27ed39e9d10c44259362a4b57f3c579d3ec8"},{"start":"message-s","file":"7b5ab5a5cadbe06e3113ec148f044aa701eac53a"},{"start":"moti","file":"01024d78c248d36805b565e343dd98033cc3bcaf"},{"start":"newspaper-variant-o","file":"22a6ec4a4fdd0a7c0acaf805f6127b38723c9189"},{"start":"on","file":"c73d55b412f394e64632e2011a59aa05e5a1f50d"},{"start":"paw-ou","file":"3f669bf26d16752dc4a9ea349492df93a13dcfbf"},{"start":"pigg","file":"0c24edb27eb1c90b6e33fc05f34ef3118fa94256"},{"start":"printer-pos-sy","file":"41a55cda866f90b99a64395c3bb18c14983dcf0a"},{"start":"read","file":"c7ed91552a3a64c9be88c85e807404cf705b7edf"},{"start":"robot-vacuum-variant-o","file":"917d2a35d7268c0ea9ad9ecab2778060e19d90e0"},{"start":"sees","file":"6e82d9861d8fac30102bafa212021b819f303bdb"},{"start":"shoe-f","file":"e2fe7ce02b5472301418cc90a0e631f187b9f238"},{"start":"snowflake-m","file":"a28ba9f5309090c8b49a27ca20ff582a944f6e71"},{"start":"st","file":"7e92d03f095ec27e137b708b879dfd273bd735ab"},{"start":"su","file":"61c74913720f9de59a379bdca37f1d2f0dc1f9db"},{"start":"tag-plus-","file":"8f3184156a4f38549cf4c4fffba73a6a941166ae"},{"start":"timer-a","file":"baab470d11cfb3a3cd3b063ee6503a77d12a80d0"},{"start":"transit-d","file":"8561c0d9b1ac03fab360fd8fe9729c96e8693239"},{"start":"vector-arrange-b","file":"c9a3439257d4bab33d3355f1f2e11842e8171141"},{"start":"water-ou","file":"02dbccfb8ca35f39b99f5a085b095fc1275005a0"},{"start":"webc","file":"57bafd4b97341f4f2ac20a609d023719f23a619c"},{"start":"zip","file":"65ae094e8263236fa50486584a08c03497a38d93"}]}'),L=(0,w.y$)("hass-icon-db","mdi-icon-store"),D=["mdi","hass","hassio","hademo"],S=[],E=function(e){return new Promise((function(t,n){if(S.push([e,t,n]),!(S.length>1)){(0,A.h)(1e3,L("readonly",(function(e){for(var t=function(){var t=(0,s.A)(a[n],3),r=t[0],i=t[1],o=t[2];(0,w.Yd)(e.get(r)).then((function(e){return i(e)})).catch((function(e){return o(e)}))},n=0,a=S;n<a.length;n++)t();S=[]}))).catch((function(e){for(var t=0,n=S;t<n.length;t++){(0,(0,s.A)(n[t],3)[2])(e)}S=[]}))}}))},M=function(e){var t,n,a=(0,x.A)(C.parts);try{for(a.s();!(n=a.n()).done;){var r=n.value;if(void 0!==r.start&&e<r.start)break;t=r}}catch(i){a.e(i)}finally{a.f()}return t.file},O=function(){var e=(0,c.default)((0,o.default)().mark((function e(t){var n,a;return(0,o.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.keys(t),e.next=3,Promise.all(Object.values(t));case 3:a=e.sent,L("readwrite",(function(e){a.forEach((function(a,r){Object.entries(a).forEach((function(t){var n=(0,s.A)(t,2),a=n[0],r=n[1];e.put(r,a)})),delete t[n[r]]}))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=(0,c.default)((0,o.default)().mark((function e(){var t;return(0,o.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,w.Jt)("_version",L);case 2:if(t=e.sent){e.next=7;break}(0,w.hZ)("_version",C.version,L),e.next=11;break;case 7:if(t===C.version){e.next=11;break}return e.next=10,(0,w.IU)(L);case 10:(0,w.hZ)("_version",C.version,L);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=(n(1683),{}),z={};P();var R=(0,_.s)((function(){return O(z)}),2e3),H={},I=(0,p.A)([(0,b.EM)("ha-icon")],(function(e,t){var p,_,x,w=function(t){function n(){var t;(0,d.A)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=(0,f.A)(this,n,[].concat(r)),e(t),t}return(0,h.A)(n,t),(0,u.A)(n)}(t);return{F:w,d:[{kind:"field",decorators:[(0,b.MZ)()],key:"icon",value:void 0},{kind:"field",decorators:[(0,b.wk)()],key:"_path",value:void 0},{kind:"field",decorators:[(0,b.wk)()],key:"_secondaryPath",value:void 0},{kind:"field",decorators:[(0,b.wk)()],key:"_viewBox",value:void 0},{kind:"field",decorators:[(0,b.wk)()],key:"_legacy",value:function(){return!1}},{kind:"method",key:"willUpdate",value:function(e){(0,v.A)((0,g.A)(w.prototype),"willUpdate",this).call(this,e),e.has("icon")&&(this._path=void 0,this._secondaryPath=void 0,this._viewBox=void 0,this._loadIcon())}},{kind:"method",key:"render",value:function(){return this.icon?this._legacy?(0,m.qy)(a||(a=(0,l.A)([' <iron-icon .icon="','"></iron-icon>'])),this.icon):(0,m.qy)(r||(r=(0,l.A)(['<ha-svg-icon .path="','" .secondaryPath="','" .viewBox="','"></ha-svg-icon>'])),this._path,this._secondaryPath,this._viewBox):m.s6}},{kind:"method",key:"_loadIcon",value:(x=(0,c.default)((0,o.default)().mark((function e(){var t,a,r,i,c,l,u,d,f,h,p,v,g;return(0,o.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.icon){e.next=2;break}return e.abrupt("return");case 2:if(t=this.icon,a=this.icon.split(":",2),r=(0,s.A)(a,2),i=r[0],c=r[1],l=c,i&&l){e.next=7;break}return e.abrupt("return");case 7:if(D.includes(i)){e.next=14;break}if(!(u=k.y[i])){e.next=12;break}return u&&"function"==typeof u.getIcon&&this._setCustomPath(u.getIcon(l),t),e.abrupt("return");case 12:return this._legacy=!0,e.abrupt("return");case 14:if(this._legacy=!1,l in T&&((d=T[l]).newName?(f="Icon ".concat(i,":").concat(l," was renamed to ").concat(i,":").concat(d.newName,", please change your config, it will be removed in version ").concat(d.removeIn,"."),l=d.newName):f="Icon ".concat(i,":").concat(l," was removed from MDI, please replace this icon with an other icon in your config, it will be removed in version ").concat(d.removeIn,"."),console.warn(f),(0,y.r)(this,"write_log",{level:"warning",message:f})),!(l in H)){e.next=19;break}return this._path=H[l],e.abrupt("return");case 19:if("home-assistant"!==l){e.next=26;break}return e.next=22,n.e(86599).then(n.bind(n,86599));case 22:return h=e.sent.mdiHomeAssistant,this.icon===t&&(this._path=h),H[l]=h,e.abrupt("return");case 26:return e.prev=26,e.next=29,E(l);case 29:p=e.sent,e.next=35;break;case 32:e.prev=32,e.t0=e.catch(26),p=void 0;case 35:if(!p){e.next=39;break}return this.icon===t&&(this._path=p),H[l]=p,e.abrupt("return");case 39:if(!((v=M(l))in z)){e.next=43;break}return this._setPath(z[v],l,t),e.abrupt("return");case 43:g=fetch("/static/mdi/".concat(v,".json")).then((function(e){return e.json()})),z[v]=g,this._setPath(g,l,t),R();case 47:case"end":return e.stop()}}),e,this,[[26,32]])}))),function(){return x.apply(this,arguments)})},{kind:"method",key:"_setCustomPath",value:(_=(0,c.default)((0,o.default)().mark((function e(t,n){var a;return(0,o.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(a=e.sent,this.icon===n){e.next=5;break}return e.abrupt("return");case 5:this._path=a.path,this._secondaryPath=a.secondaryPath,this._viewBox=a.viewBox;case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return _.apply(this,arguments)})},{kind:"method",key:"_setPath",value:(p=(0,c.default)((0,o.default)().mark((function e(t,n,a){var r;return(0,o.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:r=e.sent,this.icon===a&&(this._path=r[n]),H[n]=r[n];case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return p.apply(this,arguments)})},{kind:"get",static:!0,key:"styles",value:function(){return(0,m.AH)(i||(i=(0,l.A)([":host{fill:currentcolor}"])))}}]}}),m.WF)},42398:function(e,t,n){var a,r,i,o,s=n(6238),c=n(36683),l=n(89231),u=n(29864),d=n(83647),f=n(8364),h=n(76504),p=n(80792),v=(n(77052),n(94400)),g=n(65050),m=n(40924),b=n(196),y=n(51150);(0,f.A)([(0,b.EM)("ha-textfield")],(function(e,t){var n=function(t){function n(){var t;(0,l.A)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=(0,u.A)(this,n,[].concat(r)),e(t),t}return(0,d.A)(n,t),(0,c.A)(n)}(t);return{F:n,d:[{kind:"field",decorators:[(0,b.MZ)({type:Boolean})],key:"invalid",value:function(){return!1}},{kind:"field",decorators:[(0,b.MZ)({attribute:"error-message"})],key:"errorMessage",value:void 0},{kind:"field",decorators:[(0,b.MZ)({type:Boolean})],key:"icon",value:function(){return!1}},{kind:"field",decorators:[(0,b.MZ)({type:Boolean})],key:"iconTrailing",value:function(){return!1}},{kind:"field",decorators:[(0,b.MZ)()],key:"autocomplete",value:void 0},{kind:"field",decorators:[(0,b.MZ)()],key:"autocorrect",value:void 0},{kind:"field",decorators:[(0,b.MZ)({attribute:"input-spellcheck"})],key:"inputSpellcheck",value:void 0},{kind:"field",decorators:[(0,b.P)("input")],key:"formElement",value:void 0},{kind:"method",key:"updated",value:function(e){(0,h.A)((0,p.A)(n.prototype),"updated",this).call(this,e),(e.has("invalid")&&(this.invalid||void 0!==e.get("invalid"))||e.has("errorMessage"))&&(this.setCustomValidity(this.invalid?this.errorMessage||"Invalid":""),this.reportValidity()),e.has("autocomplete")&&(this.autocomplete?this.formElement.setAttribute("autocomplete",this.autocomplete):this.formElement.removeAttribute("autocomplete")),e.has("autocorrect")&&(this.autocorrect?this.formElement.setAttribute("autocorrect",this.autocorrect):this.formElement.removeAttribute("autocorrect")),e.has("inputSpellcheck")&&(this.inputSpellcheck?this.formElement.setAttribute("spellcheck",this.inputSpellcheck):this.formElement.removeAttribute("spellcheck"))}},{kind:"method",key:"renderIcon",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?"trailing":"leading";return(0,m.qy)(a||(a=(0,s.A)([' <span class="mdc-text-field__icon mdc-text-field__icon--','" tabindex="','"> <slot name="','Icon"></slot> </span> '])),n,t?1:-1,n)}},{kind:"field",static:!0,key:"styles",value:function(){return[g.R,(0,m.AH)(r||(r=(0,s.A)([".mdc-text-field__input{width:var(--ha-textfield-input-width,100%)}.mdc-text-field:not(.mdc-text-field--with-leading-icon){padding:var(--text-field-padding,0px 16px)}.mdc-text-field__affix--suffix{padding-left:var(--text-field-suffix-padding-left,12px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,12px);padding-inline-end:var(--text-field-suffix-padding-right,0px);direction:ltr}.mdc-text-field--with-leading-icon{padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,16px);direction:var(--direction)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:var(--text-field-suffix-padding-left,0px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,0px)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--suffix{color:var(--secondary-text-color)}.mdc-text-field__icon{color:var(--secondary-text-color)}.mdc-text-field__icon--leading{margin-inline-start:16px;margin-inline-end:8px;direction:var(--direction)}.mdc-text-field__icon--trailing{padding:var(--textfield-icon-trailing-padding,12px)}.mdc-floating-label:not(.mdc-floating-label--float-above){text-overflow:ellipsis;width:inherit;padding-right:30px;padding-inline-end:30px;padding-inline-start:initial;box-sizing:border-box;direction:var(--direction)}input{text-align:var(--text-field-text-align,start)}::-ms-reveal{display:none}:host([no-spinner]) input::-webkit-inner-spin-button,:host([no-spinner]) input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}:host([no-spinner]) input[type=number]{-moz-appearance:textfield}.mdc-text-field__ripple{overflow:hidden}.mdc-text-field{overflow:var(--text-field-overflow)}.mdc-floating-label{inset-inline-start:16px!important;inset-inline-end:initial!important;transform-origin:var(--float-start);direction:var(--direction);text-align:var(--float-start)}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px - var(--text-field-suffix-padding-left,0px));inset-inline-start:calc(48px + var(--text-field-suffix-padding-left,0px))!important;inset-inline-end:initial!important;direction:var(--direction)}.mdc-text-field__input[type=number]{direction:var(--direction)}.mdc-text-field__affix--prefix{padding-right:var(--text-field-prefix-padding-right,2px);padding-inline-end:var(--text-field-prefix-padding-right,2px);padding-inline-start:initial}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--prefix{color:var(--mdc-text-field-label-ink-color)}"]))),"rtl"===y.G.document.dir?(0,m.AH)(i||(i=(0,s.A)([".mdc-floating-label,.mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field__icon--leading,.mdc-text-field__input[type=number]{direction:rtl}"]))):(0,m.AH)(o||(o=(0,s.A)([""])))]}}]}}),v.J)},95273:function(e,t,n){var a,r=n(6238),i=n(36683),o=n(89231),s=n(29864),c=n(83647),l=n(8364),u=(n(77052),n(91619)),d=n(80346),f=n(40924),h=n(196);(0,l.A)([(0,h.EM)("ha-top-app-bar-fixed")],(function(e,t){var n=function(t){function n(){var t;(0,o.A)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=(0,s.A)(this,n,[].concat(r)),e(t),t}return(0,c.A)(n,t),(0,i.A)(n)}(t);return{F:n,d:[{kind:"field",static:!0,key:"styles",value:function(){return[d.R,(0,f.AH)(a||(a=(0,r.A)([".mdc-top-app-bar__row{height:var(--header-height);border-bottom:var(--app-header-border-bottom)}.mdc-top-app-bar--fixed-adjust{padding-top:var(--header-height)}.mdc-top-app-bar{--mdc-typography-headline6-font-weight:400;color:var(--app-header-text-color,var(--mdc-theme-on-primary,#fff));background-color:var(--app-header-background-color,var(--mdc-theme-primary))}.mdc-top-app-bar__title{padding-inline-start:20px;padding-inline-end:initial}"])))]}}]}}),u.$)},14356:function(e,t,n){n.d(t,{sd:function(){return s},JT:function(){return c},Ub:function(){return l},zS:function(){return u},su:function(){return d},CK:function(){return f},y3:function(){return m},wv:function(){return v},C4:function(){return h},vc:function(){return k},ey:function(){return g},j4:function(){return _},FX:function(){return b}});var a=n(94881),r=n(1781),i=(n(77052),n(43859),n(97754),function(){var e=(0,r.default)((0,a.default)().mark((function e(t,n,r,i,o){var s,c,l,u,d,f,h=arguments;return(0,a.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s=h.length,c=new Array(s>5?s-5:0),l=5;l<s;l++)c[l-5]=h[l];if((u=i[t])||(u=i[t]={}),!(d=u[o])){e.next=6;break}return e.abrupt("return",d);case 6:return f=r.apply(void 0,[i,o].concat(c)),u[o]=f,f.then((function(){return setTimeout((function(){u[o]=void 0}),n)}),(function(){u[o]=void 0})),e.abrupt("return",f);case 10:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i){return e.apply(this,arguments)}}()),o=n(8983),s=[1,2,3,4,6,8],c=2,l="hls",u="web_rtc",d=function(e,t,n){return"".concat(e,"&width=").concat(t,"&height=").concat(n)},f=function(e){return"/api/camera_proxy_stream/".concat(e.entity_id,"?token=").concat(e.attributes.access_token)},h=function(){var e=(0,r.default)((0,a.default)().mark((function e(t,n,r,o){var s;return(0,a.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i("_cameraTmbUrl",9e3,p,t,n);case 2:return s=e.sent,e.abrupt("return",d(s,r,o));case 4:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.default)((0,a.default)().mark((function e(t,n){var r;return(0,a.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.e0)(t,"/api/camera_proxy/".concat(n));case 2:return r=e.sent,e.abrupt("return",t.hassUrl(r.path));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=(0,r.default)((0,a.default)().mark((function e(t,n,r){var i,o;return(0,a.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={type:"camera/stream",entity_id:n},r&&(i.format=r),e.next=4,t.callWS(i);case 4:return(o=e.sent).url=t.hassUrl(o.url),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),g=function(e,t,n){return e.callWS({type:"camera/web_rtc_offer",entity_id:t,offer:n})},m=function(e,t){return e.callWS({type:"camera/get_prefs",entity_id:t})},b=function(e,t,n){return e.callWS(Object.assign({type:"camera/update_prefs",entity_id:t},n))},y="media-source://camera/",_=function(e){return e.startsWith(y)},k=function(e){return e.substring(22)}},13622:function(e,t,n){n.d(t,{$2:function(){return r},VV:function(){return o},on:function(){return l},sx:function(){return s},v5:function(){return a}});n(19954),n(68113);var a="none",r=function(e){return e[e.TARGET_TEMPERATURE=1]="TARGET_TEMPERATURE",e[e.TARGET_TEMPERATURE_RANGE=2]="TARGET_TEMPERATURE_RANGE",e[e.TARGET_HUMIDITY=4]="TARGET_HUMIDITY",e[e.FAN_MODE=8]="FAN_MODE",e[e.PRESET_MODE=16]="PRESET_MODE",e[e.SWING_MODE=32]="SWING_MODE",e[e.AUX_HEAT=64]="AUX_HEAT",e[e.TURN_OFF=128]="TURN_OFF",e[e.TURN_ON=256]="TURN_ON",e}({}),i=["auto","heat_cool","heat","cool","dry","fan_only","off"].reduce((function(e,t,n){return e[t]=n,e}),{}),o=function(e,t){return i[e]-i[t]},s={cooling:"cool",drying:"dry",fan:"fan_only",preheating:"heat",heating:"heat",idle:"off",off:"off"},c={cool:"M20.79,13.95L18.46,14.57L16.46,13.44V10.56L18.46,9.43L20.79,10.05L21.31,8.12L19.54,7.65L20,5.88L18.07,5.36L17.45,7.69L15.45,8.82L13,7.38V5.12L14.71,3.41L13.29,2L12,3.29L10.71,2L9.29,3.41L11,5.12V7.38L8.5,8.82L6.5,7.69L5.92,5.36L4,5.88L4.47,7.65L2.7,8.12L3.22,10.05L5.55,9.43L7.55,10.56V13.45L5.55,14.58L3.22,13.96L2.7,15.89L4.47,16.36L4,18.12L5.93,18.64L6.55,16.31L8.55,15.18L11,16.62V18.88L9.29,20.59L10.71,22L12,20.71L13.29,22L14.7,20.59L13,18.88V16.62L15.5,15.17L17.5,16.3L18.12,18.63L20,18.12L19.53,16.35L21.3,15.88L20.79,13.95M9.5,10.56L12,9.11L14.5,10.56V13.44L12,14.89L9.5,13.44V10.56Z",dry:"M12,3.25C12,3.25 6,10 6,14C6,17.32 8.69,20 12,20A6,6 0 0,0 18,14C18,10 12,3.25 12,3.25M14.47,9.97L15.53,11.03L9.53,17.03L8.47,15.97M9.75,10A1.25,1.25 0 0,1 11,11.25A1.25,1.25 0 0,1 9.75,12.5A1.25,1.25 0 0,1 8.5,11.25A1.25,1.25 0 0,1 9.75,10M14.25,14.5A1.25,1.25 0 0,1 15.5,15.75A1.25,1.25 0 0,1 14.25,17A1.25,1.25 0 0,1 13,15.75A1.25,1.25 0 0,1 14.25,14.5Z",fan_only:"M12,11A1,1 0 0,0 11,12A1,1 0 0,0 12,13A1,1 0 0,0 13,12A1,1 0 0,0 12,11M12.5,2C17,2 17.11,5.57 14.75,6.75C13.76,7.24 13.32,8.29 13.13,9.22C13.61,9.42 14.03,9.73 14.35,10.13C18.05,8.13 22.03,8.92 22.03,12.5C22.03,17 18.46,17.1 17.28,14.73C16.78,13.74 15.72,13.3 14.79,13.11C14.59,13.59 14.28,14 13.88,14.34C15.87,18.03 15.08,22 11.5,22C7,22 6.91,18.42 9.27,17.24C10.25,16.75 10.69,15.71 10.89,14.79C10.4,14.59 9.97,14.27 9.65,13.87C5.96,15.85 2,15.07 2,11.5C2,7 5.56,6.89 6.74,9.26C7.24,10.25 8.29,10.68 9.22,10.87C9.41,10.39 9.73,9.97 10.14,9.65C8.15,5.96 8.94,2 12.5,2Z",auto:"M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22C12.4 22 12.7 22 13.1 21.9L15.4 15.3L14.8 14.7C15.5 14 16 13 16 11.9C16 11.2 15.8 10.5 15.4 9.9L17.6 7.7C18.5 9 19 10.4 19 12H20C20.3 12 20.6 12.1 20.8 12.2C20.8 12.2 20.9 12.2 20.9 12.3C21.3 12.5 21.7 12.9 21.9 13.4C22 12.9 22 12.5 22 12C22 6.5 17.5 2 12 2M14 8.6C13.4 8.2 12.7 8 12 8C9.8 8 8 9.8 8 12C8 13.1 8.4 14.1 9.2 14.8L7.1 16.9C5.8 15.7 5 13.9 5 12C5 8.1 8.1 5 12 5C13.6 5 15 5.5 16.2 6.4L14 8.6M20 14H18L14.8 23H16.7L17.4 21H20.6L21.3 23H23.2L20 14M17.8 19.7L19 16L20.2 19.7H17.8Z",heat:"M17.66 11.2C17.43 10.9 17.15 10.64 16.89 10.38C16.22 9.78 15.46 9.35 14.82 8.72C13.33 7.26 13 4.85 13.95 3C13 3.23 12.17 3.75 11.46 4.32C8.87 6.4 7.85 10.07 9.07 13.22C9.11 13.32 9.15 13.42 9.15 13.55C9.15 13.77 9 13.97 8.8 14.05C8.57 14.15 8.33 14.09 8.14 13.93C8.08 13.88 8.04 13.83 8 13.76C6.87 12.33 6.69 10.28 7.45 8.64C5.78 10 4.87 12.3 5 14.47C5.06 14.97 5.12 15.47 5.29 15.97C5.43 16.57 5.7 17.17 6 17.7C7.08 19.43 8.95 20.67 10.96 20.92C13.1 21.19 15.39 20.8 17.03 19.32C18.86 17.66 19.5 15 18.56 12.72L18.43 12.46C18.22 12 17.66 11.2 17.66 11.2M14.5 17.5C14.22 17.74 13.76 18 13.4 18.1C12.28 18.5 11.16 17.94 10.5 17.28C11.69 17 12.4 16.12 12.61 15.23C12.78 14.43 12.46 13.77 12.33 13C12.21 12.26 12.23 11.63 12.5 10.94C12.69 11.32 12.89 11.7 13.13 12C13.9 13 15.11 13.44 15.37 14.8C15.41 14.94 15.43 15.08 15.43 15.23C15.46 16.05 15.1 16.95 14.5 17.5H14.5Z",off:"M16.56,5.44L15.11,6.89C16.84,7.94 18,9.83 18,12A6,6 0 0,1 12,18A6,6 0 0,1 6,12C6,9.83 7.16,7.94 8.88,6.88L7.44,5.44C5.36,6.88 4,9.28 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12C20,9.28 18.64,6.88 16.56,5.44M13,3H11V13H13",heat_cool:"M12.92 1.58L11.18 2.58L12.39 4.67L11.8 6.85L9 7.6L7.38 6L7.42 3.59L5.43 3.59L5.43 5.42L3.59 5.42L3.6 7.42L6 7.42L7.65 9.03L6.9 11.82L4.68 12.4L2.59 11.2L1.59 12.93L3.17 13.84L2.26 15.42L4 16.42L5.19 14.33L7.42 13.75L7.92 14.26L9.32 12.86L8.78 12.32L9.53 9.54L12.32 8.78L12.85 9.32L14.26 7.91L13.73 7.37L14.32 5.19L16.41 4L15.41 2.25L13.83 3.16L12.92 1.58M20.72 4L4 20.72L5.27 22L10.16 17.11C10.63 17.43 11.15 17.68 11.71 17.83C14.38 18.55 17.12 16.96 17.83 14.29C18.22 12.86 17.93 11.36 17.11 10.16L22 5.27L20.72 4M18.74 9C19.18 9.63 19.53 10.38 19.75 11.19C19.97 12 20.03 12.81 19.96 13.61L22.65 10.41L18.74 9M19.32 15.95C19 16.67 18.5 17.35 17.93 17.94C17.34 18.53 16.66 19 15.96 19.34L20.05 20.06L19.32 15.95M9 18.71L10.41 22.66L13.59 19.95C12.81 20 12 19.97 11.19 19.76C10.36 19.54 9.62 19.17 9 18.71Z"},l=function(e){return c[e]||"M16.95,16.95L14.83,14.83C15.55,14.1 16,13.1 16,12C16,11.26 15.79,10.57 15.43,10L17.6,7.81C18.5,9 19,10.43 19,12C19,13.93 18.22,15.68 16.95,16.95M12,5C13.57,5 15,5.5 16.19,6.4L14,8.56C13.43,8.21 12.74,8 12,8A4,4 0 0,0 8,12C8,13.1 8.45,14.1 9.17,14.83L7.05,16.95C5.78,15.68 5,13.93 5,12A7,7 0 0,1 12,5M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z"}},60280:function(e,t,n){n.d(t,{JW:function(){return p},TC:function(){return o},VN:function(){return s},Vx:function(){return c},XQ:function(){return f},eM:function(){return u},iH:function(){return l},k3:function(){return h},m4:function(){return r},qf:function(){return i},yv:function(){return d}});var a=n(61780),r=(n(14460),n(43859),["migration_error","setup_error","setup_retry"]),i=["not_loaded","loaded","setup_error","setup_retry"],o=function(e,t,n){var a={type:"config_entries/subscribe"};return n&&n.type&&(a.type_filter=n.type),e.connection.subscribeMessage((function(e){return t(e)}),a)},s=function(e,t){var n={};return t&&(t.type&&(n.type_filter=t.type),t.domain&&(n.domain=t.domain)),e.callWS(Object.assign({type:"config_entries/get"},n))},c=function(e,t){return e.callWS({type:"config_entries/get_single",entry_id:t})},l=function(e,t,n){return e.callWS(Object.assign({type:"config_entries/update",entry_id:t},n))},u=function(e,t){return e.callApi("DELETE","config/config_entries/entry/".concat(t))},d=function(e,t){return e.callApi("POST","config/config_entries/entry/".concat(t,"/reload"))},f=function(e,t){return e.callWS({type:"config_entries/disable",entry_id:t,disabled_by:"user"})},h=function(e,t){return e.callWS({type:"config_entries/disable",entry_id:t,disabled_by:null})},p=function(e,t){var n=(0,a.A)(e),r=function(e){var n=t[e.domain];return"helper"===(null==n?void 0:n.integration_type)?-1:1};return n.sort((function(e,t){return r(t)-r(e)}))}},95866:function(e,t,n){n.d(t,{y:function(){return o}});n(99222);var a=window;"customIconsets"in a||(a.customIconsets={});var r=a.customIconsets,i=window;"customIcons"in i||(i.customIcons={});var o=new Proxy(i.customIcons,{get:function(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:r[t]?{getIcon:r[t]}:void 0}})},41525:function(e,t,n){var a=n(1781),r=n(94881);n.a(e,function(){var e=a(r().mark((function e(a,i){var o,s,c,l,u,d,f,h,p,v,g,m,b,y,_,k,x,w,A,C,L,D,S,E,M,O,P,T,z,R,H,I,j,W,Z,V,U,N,B,q,F,$,G,J,K,Y,Q,X,ee,te,ne,ae,re,ie,oe,se,ce,le,ue,de,fe,he,pe,ve,ge;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.d(t,{AN:function(){return oe},B2:function(){return te},BV:function(){return ee},E$:function(){return ie},GW:function(){return X},KJ:function(){return pe},Q4:function(){return K},RB:function(){return G},WN:function(){return ae},X4:function(){return ge},_d:function(){return he},al:function(){return de},bs:function(){return ne},c:function(){return Q},m7:function(){return $},oU:function(){return Y},tb:function(){return ue},uh:function(){return J},yM:function(){return ve}}),o=n(539),s=n(61780),c=n(66123),l=n(94881),u=n(1781),d=n(27934),n.n(d),f=n(77052),n.n(f),h=n(53501),n.n(h),p=n(21950),n.n(p),v=n(36724),n.n(v),g=n(71936),n.n(g),m=n(43859),n.n(m),b=n(68113),n.n(b),y=n(84368),n.n(y),_=n(55888),n.n(_),k=n(34517),n.n(k),x=n(56262),n.n(x),w=n(97754),n.n(w),A=n(66274),n.n(A),C=n(84531),n.n(C),L=n(98168),n.n(L),D=n(34290),n.n(D),S=n(8339),n.n(S),E=n(81438),M=n(72502),O=n(57442),P=n(39937),T=n(23177),z=n(94061),R=n(87930),H=n(93352),I=n(79113),j=n(84749),W=n(99955),Z=n(72586),V=n(60441),U=n(47186),N=n(60280),B=n(74959),!(q=a([V])).then){e.next=67;break}return e.next=63,q;case 63:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=68;break;case 67:e.t0=q;case 68:V=e.t0[0],F=[],$=function(){return{stat_energy_from:"",stat_cost:null,entity_energy_price:null,number_energy_price:null}},G=function(){return{stat_energy_to:"",stat_compensation:null,entity_energy_price:null,number_energy_price:null}},J=function(){return{type:"grid",flow_from:[],flow_to:[],cost_adjustment_day:0}},K=function(){return{type:"solar",stat_energy_from:"",config_entry_solar_forecast:null}},Y=function(){return{type:"battery",stat_energy_from:"",stat_energy_to:""}},Q=function(){return{type:"gas",stat_energy_from:"",stat_cost:null,entity_energy_price:null,number_energy_price:null}},X=function(){return{type:"water",stat_energy_from:"",stat_cost:null,entity_energy_price:null,number_energy_price:null}},ee=function(e){return e.callWS({type:"energy/info"})},te=function(){var e=(0,u.default)((0,l.default)().mark((function e(t){return(0,l.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadBackendTranslation("issues","energy");case 2:return e.abrupt("return",t.callWS({type:"energy/validate"}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(e){return e.callWS({type:"energy/get_prefs"})},ae=function(){var e=(0,u.default)((0,l.default)().mark((function e(t,n){var a;return(0,l.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.callWS(Object.assign({type:"energy/save_prefs"},n)),ce(t),e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),re=function(){var e=(0,u.default)((0,l.default)().mark((function e(t,n,a,r,i){var o,s=arguments;return(0,l.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=s.length>5&&void 0!==s[5]?s[5]:"hour",e.abrupt("return",t.callWS({type:"energy/fossil_energy_consumption",start_time:n.toISOString(),end_time:null==i?void 0:i.toISOString(),energy_statistic_ids:a,co2_statistic_id:r,period:o}));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i){return e.apply(this,arguments)}}(),ie=function(e){return(0,U.$)(e.energy_sources,(function(e){return e.type}))},oe=function(e,t,n){var a,r=[],i=(0,c.A)(e.energy_sources);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(!n||n.includes(o.type))if("solar"!==o.type)if("gas"!==o.type&&"water"!==o.type)if("battery"!==o.type){var l,u=(0,c.A)(o.flow_from);try{for(u.s();!(l=u.n()).done;){var d=l.value;r.push(d.stat_energy_from),d.stat_cost&&r.push(d.stat_cost);var f=t.cost_sensors[d.stat_energy_from];f&&r.push(f)}}catch(b){u.e(b)}finally{u.f()}var h,p=(0,c.A)(o.flow_to);try{for(p.s();!(h=p.n()).done;){var v=h.value;r.push(v.stat_energy_to),v.stat_compensation&&r.push(v.stat_compensation);var g=t.cost_sensors[v.stat_energy_to];g&&r.push(g)}}catch(b){p.e(b)}finally{p.f()}}else r.push(o.stat_energy_from),r.push(o.stat_energy_to);else{r.push(o.stat_energy_from),o.stat_cost&&r.push(o.stat_cost);var m=t.cost_sensors[o.stat_energy_from];m&&r.push(m)}else r.push(o.stat_energy_from)}}catch(b){i.e(b)}finally{i.f()}return n&&!n.includes("device")||r.push.apply(r,(0,s.A)(e.device_consumption.map((function(e){return e.stat_consumption})))),r},se=function(){var e=(0,u.default)((0,l.default)().mark((function e(t,n,a,r,i){var u,d,f,h,p,v,g,m,b,y,_,k,x,w,A,C,L,D,S,H,I,j,W,V,U,q,F,$,G,J,K,Y,Q,X,te,ne,ae,ie,se,ce,le,ue,de,fe,he,pe,ve;return(0,l.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([(0,N.VN)(t,{domain:"co2signal"}),ee(t)]);case 2:if(u=e.sent,d=(0,o.A)(u,2),f=d[0],h=d[1],!(p=f.length?f[0]:void 0)){e.next=21;break}g=0,m=Object.values(t.entities);case 9:if(!(g<m.length)){e.next=21;break}if("co2signal"===(b=m[g]).platform){e.next=13;break}return e.abrupt("continue",18);case 13:if((y=t.states[b.entity_id])&&"%"===y.attributes.unit_of_measurement){e.next=16;break}return e.abrupt("continue",18);case 16:return v=y.entity_id,e.abrupt("break",21);case 18:g++,e.next=9;break;case 21:_=[],k=(0,c.A)(n.energy_sources);try{for(k.s();!(x=k.n()).done;)if("grid"===(w=x.value).type){A=(0,c.A)(w.flow_from);try{for(A.s();!(C=A.n()).done;)L=C.value,_.push(L.stat_energy_from)}catch(l){A.e(l)}finally{A.f()}}}catch(l){k.e(l)}finally{k.f()}return D=oe(n,h,["grid","solar","battery","gas","device"]),S=oe(n,h,["water"]),H=[].concat((0,s.A)(D),(0,s.A)(S)),I=(0,E.c)(r||new Date,a),j=I>35?"month":I>2?"day":"hour",W=t.config.unit_system.length||"",V={energy:"kWh",volume:"km"===W?"m³":"ft³"},U={volume:"km"===W?"L":"gal"},q=D.length?(0,B.sz)(t,a,r,D,j,V,["change"]):{},F=S.length?(0,B.sz)(t,a,r,S,j,U,["change"]):{},K={},Y={},i&&(G=(0,Z.xo)(a,M.e,t.locale,t.config)&&(0,Z.xo)(r||new Date,O.c,t.locale,t.config)?(0,Z.ol)(a,P.P,t.locale,t.config,-(0,Z.EO)(r||new Date,a,T.W,t.locale,t.config)-1):(0,Z.ol)(a,z.f,t.locale,t.config,-1*(I+1)),J=(0,R.A)(a,-1),D.length&&(K=(0,B.sz)(t,G,J,D,j,V,["change"])),S.length&&(Y=(0,B.sz)(t,G,J,S,j,U,["change"]))),void 0!==v&&(Q=re(t,a,_,v,r,I>35?"month":I>2?"day":"hour"),i&&(X=re(t,G,_,v,J,I>35?"month":I>2?"day":"hour"))),te={},ne=H.length?(0,B.Wr)(t,H):[],e.next=42,Promise.all([q,F,K,Y,ne,Q,X]);case 42:return ae=e.sent,ie=(0,o.A)(ae,7),se=ie[0],ce=ie[1],le=ie[2],ue=ie[3],de=ie[4],fe=ie[5],he=ie[6],pe=Object.assign(Object.assign({},se),ce),i&&($=Object.assign(Object.assign({},le),ue)),H.length&&de.forEach((function(e){te[e.statistic_id]=e})),ve={start:a,end:r,startCompare:G,endCompare:J,info:h,prefs:n,stats:pe,statsMetadata:te,statsCompare:$,co2SignalConfigEntry:p,co2SignalEntity:v,fossilEnergyConsumption:fe,fossilEnergyConsumptionCompare:he},e.abrupt("return",ve);case 56:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i){return e.apply(this,arguments)}}(),ce=function(e){F.forEach((function(t){var n=ue(e,{key:t});n.clearPrefs(),n._active&&n.refresh()}))},le=function(e){if(e._refreshTimeout&&clearTimeout(e._refreshTimeout),e._active&&(!e.end||e.end>new Date)){var t=new Date;t.getMinutes()>=20&&t.setHours(t.getHours()+1),t.setMinutes(20,0,0),e._refreshTimeout=window.setTimeout((function(){return e.refresh()}),t.getTime()-Date.now())}},ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="_energy";if(t.key){if(!t.key.startsWith("energy_"))throw new Error("Key need to start with energy_");n="_".concat(t.key)}if(e.connection[n])return e.connection[n];F.push(t.key);var a=(0,W.X)(e.connection,n,(0,u.default)((0,l.default)().mark((function t(){return(0,l.default)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.prefs){t.next=4;break}return t.next=3,ne(e);case 3:a.prefs=t.sent;case 4:return le(a),t.abrupt("return",se(e,a.prefs,a.start,a.end,a.compare));case 6:case"end":return t.stop()}}),t)})))),r=a.subscribe;a.subscribe=function(e){var t=r(e);return a._active++,void 0===a._refreshTimeout&&le(a),function(){a._active--,a._active<1&&(clearTimeout(a._refreshTimeout),a._refreshTimeout=void 0),t()}},a._active=0,a.prefs=t.prefs;var i=new Date,o=(0,V.LW)(i,e.locale,e.config).split(":")[0];a.start=(0,Z.ol)("0"===o?(0,z.f)(i,-1):i,H.o,e.locale,e.config),a.end=(0,Z.ol)("0"===o?(0,z.f)(i,-1):i,I.D,e.locale,e.config);var s=function t(){a._updatePeriodTimeout=window.setTimeout((function(){a.start=(0,Z.ol)(new Date,H.o,e.locale,e.config),a.end=(0,Z.ol)(new Date,I.D,e.locale,e.config),t()}),(0,j.L)((0,Z.ol)(i,I.D,e.locale,e.config),1).getTime()-Date.now())};return s(),a.clearPrefs=function(){a.prefs=void 0},a.setPeriod=function(t,n){var r;a.start=t,a.end=n,a.start.getTime()!==(0,Z.ol)(new Date,H.o,e.locale,e.config).getTime()||(null===(r=a.end)||void 0===r?void 0:r.getTime())!==(0,Z.ol)(new Date,I.D,e.locale,e.config).getTime()||a._updatePeriodTimeout?a._updatePeriodTimeout&&(clearTimeout(a._updatePeriodTimeout),a._updatePeriodTimeout=void 0):s()},a.setCompare=function(e){a.compare=e},a},de=function(e){return e.callWS({type:"energy/solar_forecast"})},fe=["volume","energy"],he=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,r=(0,c.A)(e.energy_sources);try{for(r.s();!(t=r.n()).done;){var i=t.value;if("gas"===i.type&&(!a||a!==i.stat_energy_from)){var o=n[i.stat_energy_from];if(fe.includes(null==o?void 0:o.unit_class))return o.unit_class}}}catch(s){r.e(s)}finally{r.f()}},pe=function(e,t){var n=he(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});if(void 0!==n)return"energy"===n?"kWh":"km"===e.config.unit_system.length?"m³":"ft³"},ve=function(e){return"km"===e.config.unit_system.length?"L":"gal"},ge="/docs/energy/faq/#troubleshooting-missing-entities",i(),e.next=100;break;case 97:e.prev=97,e.t2=e.catch(0),i(e.t2);case 100:case"end":return e.stop()}}),e,null,[[0,97]])})));return function(t,n){return e.apply(this,arguments)}}())},86506:function(e,t,n){n.d(t,{e:function(){return o},z:function(){return i}});var a=n(61780),r=(n(21950),n(36724),n(68113),n(57733),n(56262),n(98168),n(15445),n(24483),n(13478),n(46355),n(14612),n(53691),n(48455),n(8339),n(47038)),i=function(e){var t=e.attributes.entity_id||[],n=(0,a.A)(new Set(t.map((function(e){return(0,r.m)(e)}))));return 1===n.length?n[0]:void 0},o=function(e,t,n,a,r){return e.connection.subscribeMessage(r,{type:"group/start_preview",flow_id:t,flow_type:n,user_input:a})}},37382:function(e,t,n){n.d(t,{Gp:function(){return x},_4:function(){return A},fq:function(){return y},u7:function(){return _},Yd:function(){return b},f$:function(){return w}});var a=n(61780),r=n(94881),i=n(1781),o=(n(53501),n(21950),n(68113),n(55888),n(34517),n(56262),n(8339),n(47038)),s=n(25425),c=n(66596),l=n(18888),u=n(55279),d=function(e,t){var n=(0,c.t)(e),a=null!=t?t:e.state,r=e.attributes.device_class;switch(n){case"update":return function(e,t){return"on"===(null!=t?t:e.state)?(0,l.Jy)(e)?"mdi:package-down":"mdi:package-up":"mdi:package"}(e,a);case"sensor":if("battery"===r)return(0,u.t)(e,a);break;case"device_tracker":return function(e,t){var n=null!=t?t:e.state;return"router"===(null==e?void 0:e.attributes.source_type)?"home"===n?"mdi:lan-connect":"mdi:lan-disconnect":["bluetooth","bluetooth_le"].includes(null==e?void 0:e.attributes.source_type)?"home"===n?"mdi:bluetooth-connect":"mdi:bluetooth":"not_home"===n?"mdi:account-arrow-right":"mdi:account"}(e,a);case"sun":return"above_horizon"===a?"mdi:white-balance-sunny":"mdi:weather-night";case"input_datetime":if(!e.attributes.has_date)return"mdi:clock";if(!e.attributes.has_time)return"mdi:calendar"}},f=n(6699),h=n(91087),p={entity:{},entity_component:{},services:{domains:{}}},v=function(){var e=(0,i.default)((0,r.default)().mark((function e(t,n,a){return(0,r.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.callWS({type:"frontend/get_icons",category:n,integration:a}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),g=function(){var e=(0,i.default)((0,r.default)().mark((function e(t,n){var a,i=arguments;return(0,r.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.length>2&&void 0!==i[2]&&i[2]||!(n in p.entity)){e.next=3;break}return e.abrupt("return",p.entity[n]);case 3:if((0,f.x)(t,n)&&(0,h.v)(t.connection.haVersion,2024,2)){e.next=5;break}return e.abrupt("return",void 0);case 5:return a=v(t,"entity",n).then((function(e){return null==e?void 0:e.resources[n]})),p.entity[n]=a,e.abrupt("return",p.entity[n]);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=(0,i.default)((0,r.default)().mark((function e(t,n){var i,o,s=arguments;return(0,r.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=s.length>2&&void 0!==s[2]&&s[2],e.next=3;break;case 3:if(o||!p.entity_component.resources||null===(i=p.entity_component.domains)||void 0===i||!i.includes(n)){e.next=5;break}return e.abrupt("return",p.entity_component.resources.then((function(e){return e[n]})));case 5:if((0,f.x)(t,n)){e.next=7;break}return e.abrupt("return",void 0);case 7:return p.entity_component.domains=(0,a.A)(t.config.components),p.entity_component.resources=v(t,"entity_component").then((function(e){return e.resources})),e.abrupt("return",p.entity_component.resources.then((function(e){return e[n]})));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=(0,i.default)((0,r.default)().mark((function e(t,n){var a,i,o=arguments;return(0,r.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o.length>2&&void 0!==o[2]&&o[2],n){e.next=6;break}if(a||!p.services.all){e.next=4;break}return e.abrupt("return",p.services.all);case 4:return p.services.all=v(t,"services",n).then((function(e){return p.services.domains=e.resources,null==e?void 0:e.resources})),e.abrupt("return",p.services.all);case 6:if(a||!(n in p.services.domains)){e.next=8;break}return e.abrupt("return",p.services.domains[n]);case 8:if(!p.services.all||a){e.next=13;break}return e.next=11,p.services.all;case 11:if(!(n in p.services.domains)){e.next=13;break}return e.abrupt("return",p.services.domains[n]);case 13:if((0,f.x)(t,n)){e.next=15;break}return e.abrupt("return",void 0);case 15:return i=v(t,"services",n),p.services.domains[n]=i.then((function(e){return null==e?void 0:e.resources[n]})),e.abrupt("return",p.services.domains[n]);case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=(0,i.default)((0,r.default)().mark((function e(t,n,a){var i,o,s;return(0,r.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(o=null===(i=t.entities)||void 0===i?void 0:i[n.entity_id])||!o.icon){e.next=3;break}return e.abrupt("return",o.icon);case 3:return s=(0,c.t)(n),e.abrupt("return",k(t,s,n,a,o));case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),_=function(){var e=(0,i.default)((0,r.default)().mark((function e(t,n){var a,i;return(0,r.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.icon){e.next=2;break}return e.abrupt("return",n.icon);case 2:return a=t.states[n.entity_id],i=(0,o.m)(n.entity_id),e.abrupt("return",k(t,i,a,void 0,n));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=(0,i.default)((0,r.default)().mark((function e(t,n,a,i,o){var s,c,l,u,f,h,p,v,b,y,_,k;return(0,r.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=null==o?void 0:o.platform,c=null==o?void 0:o.translation_key,l=null==a?void 0:a.attributes.device_class,u=null!=i?i:null==a?void 0:a.state,!c||!s){e.next=9;break}return e.next=7,g(t,s);case 7:(h=e.sent)&&(b=null===(p=h[n])||void 0===p?void 0:p[c],f=u&&(null==b||null===(v=b.state)||void 0===v?void 0:v[u])||(null==b?void 0:b.default));case 9:if(!f&&a&&(f=d(a,u)),f){e.next=15;break}return e.next=13,m(t,n);case 13:(y=e.sent)&&(k=l&&y[l]||y._,f=u&&(null==k||null===(_=k.state)||void 0===_?void 0:_[u])||(null==k?void 0:k.default));case 15:return e.abrupt("return",f);case 16:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i){return e.apply(this,arguments)}}(),x=function(){var e=(0,i.default)((0,r.default)().mark((function e(t,n,a,i){var o,s,l,u,d,f,h,p,v,b,y,_,k,x,w,A,C;return(0,r.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=(0,c.t)(n),u=n.attributes.device_class,d=null===(o=t.entities)||void 0===o?void 0:o[n.entity_id],f=null==d?void 0:d.platform,h=null==d?void 0:d.translation_key,p=null!=i?i:n.attributes[a],!h||!f){e.next=11;break}return e.next=9,g(t,f);case 9:(v=e.sent)&&(_=null===(b=v[l])||void 0===b||null===(b=b[h])||void 0===b||null===(b=b.state_attributes)||void 0===b?void 0:b[a],s=p&&(null==_||null===(y=_.state)||void 0===y?void 0:y[p])||(null==_?void 0:_.default));case 11:if(s){e.next=16;break}return e.next=14,m(t,l);case 14:(k=e.sent)&&(C=u&&(null===(x=k[u])||void 0===x||null===(x=x.state_attributes)||void 0===x?void 0:x[a])||(null===(w=k._)||void 0===w||null===(w=w.state_attributes)||void 0===w?void 0:w[a]),s=p&&(null==C||null===(A=C.state)||void 0===A?void 0:A[p])||(null==C?void 0:C.default));case 16:return e.abrupt("return",s);case 17:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),w=function(){var e=(0,i.default)((0,r.default)().mark((function e(t,n){var a,i,c,l;return(0,r.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,o.m)(n),c=(0,s.Y)(n),e.next=4,b(t,i);case 4:if((l=e.sent)&&(a=l[c]),a){e.next=10;break}return e.next=9,A(t,i);case 9:a=e.sent;case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=(0,i.default)((0,r.default)().mark((function e(t,n,a){var i,o;return(0,r.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t,n);case 2:if(!(i=e.sent)){e.next=6;break}return o=a&&i[a]||i._,e.abrupt("return",null==o?void 0:o.default);case 6:return e.abrupt("return",void 0);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()},18888:function(e,t,n){n.d(t,{A_:function(){return y},Jy:function(){return p},TY:function(){return f},VK:function(){return h},W0:function(){return m},ev:function(){return v},nD:function(){return b}});var a=n(94881),r=n(1781),i=(n(69466),n(36724),n(14460),n(68113),n(84368),n(55888),n(66274),n(85038),n(98168),n(7383)),o=n(47038),s=n(66596),c=n(16327),l=n(95507),u=n(98876),d=n(75610),f=function(e){return e[e.INSTALL=1]="INSTALL",e[e.SPECIFIC_VERSION=2]="SPECIFIC_VERSION",e[e.PROGRESS=4]="PROGRESS",e[e.BACKUP=8]="BACKUP",e[e.RELEASE_NOTES=16]="RELEASE_NOTES",e}({}),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(e.state===i.Or||t&&Boolean(e.attributes.skipped_version))&&(0,c.$)(e,f.INSTALL)},p=function(e){return function(e){return(0,c.$)(e,f.PROGRESS)&&"number"==typeof e.attributes.in_progress}(e)||!!e.attributes.in_progress},v=function(e,t){return e.callWS({type:"update/release_notes",entity_id:t})},g=function(e,t){return Object.values(e).filter((function(e){return"update"===(0,s.t)(e)})).sort((function(e,n){return"Home Assistant Core"===e.attributes.title?-3:"Home Assistant Core"===n.attributes.title?3:"Home Assistant Operating System"===e.attributes.title?-2:"Home Assistant Operating System"===n.attributes.title?2:"Home Assistant Supervisor"===e.attributes.title?-1:"Home Assistant Supervisor"===n.attributes.title?1:(0,l.S)(e.attributes.title||e.attributes.friendly_name||"",n.attributes.title||n.attributes.friendly_name||"",t)}))},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return g(e).filter((function(e){return h(e,t)}))},b=function(){var e=(0,r.default)((0,a.default)().mark((function e(t,n){var r,i,s;return(0,a.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=g(n.states,n.locale.language).map((function(e){return e.entity_id}))).length){e.next=4;break}return(0,u.showAlertDialog)(t,{title:n.localize("ui.panel.config.updates.no_update_entities.title"),text:n.localize("ui.panel.config.updates.no_update_entities.description"),warning:!0}),e.abrupt("return");case 4:return(0,d.P)(t,{message:n.localize("ui.panel.config.updates.checking_updates")}),i=0,e.next=8,n.connection.subscribeEvents((function(e){"update"===(0,o.m)(e.data.entity_id)&&(i++,(0,d.P)(t,{message:n.localize("ui.panel.config.updates.updates_refreshed",{count:i})}))}),"state_changed");case 8:return s=e.sent,e.next=11,n.callService("homeassistant","update_entity",{entity_id:r});case 11:return e.next=13,new Promise((function(e){setTimeout(e,1e4)}));case 13:s(),0===i&&(0,d.P)(t,{message:n.localize("ui.panel.config.updates.no_new_updates")});case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(e,t){var n=e.state,a=e.attributes;if("off"===n)return a.latest_version&&a.skipped_version===a.latest_version?a.latest_version:t.formatEntityState(e);if("on"===n){if(p(e))return(0,c.$)(e,f.PROGRESS)&&"number"==typeof a.in_progress?t.localize("ui.card.update.installing_with_progress",{progress:a.in_progress}):t.localize("ui.card.update.installing");if(a.latest_version)return a.latest_version}return t.formatEntityState(e)}},94027:function(e,t,n){n.d(t,{E:function(){return f}});var a=n(66123),r=n(36683),i=n(89231),o=n(29864),s=n(83647),c=n(8364),l=n(76504),u=n(80792),d=(n(77052),n(53501),n(21950),n(68113),n(55888),n(34517),n(66274),n(22836),n(8339),n(196)),f=function(e){var t=(0,c.A)(null,(function(e,t){var n=function(t){function n(){var t;(0,i.A)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return t=(0,o.A)(this,n,[].concat(r)),e(t),t}return(0,s.A)(n,t),(0,r.A)(n)}(t);return{F:n,d:[{kind:"field",decorators:[(0,d.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",key:"hassSubscribeRequiredHostProps",value:void 0},{kind:"field",key:"__unsubs",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,l.A)((0,u.A)(n.prototype),"connectedCallback",this).call(this),this.__checkSubscribed()}},{kind:"method",key:"disconnectedCallback",value:function(){if((0,l.A)((0,u.A)(n.prototype),"disconnectedCallback",this).call(this),this.__unsubs){for(;this.__unsubs.length;){var e=this.__unsubs.pop();e instanceof Promise?e.then((function(e){return e()})):e()}this.__unsubs=void 0}}},{kind:"method",key:"updated",value:function(e){if((0,l.A)((0,u.A)(n.prototype),"updated",this).call(this,e),e.has("hass"))this.__checkSubscribed();else if(this.hassSubscribeRequiredHostProps){var t,r=(0,a.A)(e.keys());try{for(r.s();!(t=r.n()).done;){var i=t.value;if(this.hassSubscribeRequiredHostProps.includes(i))return void this.__checkSubscribed()}}catch(o){r.e(o)}finally{r.f()}}}},{kind:"method",key:"hassSubscribe",value:function(){return[]}},{kind:"method",key:"__checkSubscribed",value:function(){var e,t=this;void 0!==this.__unsubs||!this.isConnected||void 0===this.hass||null!==(e=this.hassSubscribeRequiredHostProps)&&void 0!==e&&e.some((function(e){return void 0===t[e]}))||(this.__unsubs=this.hassSubscribe())}}]}}),e);return t}},48632:function(e,t,n){var a=n(1781),r=n(94881);n.a(e,function(){var e=a(r().mark((function e(a,i){var o,s,c,l,u,d,f,h,p,v,g,m,b,y,_,k,x,w,A,C,L,D,S,E,M,O,P,T,z,R,H,I,j,W,Z,V,U,N,B,q,F,$,G,J,K,Y,Q,X,ee,te,ne,ae,re,ie,oe,se;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.r(t),o=n(94881),s=n(1781),c=n(6238),l=n(36683),u=n(89231),d=n(29864),f=n(83647),h=n(8364),p=n(77052),n.n(p),v=n(69466),n.n(v),g=n(35848),n.n(g),m=n(21950),n.n(m),b=n(53156),n.n(b),y=n(36724),n.n(y),_=n(71936),n.n(_),k=n(14460),n.n(k),x=n(43859),n.n(x),w=n(68113),n.n(w),A=n(84368),n.n(A),C=n(58971),n.n(C),L=n(57733),n.n(L),D=n(56262),n.n(D),S=n(66274),n.n(S),E=n(85038),n.n(E),M=n(84531),n.n(M),O=n(98168),n.n(O),P=n(15445),n.n(P),T=n(24483),n.n(T),z=n(13478),n.n(z),R=n(46355),n.n(R),H=n(14612),n.n(H),I=n(53691),n.n(I),j=n(48455),n.n(j),W=n(34290),n.n(W),Z=n(8339),n.n(Z),V=n(29734),n.n(V),U=n(72134),n.n(U),N=n(7146),n.n(N),B=n(97157),n.n(B),q=n(56648),n.n(q),F=n(72435),n.n(F),$=n(40924),G=n(196),n(78361),n(39335),n(95273),J=n(14126),K=n(24168),Y=n(73097),Q=n(28825),X=n(41525),ee=n(27690),!(te=a([K,Y,X])).then){e.next=95;break}return e.next=91,te;case 91:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=96;break;case 95:e.t0=te;case 96:ne=e.t0,K=ne[0],Y=ne[1],X=ne[2],"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z","M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z",se={views:[{strategy:{type:"energy"}}]},(0,h.A)([(0,G.EM)("ha-panel-energy")],(function(e,t){var n,a=function(t){function n(){var t;(0,u.A)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=(0,d.A)(this,n,[].concat(r)),e(t),t}return(0,f.A)(n,t),(0,l.A)(n)}(t);return{F:a,d:[{kind:"field",decorators:[(0,G.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,G.MZ)({type:Boolean,reflect:!0})],key:"narrow",value:function(){return!1}},{kind:"field",decorators:[(0,G.wk)()],key:"_viewIndex",value:function(){return 0}},{kind:"field",decorators:[(0,G.wk)()],key:"_lovelace",value:void 0},{kind:"method",key:"willUpdate",value:function(e){if(this.hasUpdated||this.hass.loadFragmentTranslation("lovelace"),e.has("hass")){var t=e.get("hass");(null==t?void 0:t.locale)!==this.hass.locale&&this._setLovelace(),t&&t.localize!==this.hass.localize&&this._reloadView()}}},{kind:"method",key:"render",value:function(){var e;return(0,$.qy)(ae||(ae=(0,c.A)([' <div class="header"> <div class="toolbar"> <ha-menu-button slot="navigationIcon" .hass="','" .narrow="','"></ha-menu-button> ',' <hui-energy-period-selector .hass="','" collectionKey="energy_dashboard"> ',' </hui-energy-period-selector> </div> </div> <div id="view" @reload-energy-panel="','"> <hui-view .hass="','" .narrow="','" .lovelace="','" .index="','"></hui-view> </div> '])),this.hass,this.narrow,this.narrow?$.s6:(0,$.qy)(re||(re=(0,c.A)(['<div class="main-title"> '," </div>"])),this.hass.localize("panel.energy")),this.hass,null!==(e=this.hass.user)&&void 0!==e&&e.is_admin?(0,$.qy)(ie||(ie=(0,c.A)([' <ha-list-item slot="overflow-menu" graphic="icon" @request-selected="','"> <ha-svg-icon slot="graphic" .path="','"> </ha-svg-icon> ',' </ha-list-item> <ha-list-item slot="overflow-menu" graphic="icon" @request-selected="','"> <ha-svg-icon slot="graphic" .path="','"> </ha-svg-icon> '," </ha-list-item> "])),this._navigateConfig,"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",this.hass.localize("ui.panel.energy.configure"),this._dumpCSV,"M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z",this.hass.localize("ui.panel.energy.download_data")):$.s6,this._reloadView,this.hass,this.narrow,this._lovelace,this._viewIndex)}},{kind:"method",key:"_setLovelace",value:function(){var e,t;this._lovelace={config:se,rawConfig:se,editMode:!1,urlPath:"energy",mode:"generated",locale:this.hass.locale,enableFullEditMode:function(){},saveConfig:(t=(0,s.default)((0,o.default)().mark((function e(){return(0,o.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",void 0);case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)}),deleteConfig:(e=(0,s.default)((0,o.default)().mark((function e(){return(0,o.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",void 0);case 1:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)}),setEditMode:function(){}}}},{kind:"method",key:"_navigateConfig",value:function(e){e.stopPropagation(),(0,Q.o)("/config/energy?historyBack=1")}},{kind:"method",key:"_dumpCSV",value:(n=(0,s.default)((0,o.default)().mark((function e(t){var n,a,r,i,s,c,l,u,d,f,h,p,v,g,m,b,y,_,k,x,w,A,C,L;return(0,o.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),(n=(0,X.tb)(this.hass,{key:"energy_dashboard"})).prefs&&n.state.stats){e.next=4;break}return e.abrupt("return");case 4:a=(0,X.KJ)(this.hass,n.prefs,n.state.statsMetadata)||"",r=(0,X.yM)(this.hass),i="kWh",s=n.prefs.energy_sources,c=n.prefs.device_consumption,l=n.state.stats,u=new Set,Object.values(l).forEach((function(e){e.forEach((function(e){u.add(e.start)}))})),d=Array.from(u).sort(),f="entity_id,type,unit,"+d.map((function(e){return new Date(e).toISOString()})).join(",")+"\n",(h=[])[0]=f,p=function(e,t,n){var a=0,r=[];l[e]&&(r.push(e),r.push(t),r.push(n.normalize("NFKD")),d.forEach((function(t){if(l[e][a].start>t)r.push("");else if(a<l[e].length&&l[e][a].start===t){var n;r.push((null!==(n=l[e][a].change)&&void 0!==n?n:"").toString()),a++}else r.push("")})),h.push(r.join(",")+"\n"))},v=this.hass.config.currency,g=function(e,t,a,r){t.length&&(t.forEach((function(t){return p(t,e,a)})),r&&t.forEach((function(e){var t=n.state.info.cost_sensors[e];n.state.info.cost_sensors[e]&&p(t,r,v)})))},m=[],b=[],s.filter((function(e){return"grid"===e.type})).forEach((function(e){e.flow_from.forEach((function(e){m.push(e.stat_energy_from)})),e.flow_to.forEach((function(e){b.push(e.stat_energy_to)}))})),g("grid_consumption",m,i,"grid_consumption_cost"),g("grid_return",b,i,"grid_return_compensation"),y=[],_=[],s.filter((function(e){return"battery"===e.type})).forEach((function(e){y.push(e.stat_energy_to),_.push(e.stat_energy_from)})),g("battery_in",y,i),g("battery_out",_,i),k=[],s.filter((function(e){return"solar"===e.type})).forEach((function(e){k.push(e.stat_energy_from)})),g("solar_production",k,i),x=[],s.filter((function(e){return"gas"===e.type})).forEach((function(e){x.push(e.stat_energy_from)})),g("gas_consumption",x,a,"gas_consumption_cost"),w=[],s.filter((function(e){return"water"===e.type})).forEach((function(e){w.push(e.stat_energy_from)})),g("water_consumption",w,r,"water_consumption_cost"),A=[],c.forEach((function(e){A.push(e.stat_consumption)})),g("device_consumption",A,i),C=new Blob(h,{type:"text/csv"}),L=window.URL.createObjectURL(C),(0,ee.R)(L,"energy.csv");case 44:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{kind:"method",key:"_reloadView",value:function(){var e=this._lovelace.config;this._lovelace=Object.assign(Object.assign({},this._lovelace),{},{config:Object.assign(Object.assign({},e),{},{views:[Object.assign({},e.views[0])]})})}},{kind:"get",static:!0,key:"styles",value:function(){return[J.RF,(0,$.AH)(oe||(oe=(0,c.A)([":host hui-energy-period-selector{width:100%;padding-left:32px;padding-inline-start:32px;padding-inline-end:initial;--disabled-text-color:rgba(var(--rgb-text-primary-color), 0.5);direction:var(--direction);--date-range-picker-max-height:calc(100vh - 80px)}:host([narrow]) hui-energy-period-selector{padding-left:0px;padding-inline-start:0px;padding-inline-end:initial}:host{-ms-user-select:none;-webkit-user-select:none;-moz-user-select:none}.header{background-color:var(--app-header-background-color);color:var(--app-header-text-color,#fff);border-bottom:var(--app-header-border-bottom,none);position:fixed;top:0;width:var(--mdc-top-app-bar-width,100%);padding-top:env(safe-area-inset-top);z-index:4;transition:box-shadow .2s linear;display:flex;flex-direction:row;-webkit-backdrop-filter:var(--app-header-backdrop-filter,none);backdrop-filter:var(--app-header-backdrop-filter,none)}:host([scrolled]) .header{box-shadow:var(--mdc-top-app-bar-fixed-box-shadow,0px 2px 4px -1px rgba(0,0,0,.2),0px 4px 5px 0px rgba(0,0,0,.14),0px 1px 10px 0px rgba(0,0,0,.12))}.toolbar{height:var(--header-height);display:flex;flex:1;align-items:center;font-size:20px;padding:0px 12px;font-weight:400;box-sizing:border-box}@media (max-width:599px){.toolbar{padding:0 4px}}.main-title{margin:var(--margin-title);line-height:20px;flex-grow:1}#view{position:relative;display:flex;padding-top:calc(var(--header-height) + env(safe-area-inset-top));min-height:100vh;box-sizing:border-box;padding-left:env(safe-area-inset-left);padding-right:env(safe-area-inset-right);padding-inline-start:env(safe-area-inset-left);padding-inline-end:env(safe-area-inset-right);padding-bottom:env(safe-area-inset-bottom);background:var(--lovelace-background,var(--primary-background-color))}#view>*{flex:1 1 100%;max-width:100%}"])))]}}]}}),$.WF),i(),e.next=110;break;case 107:e.prev=107,e.t2=e.catch(0),i(e.t2);case 110:case"end":return e.stop()}}),e,null,[[0,107]])})));return function(t,n){return e.apply(this,arguments)}}())},24168:function(e,t,n){var a=n(1781),r=n(94881);n.a(e,function(){var e=a(r().mark((function e(t,a){var i,o,s,c,l,u,d,f,h,p,v,g,m,b,y,_,k,x,w,A,C,L,D,S,E,M,O,P,T,z,R,H,I,j,W,Z,V,U,N,B,q,F,$,G,J,K;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=n(6238),o=n(23141),s=n(94881),c=n(1781),l=n(36683),u=n(89231),d=n(29864),f=n(83647),h=n(8364),p=n(76504),v=n(80792),g=n(77052),n.n(g),n(34069),m=n(93352),b=n(79113),y=n(53026),_=n(56994),k=n(70249),x=n(21748),w=n(3889),A=n(77354),C=n(92627),L=n(11213),D=n(27890),S=n(81438),E=n(72502),M=n(57442),O=n(23177),P=n(39937),T=n(94061),z=n(42180),R=n(40924),H=n(196),I=n(45081),j=n(72586),W=n(15263),Z=n(77396),V=n(47394),n(59151),n(24630),U=n(20534),n(22609),n(84297),N=n(41525),B=n(94027),q=n(50386),!(F=t([W,Z,U,N])).then){e.next=56;break}return e.next=52,F;case 52:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=57;break;case 56:e.t0=F;case 57:$=e.t0,W=$[0],Z=$[1],U=$[2],N=$[3],"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",(0,h.A)([(0,H.EM)("hui-energy-period-selector")],(function(e,t){var n,a=function(t){function n(){var t;(0,u.A)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=(0,d.A)(this,n,[].concat(r)),e(t),t}return(0,f.A)(n,t),(0,l.A)(n)}(t);return{F:a,d:[{kind:"field",decorators:[(0,H.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,H.MZ)()],key:"collectionKey",value:void 0},{kind:"field",decorators:[(0,H.MZ)({type:Boolean,reflect:!0})],key:"narrow",value:void 0},{kind:"field",decorators:[(0,H.wk)()],key:"_startDate",value:void 0},{kind:"field",decorators:[(0,H.wk)()],key:"_endDate",value:void 0},{kind:"field",decorators:[(0,H.wk)()],key:"_ranges",value:function(){return{}}},{kind:"field",decorators:[(0,H.wk)()],key:"_compare",value:function(){return!1}},{kind:"field",key:"_resizeObserver",value:void 0},{kind:"method",key:"hassSubscribe",value:function(){var e=this;return[(0,N.tb)(this.hass,{key:this.collectionKey}).subscribe((function(t){return e._updateDates(t)}))]}},{kind:"method",key:"_measure",value:function(){this.narrow=this.offsetWidth<450}},{kind:"method",key:"_attachObserver",value:(n=(0,c.default)((0,s.default)().mark((function e(){var t=this;return(0,s.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._resizeObserver){e.next=4;break}return e.next=3,(0,q.M)();case 3:this._resizeObserver=new ResizeObserver((0,V.s)((function(){return t._measure()}),250,!1));case 4:this._resizeObserver.observe(this);case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{kind:"method",key:"firstUpdated",value:function(){this._attachObserver()}},{kind:"method",key:"connectedCallback",value:function(){var e=this;(0,p.A)((0,v.A)(a.prototype),"connectedCallback",this).call(this),this.updateComplete.then((function(){return e._attachObserver()}))}},{kind:"method",key:"disconnectedCallback",value:function(){(0,p.A)((0,v.A)(a.prototype),"disconnectedCallback",this).call(this),this._resizeObserver&&this._resizeObserver.disconnect()}},{kind:"method",key:"willUpdate",value:function(e){var t,n;if((0,p.A)((0,v.A)(a.prototype),"willUpdate",this).call(this,e),this.hasUpdated||this._measure(),!this.hasUpdated||e.has("hass")&&(null===(t=this.hass)||void 0===t?void 0:t.localize)!==(null===(n=e.get("hass"))||void 0===n?void 0:n.localize)){var r=new Date,i=(0,W.PE)(this.hass.locale);this._ranges=(0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)({},this.hass.localize("ui.components.date-range-picker.ranges.today"),[(0,j.ol)(r,m.o,this.hass.locale,this.hass.config,{weekStartsOn:i}),(0,j.ol)(r,b.D,this.hass.locale,this.hass.config,{weekStartsOn:i})]),this.hass.localize("ui.components.date-range-picker.ranges.yesterday"),[(0,j.ol)((0,j.ol)(r,y.e,this.hass.locale,this.hass.config,1),m.o,this.hass.locale,this.hass.config,{weekStartsOn:i}),(0,j.ol)((0,j.ol)(r,y.e,this.hass.locale,this.hass.config,1),b.D,this.hass.locale,this.hass.config,{weekStartsOn:i})]),this.hass.localize("ui.components.date-range-picker.ranges.this_week"),[(0,j.ol)(r,_.k,this.hass.locale,this.hass.config,{weekStartsOn:i}),(0,j.ol)(r,k.$,this.hass.locale,this.hass.config,{weekStartsOn:i})]),this.hass.localize("ui.components.date-range-picker.ranges.this_month"),[(0,j.ol)(r,x.w,this.hass.locale,this.hass.config),(0,j.ol)(r,w.p,this.hass.locale,this.hass.config)]),this.hass.localize("ui.components.date-range-picker.ranges.this_quarter"),[(0,j.ol)(r,A.a,this.hass.locale,this.hass.config),(0,j.ol)(r,C.j,this.hass.locale,this.hass.config)]),this.hass.localize("ui.components.date-range-picker.ranges.this_year"),[(0,j.ol)(r,L.D,this.hass.locale,this.hass.config),(0,j.ol)(r,D.Q,this.hass.locale,this.hass.config)])}}},{kind:"method",key:"render",value:function(){if(!this.hass||!this._startDate)return R.s6;var e=this._simpleRange(this._startDate,this._endDate,this.hass.locale,this.hass.config);return(0,R.qy)(G||(G=(0,i.A)([' <div class="row"> <div class="label"> ',' </div> <div class="time-handle"> <ha-icon-button-prev .label="','" @click="','"></ha-icon-button-prev> <ha-icon-button-next .label="','" @click="','"></ha-icon-button-next> <ha-date-range-picker .hass="','" .startDate="','" .endDate="','" .ranges="','" @change="','" .timePicker="','" minimal></ha-date-range-picker> </div> ',' <ha-button-menu> <ha-icon-button slot="trigger" .label="','" .path="','"></ha-icon-button> <ha-check-list-item left @request-selected="','" .selected="','"> ',' </ha-check-list-item> <slot name="overflow-menu"></slot> </ha-button-menu> </div> '])),"day"===e?this.narrow?(0,Z.kz)(this._startDate,this.hass.locale,this.hass.config):(0,Z.Yq)(this._startDate,this.hass.locale,this.hass.config):"month"===e?(0,Z.fr)(this._startDate,this.hass.locale,this.hass.config):"year"===e?(0,Z.Pm)(this._startDate,this.hass.locale,this.hass.config):"".concat((0,Z.sl)(this._startDate,this.hass.locale,this.hass.config)," – ").concat((0,Z.sl)(this._endDate||new Date,this.hass.locale,this.hass.config)),this.hass.localize("ui.panel.lovelace.components.energy_period_selector.previous"),this._pickPrevious,this.hass.localize("ui.panel.lovelace.components.energy_period_selector.next"),this._pickNext,this.hass,this._startDate,this._endDate||new Date,this._ranges,this._dateRangeChanged,!1,this.narrow?R.s6:(0,R.qy)(J||(J=(0,i.A)(['<mwc-button dense outlined @click="','"> '," </mwc-button>"])),this._pickToday,this.hass.localize("ui.panel.lovelace.components.energy_period_selector.today")),this.hass.localize("ui.common.menu"),"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",this._toggleCompare,this._compare,this.hass.localize("ui.panel.lovelace.components.energy_period_selector.compare"))}},{kind:"field",key:"_simpleRange",value:function(){return(0,I.A)((function(e,t,n,a){if(0===(0,S.c)(t,e))return"day";if((0,j.xo)(e,E.e,n,a)&&(0,j.xo)(t,M.c,n,a)){if(0===(0,j.EO)(t,e,O.W,n,a))return"month";if(2===(0,j.EO)(t,e,O.W,n,a)&&e.getMonth()%3==0)return"quarter"}return(0,j.xo)(e,E.e,n,a)&&(0,j.xo)(t,M.c,n,a)&&11===(0,j.EO)(t,e,O.W,n,a)?"year":"other"}))}},{kind:"method",key:"_updateCollectionPeriod",value:function(){var e=(0,N.tb)(this.hass,{key:this.collectionKey});e.setPeriod(this._startDate,this._endDate),e.refresh()}},{kind:"method",key:"_dateRangeChanged",value:function(e){var t=(0,W.PE)(this.hass.locale);this._startDate=(0,j.ol)(e.detail.startDate,m.o,this.hass.locale,this.hass.config,{weekStartsOn:t}),this._endDate=(0,j.ol)(e.detail.endDate,b.D,this.hass.locale,this.hass.config,{weekStartsOn:t}),this._updateCollectionPeriod()}},{kind:"method",key:"_pickToday",value:function(){if(this._startDate){var e=this._simpleRange(this._startDate,this._endDate,this.hass.locale,this.hass.config),t=new Date;if("month"===e)this._startDate=(0,j.ol)(t,x.w,this.hass.locale,this.hass.config),this._endDate=(0,j.ol)(t,w.p,this.hass.locale,this.hass.config);else if("quarter"===e)this._startDate=(0,j.ol)(t,A.a,this.hass.locale,this.hass.config),this._endDate=(0,j.ol)(t,C.j,this.hass.locale,this.hass.config);else if("year"===e)this._startDate=(0,j.ol)(t,L.D,this.hass.locale,this.hass.config),this._endDate=(0,j.ol)(t,D.Q,this.hass.locale,this.hass.config);else{var n=(0,W.PE)(this.hass.locale),a=(0,j.ol)(this._endDate,_.k,this.hass.locale,this.hass.config,{weekStartsOn:n}),r=(0,j.ol)(this._endDate,k.$,this.hass.locale,this.hass.config,{weekStartsOn:n});if(this._startDate.getTime()===a.getTime()&&this._endDate.getTime()===r.getTime())this._startDate=(0,j.ol)(t,_.k,this.hass.locale,this.hass.config,{weekStartsOn:n}),this._endDate=(0,j.ol)(t,k.$,this.hass.locale,this.hass.config,{weekStartsOn:n});else{var i=(0,j.EO)(this._endDate,this._startDate,S.c,this.hass.locale,this.hass.config);this._startDate=(0,j.ol)((0,j.ol)(t,y.e,this.hass.locale,this.hass.config,i),m.o,this.hass.locale,this.hass.config,{weekStartsOn:n}),this._endDate=(0,j.ol)(t,b.D,this.hass.locale,this.hass.config,{weekStartsOn:n})}}this._updateCollectionPeriod()}}},{kind:"method",key:"_pickPrevious",value:function(){this._shift(!1)}},{kind:"method",key:"_pickNext",value:function(){this._shift(!0)}},{kind:"method",key:"_shift",value:function(e){if(this._startDate){var t,n;if((0,j.xo)(this._startDate,E.e,this.hass.locale,this.hass.config)&&(0,j.xo)(this._endDate,M.c,this.hass.locale,this.hass.config)){var a=((0,j.EO)(this._endDate,this._startDate,O.W,this.hass.locale,this.hass.config)+1)*(e?1:-1);t=(0,j.ol)(this._startDate,P.P,this.hass.locale,this.hass.config,a),n=(0,j.ol)((0,j.ol)(this._endDate,P.P,this.hass.locale,this.hass.config,a),w.p,this.hass.locale,this.hass.config)}else{var r=((0,j.EO)(this._endDate,this._startDate,S.c,this.hass.locale,this.hass.config)+1)*(e?1:-1);t=(0,j.ol)(this._startDate,T.f,this.hass.locale,this.hass.config,r),n=(0,j.ol)(this._endDate,T.f,this.hass.locale,this.hass.config,r)}this._startDate=t,this._endDate=n,this._updateCollectionPeriod()}}},{kind:"method",key:"_updateDates",value:function(e){this._compare=void 0!==e.startCompare,this._startDate=e.start,this._endDate=e.end||(0,z.o)()}},{kind:"method",key:"_toggleCompare",value:function(e){if("interaction"===e.detail.source){this._compare=e.detail.selected;var t=(0,N.tb)(this.hass,{key:this.collectionKey});t.setCompare(this._compare),t.refresh()}}},{kind:"get",static:!0,key:"styles",value:function(){return(0,R.AH)(K||(K=(0,i.A)([".row{display:flex;align-items:center}:host .time-handle{display:flex;justify-content:flex-end;align-items:center}:host([narrow]) .time-handle{margin-left:auto;margin-inline-start:auto;margin-inline-end:initial}.label{display:flex;align-items:center;justify-content:flex-end;font-size:20px;margin-left:auto;margin-inline-start:auto;margin-inline-end:initial}:host([narrow]) .label{margin-left:unset;margin-inline-start:unset;margin-inline-end:initial}mwc-button{margin-left:8px;margin-inline-start:8px;margin-inline-end:initial;flex-shrink:0;--mdc-button-outline-color:currentColor;--primary-color:currentColor;--mdc-theme-primary:currentColor;--mdc-theme-on-primary:currentColor;--mdc-button-disabled-outline-color:var(--disabled-text-color);--mdc-button-disabled-ink-color:var(--disabled-text-color)}"])))}}]}}),(0,B.E)(R.WF)),a(),e.next=70;break;case 67:e.prev=67,e.t2=e.catch(0),a(e.t2);case 70:case"end":return e.stop()}}),e,null,[[0,67]])})));return function(t,n){return e.apply(this,arguments)}}())},69825:function(e,t,n){n.d(t,{B:function(){return r},a:function(){return i}});var a=n(66123);n(77052),n(19954),n(51856),n(68113),n(3359),n(64148),n(66274),n(91078);function r(e){return Array.isArray(e)?e.reverse().reduce((function(e,t){return"var(".concat(t).concat(e?", ".concat(e):"",")")}),void 0):"var(".concat(e,")")}function i(e,t){if(Array.isArray(e)){var n,r=(0,a.A)(e);try{for(r.s();!(n=r.n()).done;){var o=i(n.value,t);if(o)return o}}catch(s){r.e(s)}finally{r.f()}}else if(e.endsWith("-color"))return t.getPropertyValue(e).trim()||void 0}},27690:function(e,t,n){n.d(t,{R:function(){return a}});var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=document.createElement("a");n.target="_blank",n.href=e,n.download=t,document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click")),document.body.removeChild(n)}}}]);
//# sourceMappingURL=22845.i2Rn18iy0Xg.js.map