export const id=71932;export const ids=[71932];export const modules={30454:(e,s,i)=>{i.d(s,{$W:()=>u,Dp:()=>h,EC:()=>o,S9:()=>y,XF:()=>a,b1:()=>g,bV:()=>n,lB:()=>r,lg:()=>l,mX:()=>f,oj:()=>d,rY:()=>m,vH:()=>p});var t=i(28825);const o="single",n=10,a=e=>{if("condition"in e&&Array.isArray(e.condition))return{condition:"and",conditions:e.condition};for(const s of["and","or","not"])if(s in e)return{condition:s,conditions:e[s]};return e},r=(e,s)=>{e.callService("automation","trigger",{entity_id:s,skip_condition:!0})},l=(e,s)=>e.callApi("DELETE",`config/automation/config/${s}`);let c;const d=(e,s)=>e.callApi("GET",`config/automation/config/${s}`),u=(e,s)=>e.callWS({type:"automation/config",entity_id:s}),g=(e,s,i)=>e.callApi("POST",`config/automation/config/${s}`,i),f=e=>{c=e,(0,t.o)("/config/automation/edit/new")},p=e=>{f({...e,id:void 0,alias:void 0})},m=()=>{const e=c;return c=void 0,e},h=(e,s,i,t)=>e.connection.subscribeMessage(s,{type:"subscribe_trigger",trigger:i,variables:t}),y=(e,s,i)=>e.callWS({type:"test_condition",condition:s,variables:i})},71932:(e,s,i)=>{i.r(s),i.d(s,{addExternalBarCodeListener:()=>l,attachExternalToApp:()=>r});var t=i(77664),o=i(51150),n=i(30454);const a=new Set,r=e=>{window.addEventListener("haptic",(s=>e.hass.auth.external.fireMessage({type:"haptic",payload:{hapticType:s.detail}}))),e.hass.auth.external.addCommandHandler((s=>c(e,s)))},l=e=>(a.add(e),()=>{a.delete(e)}),c=(e,s)=>{const i=e.hass.auth.external;if("restart"===s.command)e.hass.connection.reconnect(!0),i.fireMessage({id:s.id,type:"result",success:!0,result:null});else if("notifications/show"===s.command)(0,t.r)(e,"hass-show-notifications"),i.fireMessage({id:s.id,type:"result",success:!0,result:null});else if("sidebar/toggle"===s.command){var r;if(null!==(r=o.G.history.state)&&void 0!==r&&r.open)return i.fireMessage({id:s.id,type:"result",success:!1,error:{code:"not_allowed",message:"dialog open"}}),!0;(0,t.r)(e,"hass-toggle-menu"),i.fireMessage({id:s.id,type:"result",success:!0,result:null})}else if("sidebar/show"===s.command){var l;if(null!==(l=o.G.history.state)&&void 0!==l&&l.open)return i.fireMessage({id:s.id,type:"result",success:!1,error:{code:"not_allowed",message:"dialog open"}}),!0;(0,t.r)(e,"hass-toggle-menu",{open:!0}),i.fireMessage({id:s.id,type:"result",success:!0,result:null})}else if("automation/editor/show"===s.command){var c;(0,n.mX)(null===(c=s.payload)||void 0===c?void 0:c.config),i.fireMessage({id:s.id,type:"result",success:!0,result:null})}else if("bar_code/scan_result"===s.command)a.forEach((e=>e(s))),i.fireMessage({id:s.id,type:"result",success:!0,result:null});else{if("bar_code/aborted"!==s.command)return!1;a.forEach((e=>e(s))),i.fireMessage({id:s.id,type:"result",success:!0,result:null})}return!0}}};
//# sourceMappingURL=71932.cnFjDQJES1g.js.map