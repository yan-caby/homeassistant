export const id=29600;export const ids=[29600];export const modules={29600:(t,e,i)=>{i.r(e),i.d(e,{HuiEntityFilterBadge:()=>f});var n=i(62659),s=i(76504),r=i(80792),o=i(40924),a=i(18791),u=i(67792),l=i(67990),c=i(60368),d=i(25684);let f=(0,n.A)([(0,a.EM)("hui-entity-filter-badge")],(function(t,e){class i extends e{constructor(...e){super(...e),t(this)}}return{F:i,d:[{kind:"field",decorators:[(0,a.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,a.wk)()],key:"_config",value:void 0},{kind:"field",key:"_elements",value:void 0},{kind:"field",key:"_configEntities",value:void 0},{kind:"field",key:"_oldEntities",value:void 0},{kind:"method",key:"setConfig",value:function(t){if(!t.entities.length||!Array.isArray(t.entities))throw new Error("Entities must be specified");if(!(t.conditions&&Array.isArray(t.conditions)||t.state_filter&&Array.isArray(t.state_filter)||t.entities.every((t=>"object"==typeof t&&t.state_filter&&Array.isArray(t.state_filter)))))throw new Error("Incorrect filter config");for(;this.lastChild;)this.removeChild(this.lastChild);this._elements=void 0,this._configEntities=(0,l.L)(t.entities),this._oldEntities=void 0,this._config=t}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"shouldUpdate",value:function(t){return!!(t.has("_config")||t.has("hass")&&this.haveEntitiesChanged(t.get("hass")))}},{kind:"method",key:"update",value:function(t){if((0,s.A)((0,r.A)(i.prototype),"update",this).call(this,t),!this.hass||!this._configEntities)return;if(this._elements)for(const t of this._elements)t.hass=this.hass;const e=this._configEntities.filter((t=>{var e,i;const n=this.hass.states[t.entity];if(!n)return!1;const s=null!==(e=t.conditions)&&void 0!==e?e:this._config.conditions;if(s){const e=s.map((e=>(0,c.lB)(e,t.entity)));return(0,c.XH)(e,this.hass)}const r=null!==(i=t.state_filter)&&void 0!==i?i:this._config.state_filter;return!!r&&r.some((t=>(0,u.J)(n,t)))}));if(0===e.length)return this.style.display="none",void(this._oldEntities=e);if(!(this._oldEntities&&e.length===this._oldEntities.length&&e.every(((t,e)=>t===this._oldEntities[e])))){this._elements=[];for(const t of e){const e=(0,d.Y)(t);e.hass=this.hass,this._elements.push(e)}this._oldEntities=e}if(this._elements){for(;this.lastChild;)this.removeChild(this.lastChild);for(const t of this._elements)this.appendChild(t);this.style.display="inline"}}},{kind:"method",key:"haveEntitiesChanged",value:function(t){var e;if(!t)return!0;if(!this._oldEntities||this.hass.localize!==t.localize)return!0;for(const e of this._configEntities){if(this.hass.states[e.entity]!==t.states[e.entity])return!0;if(e.conditions){const i=(0,c.Wx)(e.conditions);for(const e of i)if(this.hass.states[e]!==t.states[e])return!0}}if(null!==(e=this._config)&&void 0!==e&&e.conditions){var i;const e=(0,c.Wx)(null===(i=this._config)||void 0===i?void 0:i.conditions);for(const i of e)if(this.hass.states[i]!==t.states[i])return!0}return!1}}]}}),o.mN)},67792:(t,e,i)=>{i.d(e,{J:()=>n});const n=(t,e)=>{let i,n,s;if("object"==typeof e?(i=e.operator,n=e.value,s=e.attribute?t.attributes[e.attribute]:t.state):(i="==",n=e,s=t.state),"=="===i||"!="===i){const t="number"==typeof n||"string"==typeof n&&n.trim()&&!isNaN(Number(n)),e="number"==typeof s||"string"==typeof s&&s.trim()&&!isNaN(Number(s));t&&e&&(n=Number(n),s=Number(s))}switch(i){case"==":return s===n;case"<=":return s<=n;case"<":return s<n;case">=":return s>=n;case">":return s>n;case"!=":return s!==n;case"in":return!(!Array.isArray(n)&&"string"!=typeof n)&&(Array.isArray(n)&&(n=n.map((t=>`${t}`))),n.includes(s));case"not in":return!(!Array.isArray(n)&&"string"!=typeof n)&&(Array.isArray(n)&&(n=n.map((t=>`${t}`))),!n.includes(s));case"regex":return"string"==typeof n&&(null!==s&&"object"==typeof s?RegExp(n).test(JSON.stringify(s)):RegExp(n).test(s));default:return!1}}},60368:(t,e,i)=>{i.d(e,{Wx:()=>l,XH:()=>u,db:()=>d,lB:()=>f});var n=i(68286),s=i(55970),r=i(83378);function o(t,e){var i;if((0,s.n)(e)&&t.states[e])return null===(i=t.states[e])||void 0===i?void 0:i.state}function a(t,e){var i;const s=t.entity&&e.states[t.entity]?e.states[t.entity].state:r.Hh;let a=null!==(i=t.state)&&void 0!==i?i:t.state_not;if(Array.isArray(a)){const t=a.map((t=>o(e,t))).filter((t=>void 0!==t));a=[...a,...t]}else if("string"==typeof a){const t=o(e,a);a=[a],t&&a.push(t)}return null!=t.state?(0,n.e)(a).includes(s):!(0,n.e)(a).includes(s)}function u(t,e){return t.every((t=>{if("condition"in t)switch(t.condition){case"screen":return!!(i=t).media_query&&matchMedia(i.media_query).matches;case"user":return function(t,e){var i;return!(!t.users||null===(i=e.user)||void 0===i||!i.id)&&t.users.includes(e.user.id)}(t,e);case"numeric_state":return function(t,e){var i;const n=null===(i=t.entity?e.states[t.entity]:void 0)||void 0===i?void 0:i.state;let s=t.above,r=t.below;var a,u;"string"==typeof s&&(s=null!==(a=o(e,s))&&void 0!==a?a:s),"string"==typeof r&&(r=null!==(u=o(e,r))&&void 0!==u?u:r);const l=Number(n),c=Number(s),d=Number(r);return!isNaN(l)&&(null==t.above||isNaN(c)||c<l)&&(null==t.below||isNaN(d)||d>l)}(t,e);case"and":return function(t,e){return!t.conditions||u(t.conditions,e)}(t,e);case"or":return function(t,e){return!t.conditions||t.conditions.some((t=>u([t],e)))}(t,e);default:return a(t,e)}var i;return a(t,e)}))}function l(t){const e=new Set;for(const o of t)if("numeric_state"===o.condition)"string"==typeof o.above&&(0,s.n)(o.above)&&e.add(o.above),"string"==typeof o.below&&(0,s.n)(o.below)&&e.add(o.below);else if("state"===o.condition){var i,r;[...null!==(i=(0,n.e)(o.state))&&void 0!==i?i:[],...null!==(r=(0,n.e)(o.state_not))&&void 0!==r?r:[]].forEach((t=>{t&&(0,s.n)(t)&&e.add(t)}))}else if("conditions"in o&&o.conditions)return new Set([...e,...l(o.conditions)]);return e}function c(t){return null!=t.entity&&(null!=t.state||null!=t.state_not)}function d(t){return t.every((t=>{if("condition"in t)switch(t.condition){case"screen":return null!=t.media_query;case"user":return function(t){return null!=t.users}(t);case"numeric_state":return function(t){return null!=t.entity&&(null!=t.above||null!=t.below)}(t);case"and":case"or":return function(t){return null!=t.conditions}(t);default:return c(t)}return c(t)}))}function f(t,e){return"conditions"in t&&t.conditions?{...t,conditions:t.conditions.map((t=>f(t,e)))}:"state"===t.condition||"numeric_state"===t.condition?{...t,entity:e}:t}}};
//# sourceMappingURL=29600.mGZlSYN6w_s.js.map