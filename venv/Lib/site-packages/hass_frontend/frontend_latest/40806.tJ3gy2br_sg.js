export const id=40806;export const ids=[40806];export const modules={91087:(t,e,i)=>{i.d(e,{g:()=>a,v:()=>n});const n=(t,e,i,n)=>{const[a,s,r]=t.split(".",3);return Number(a)>e||Number(a)===e&&(void 0===n?Number(s)>=i:Number(s)>i)||void 0!==n&&Number(a)===e&&Number(s)===i&&Number(r)>=n},a=t=>t.includes("dev")},55279:(t,e,i)=>{i.d(e,{L:()=>r,t:()=>s});const n={10:"mdi:battery-10",20:"mdi:battery-20",30:"mdi:battery-30",40:"mdi:battery-40",50:"mdi:battery-50",60:"mdi:battery-60",70:"mdi:battery-70",80:"mdi:battery-80",90:"mdi:battery-90",100:"mdi:battery"},a={10:"mdi:battery-charging-10",20:"mdi:battery-charging-20",30:"mdi:battery-charging-30",40:"mdi:battery-charging-40",50:"mdi:battery-charging-50",60:"mdi:battery-charging-60",70:"mdi:battery-charging-70",80:"mdi:battery-charging-80",90:"mdi:battery-charging-90",100:"mdi:battery-charging"},s=(t,e)=>{const i=null!=e?e:t.state;return r(i)},r=(t,e)=>{const i=Number(t);if(isNaN(i))return"off"===t?"mdi:battery":"on"===t?"mdi:battery-alert":"mdi:battery-unknown";const s=10*Math.round(i/10);return e&&i>=10?a[s]:e?"mdi:battery-charging-outline":i<=5?"mdi:battery-alert-variant-outline":n[s]}},40806:(t,e,i)=>{var n=i(62659),a=i(40924),s=i(18791),r=i(86625),o=i(7383),l=i(66596),u=i(37382);i(57780),i(1683);(0,n.A)([(0,s.EM)("ha-state-icon")],(function(t,e){return{F:class extends e{constructor(...e){super(...e),t(this)}},d:[{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"stateObj",value:void 0},{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"stateValue",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"icon",value:void 0},{kind:"method",key:"render",value:function(){var t,e;const i=this.icon||this.stateObj&&(null===(t=this.hass)||void 0===t||null===(t=t.entities[this.stateObj.entity_id])||void 0===t?void 0:t.icon)||(null===(e=this.stateObj)||void 0===e?void 0:e.attributes.icon);if(i)return a.qy`<ha-icon .icon="${i}"></ha-icon>`;if(!this.stateObj)return a.s6;if(!this.hass)return this._renderFallback();const n=(0,u.fq)(this.hass,this.stateObj,this.stateValue).then((t=>t?a.qy`<ha-icon .icon="${t}"></ha-icon>`:this._renderFallback()));return a.qy`${(0,r.T)(n)}`}},{kind:"method",key:"_renderFallback",value:function(){const t=(0,l.t)(this.stateObj);return a.qy` <ha-svg-icon .path="${o.n_[t]||o.lW}"></ha-svg-icon> `}}]}}),a.WF)},37382:(t,e,i)=>{i.d(e,{Gp:()=>p,_4:()=>S,fq:()=>_,u7:()=>f,Yd:()=>b,f$:()=>g});var n=i(47038),a=i(25425),s=i(66596),r=i(18888);var o=i(55279);const l=(t,e)=>{const i=(0,s.t)(t),n=null!=e?e:t.state,a=t.attributes.device_class;switch(i){case"update":return((t,e)=>"on"===(null!=e?e:t.state)?(0,r.Jy)(t)?"mdi:package-down":"mdi:package-up":"mdi:package")(t,n);case"sensor":if("battery"===a)return(0,o.t)(t,n);break;case"device_tracker":return((t,e)=>{const i=null!=e?e:t.state;return"router"===(null==t?void 0:t.attributes.source_type)?"home"===i?"mdi:lan-connect":"mdi:lan-disconnect":["bluetooth","bluetooth_le"].includes(null==t?void 0:t.attributes.source_type)?"home"===i?"mdi:bluetooth-connect":"mdi:bluetooth":"not_home"===i?"mdi:account-arrow-right":"mdi:account"})(t,n);case"sun":return"above_horizon"===n?"mdi:white-balance-sunny":"mdi:weather-night";case"input_datetime":if(!t.attributes.has_date)return"mdi:clock";if(!t.attributes.has_time)return"mdi:calendar"}};var u=i(6699),c=i(91087);const d={entity:{},entity_component:{},services:{domains:{}}},v=async(t,e,i)=>t.callWS({type:"frontend/get_icons",category:e,integration:i}),m=async(t,e,i=!1)=>{if(!i&&e in d.entity)return d.entity[e];if(!(0,u.x)(t,e)||!(0,c.v)(t.connection.haVersion,2024,2))return;const n=v(t,"entity",e).then((t=>null==t?void 0:t.resources[e]));return d.entity[e]=n,d.entity[e]},y=async(t,e,i=!1)=>{var n;return!i&&d.entity_component.resources&&null!==(n=d.entity_component.domains)&&void 0!==n&&n.includes(e)?d.entity_component.resources.then((t=>t[e])):(0,u.x)(t,e)?(d.entity_component.domains=[...t.config.components],d.entity_component.resources=v(t,"entity_component").then((t=>t.resources)),d.entity_component.resources.then((t=>t[e]))):void 0},b=async(t,e,i=!1)=>{if(!e)return!i&&d.services.all||(d.services.all=v(t,"services",e).then((t=>(d.services.domains=t.resources,null==t?void 0:t.resources)))),d.services.all;if(!i&&e in d.services.domains)return d.services.domains[e];if(d.services.all&&!i&&(await d.services.all,e in d.services.domains))return d.services.domains[e];if(!(0,u.x)(t,e))return;const n=v(t,"services",e);return d.services.domains[e]=n.then((t=>null==t?void 0:t.resources[e])),d.services.domains[e]},_=async(t,e,i)=>{var n;const a=null===(n=t.entities)||void 0===n?void 0:n[e.entity_id];if(null!=a&&a.icon)return a.icon;const r=(0,s.t)(e);return h(t,r,e,i,a)},f=async(t,e)=>{if(e.icon)return e.icon;const i=t.states[e.entity_id],a=(0,n.m)(e.entity_id);return h(t,a,i,void 0,e)},h=async(t,e,i,n,a)=>{const s=null==a?void 0:a.platform,r=null==a?void 0:a.translation_key,o=null==i?void 0:i.attributes.device_class,u=null!=n?n:null==i?void 0:i.state;let c;if(r&&s){const i=await m(t,s);if(i){var d,v;const t=null===(d=i[e])||void 0===d?void 0:d[r];c=u&&(null==t||null===(v=t.state)||void 0===v?void 0:v[u])||(null==t?void 0:t.default)}}if(!c&&i&&(c=l(i,u)),!c){const i=await y(t,e);if(i){var b;const t=o&&i[o]||i._;c=u&&(null==t||null===(b=t.state)||void 0===b?void 0:b[u])||(null==t?void 0:t.default)}}return c},p=async(t,e,i,n)=>{var a;let r;const o=(0,s.t)(e),l=e.attributes.device_class,u=null===(a=t.entities)||void 0===a?void 0:a[e.entity_id],c=null==u?void 0:u.platform,d=null==u?void 0:u.translation_key,v=null!=n?n:e.attributes[i];if(d&&c){const e=await m(t,c);if(e){var b,_;const t=null===(b=e[o])||void 0===b||null===(b=b[d])||void 0===b||null===(b=b.state_attributes)||void 0===b?void 0:b[i];r=v&&(null==t||null===(_=t.state)||void 0===_?void 0:_[v])||(null==t?void 0:t.default)}}if(!r){const e=await y(t,o);if(e){var f,h,p;const t=l&&(null===(f=e[l])||void 0===f||null===(f=f.state_attributes)||void 0===f?void 0:f[i])||(null===(h=e._)||void 0===h||null===(h=h.state_attributes)||void 0===h?void 0:h[i]);r=v&&(null==t||null===(p=t.state)||void 0===p?void 0:p[v])||(null==t?void 0:t.default)}}return r},g=async(t,e)=>{let i;const s=(0,n.m)(e),r=(0,a.Y)(e),o=await b(t,s);return o&&(i=o[r]),i||(i=await S(t,s)),i},S=async(t,e,i)=>{const n=await y(t,e);if(n){const t=i&&n[i]||n._;return null==t?void 0:t.default}}},18888:(t,e,i)=>{i.d(e,{A_:()=>f,Jy:()=>v,TY:()=>c,VK:()=>d,W0:()=>b,ev:()=>m,nD:()=>_});var n=i(7383);if(33524==i.j)var a=i(47038);if(33524==i.j)var s=i(66596);var r=i(16327),o=i(95507);if(33524==i.j)var l=i(98876);if(33524==i.j)var u=i(75610);let c=function(t){return t[t.INSTALL=1]="INSTALL",t[t.SPECIFIC_VERSION=2]="SPECIFIC_VERSION",t[t.PROGRESS=4]="PROGRESS",t[t.BACKUP=8]="BACKUP",t[t.RELEASE_NOTES=16]="RELEASE_NOTES",t}({});const d=(t,e=!1)=>(t.state===n.Or||e&&Boolean(t.attributes.skipped_version))&&(0,r.$)(t,c.INSTALL),v=t=>(t=>(0,r.$)(t,c.PROGRESS)&&"number"==typeof t.attributes.in_progress)(t)||!!t.attributes.in_progress,m=(t,e)=>t.callWS({type:"update/release_notes",entity_id:e}),y=(t,e)=>Object.values(t).filter((t=>"update"===(0,s.t)(t))).sort(((t,i)=>"Home Assistant Core"===t.attributes.title?-3:"Home Assistant Core"===i.attributes.title?3:"Home Assistant Operating System"===t.attributes.title?-2:"Home Assistant Operating System"===i.attributes.title?2:"Home Assistant Supervisor"===t.attributes.title?-1:"Home Assistant Supervisor"===i.attributes.title?1:(0,o.S)(t.attributes.title||t.attributes.friendly_name||"",i.attributes.title||i.attributes.friendly_name||"",e))),b=(t,e=!1)=>y(t).filter((t=>d(t,e))),_=async(t,e)=>{const i=y(e.states,e.locale.language).map((t=>t.entity_id));if(!i.length)return void(0,l.showAlertDialog)(t,{title:e.localize("ui.panel.config.updates.no_update_entities.title"),text:e.localize("ui.panel.config.updates.no_update_entities.description"),warning:!0});(0,u.P)(t,{message:e.localize("ui.panel.config.updates.checking_updates")});let n=0;const s=await e.connection.subscribeEvents((i=>{"update"===(0,a.m)(i.data.entity_id)&&(n++,(0,u.P)(t,{message:e.localize("ui.panel.config.updates.updates_refreshed",{count:n})}))}),"state_changed");await e.callService("homeassistant","update_entity",{entity_id:i}),await new Promise((t=>{setTimeout(t,1e4)})),s(),0===n&&(0,u.P)(t,{message:e.localize("ui.panel.config.updates.no_new_updates")})},f=(t,e)=>{const i=t.state,n=t.attributes;if("off"===i){return n.latest_version&&n.skipped_version===n.latest_version?n.latest_version:e.formatEntityState(t)}if("on"===i){if(v(t)){return(0,r.$)(t,c.PROGRESS)&&"number"==typeof n.in_progress?e.localize("ui.card.update.installing_with_progress",{progress:n.in_progress}):e.localize("ui.card.update.installing")}if(n.latest_version)return n.latest_version}return e.formatEntityState(t)}}};
//# sourceMappingURL=40806.tJ3gy2br_sg.js.map